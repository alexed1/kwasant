/*
DayPilot Pro
Copyright (c) 2005 - 2013 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 308
*/
if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotBubble==='undefined'){var DayPilotBubble=DayPilot.BubbleVisible={};};(function(){if(typeof DayPilot.Bubble!=='undefined'){return;};var DayPilotBubble={};DayPilotBubble.mouseMove=function(ev){if(typeof(DayPilotBubble)==='undefined'){return;};DayPilotBubble.mouse=DayPilotBubble.mousePosition(ev);var b=DayPilotBubble.active;if(b&&b.showPosition){var $a=b.showPosition;var $b=DayPilotBubble.mouse;if($a.clientX!==$b.clientX||$a.clientY!==$b.clientY){b.delayedHide();}}};DayPilotBubble.mousePosition=function(e){var $c=DayPilot.page(e);$c.clientY=e.clientY;$c.clientX=e.clientX;return $c;};DayPilot.Bubble=function($d){this.v='308';var $e=this;this.backgroundColor="#ffffff";this.border="1px solid #000000";this.corners='Rounded';this.cssOnly=true;this.hideAfter=500;this.loadingText="Loading...";this.animated=true;this.animation="fast";this.position="EventTop";this.showAfter=500;this.showLoadingLabel=true;this.useShadow=true;this.zIndex=10;this.elements={};this.callBack=function($f){if(this.aspnet()){WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify($f),this.updateView,this,this.callbackError,true);}else{if($f.calendar.internal.bubbleCallBack){$f.calendar.internal.bubbleCallBack($f,this);}else{$f.calendar.bubbleCallBack($f,this);}}};this.callbackError=function($c,$g){alert($c);};this.updateView=function($c,$g){if($e!==$g){throw "Callback object mismatch (internal error)";};DayPilotBubble.active=$e;if($e){if($e.elements.inner){$e.elements.inner.innerHTML=$c;};$e.adjustPosition();if(!$e.animated){$e.addShadow();}}};this.init=function(){DayPilot.re(document.body,'mousemove',DayPilotBubble.mouseMove);};this.aspnet=function(){return(typeof WebForm_DoCallback!=='undefined');};this.rounded=function(){return this.corners==='Rounded';};this.showEvent=function(e,$h){var a=new DayPilotBubble.CallBackArgs(e.calendar||e.root,'Event',e,e.bubbleHtml?e.bubbleHtml():null);if($h){this.show(a);}else{this.showOnMouseOver(a);}};this.showCell=function($i){var a=new DayPilotBubble.CallBackArgs($i.calendar||$i.root,'Cell',$i,$i.staticBubbleHTML?$i.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showTime=function($j){var a=new DayPilotBubble.CallBackArgs($j.calendar||$j.root,'Time',$j,$j.staticBubbleHTML?$j.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showResource=function($k){var a=new DayPilotBubble.CallBackArgs($k.calendar||$k.root,'Resource',$k,$k.staticBubbleHTML?$k.staticBubbleHTML():null);this.showOnMouseOver(a);};this.showHtml=function($l,$m){var a=new DayPilotBubble.CallBackArgs(null,'Html',null,$l);a.div=$m;this.show(a);};this.show=function($n){var $o=this.animated;this.showPosition=DayPilotBubble.mouse;var id;try{id=DayPilot.JSON.stringify($n.object);}catch(e){return;};if(DayPilotBubble.active===this&&this.sourceId===id){return;};if(typeof DayPilot.Menu!=='undefined'&&DayPilot.Menu.active){return;};DayPilotBubble.hideActive();DayPilotBubble.active=this;this.sourceId=id;var $m=document.createElement("div");$m.setAttribute("unselectable","on");if(!this.showLoadingLabel){$m.style.display='none';};document.body.appendChild($m);$m.style.position='absolute';if(!this.cssOnly){if(this.width){$m.style.width=this.width;};$m.style.cursor='default';}else{$m.className=this.prefixCssClass("_main");};$m.style.top='0px';$m.style.left='0px';$m.style.zIndex=this.zIndex+1;if($o){$m.style.visibility='hidden';};$m.onclick=function(){DayPilotBubble.hideActive();};$m.onmousemove=function(e){DayPilotBubble.cancelTimeout();var e=e||window.event;e.cancelBubble=true;};$m.oncontextmenu=function(){return false;};$m.onmouseout=this.delayedHide;var $p=document.createElement("div");$m.appendChild($p);if(this.cssOnly){$p.className=this.prefixCssClass("_main_inner");}else{$p.style.padding='4px';if(this.border){$p.style.border=this.border;};if(this.rounded()){$p.style.MozBorderRadius="5px";$p.style.webkitBorderRadius="5px";$p.style.borderRadius="5px";};$p.style.backgroundColor=this.backgroundColor;};$p.innerHTML=this.loadingText;this.elements.div=$m;this.elements.inner=$p;var $m=this.getDiv($n);if(this.position==="EventTop"&&$m){var $q=2;var $r=DayPilot.abs($m,true);this.mouse=DayPilotBubble.mouse;this.mouse.x=$r.x;this.mouse.y=$r.y;this.mouse.h=$r.h+$q;this.mouse.w=$r.w;}else{this.mouse=DayPilotBubble.mouse;};if(this.showLoadingLabel&&!$o){this.adjustPosition();this.addShadow();};if($n.staticHTML){this.updateView($n.staticHTML,this);}else if(typeof this.onLoad==='function'){var $f={};$f.source=$n.object;$f.async=false;$f.loaded=function(){if(this.async){$e.updateView($f.html,$e);}};this.onLoad($f);if(!$f.async){$e.updateView($f.html,$e);}}else{this.callBack($n);}};this.getDiv=function($n){if($n.div){return $n.div;};if($n.type==='Event'&&$n.calendar&&$n.calendar.internal.findEventDiv){return $n.calendar.internal.findEventDiv($n.object);}};this.prefixCssClass=function($s){if(this.cssClassPrefix){return this.cssClassPrefix+$s;}else{return "";}};this.loadingElement=null;this.loadingStart=function($r){};this.loadingStop=function(){};this.adjustPosition=function(){var $o=this.animated;var $t=this.position;var $u=10;if(!this.elements.div){return;};if(!this.mouse){return;};if(!this.mouse.x||!this.mouse.y){DayPilotBubble.hideActive();return;};var $m=this.elements.div;$m.style.display='';var $v=$m.offsetHeight;var $w=$m.offsetWidth;$m.style.display='none';var wd=DayPilot.wd();var $x=wd.width;var $y=wd.height;if($t==='Mouse'){var $z=22;var $A=10;var top=0;if(this.mouse.clientY>$y-$v+$u){var $B=this.mouse.clientY-($y-$v)+$u;top=(this.mouse.y-$v-$A);}else{top=this.mouse.y+$z;};$m.style.top=Math.max(top,0)+"px";if(this.mouse.clientX>$x-$w+$u){var $C=this.mouse.clientX-($x-$w)+$u;$m.style.left=(this.mouse.x-$C)+'px';}else{$m.style.left=this.mouse.x+'px';}}else if($t==='EventTop'){var $D=2;var top=this.mouse.y-$v-$D;var $E=wd.scrollTop;if(top<$E){top=this.mouse.y+this.mouse.h+$D;};$m.style.top=Math.max(top,0)+'px';var $F=this.mouse.x;if(this.mouse.x+$w+$u>$x){$F=$x-$w-$u;};$m.style.left=$F+'px';};$m.style.display='';if($o){$m.style.display='';var $G={};$G.color=$m.firstChild.style.color;$G.overflow=$m.style.overflow;$m.firstChild.style.color="transparent";$m.style.overflow='hidden';this.removeShadow();DayPilot.pop($m,{"finished":function(){$m.firstChild.style.color=$G.color;$m.style.overflow=$G.overflow;$e.addShadow();},"vertical":"bottom","horizontal":"left","animation":$e.animation});}};this.delayedHide=function(){DayPilotBubble.cancelTimeout();if($e.hideAfter>0){DayPilotBubble.timeout=window.setTimeout(DayPilotBubble.hideActive,$e.hideAfter);}};this.showOnMouseOver=function($n){DayPilotBubble.cancelTimeout();var $H=function($I){return function(){$e.show($I);};};DayPilotBubble.timeout=window.setTimeout($H($n),this.showAfter);};this.hideOnMouseOut=function(){this.delayedHide();};this.addShadow=function(){if(!this.useShadow){return;};if(this.cssOnly){return;};if(!this.elements.div){return;};var $m=this.elements.div;if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $J=document.createElement('div');$J.setAttribute("unselectable","on");$J.style.position='absolute';$J.style.width=$m.offsetWidth+'px';$J.style.height=$m.offsetHeight+'px';$J.style.top=$m.offsetTop+i+'px';$J.style.left=$m.offsetLeft+i+'px';$J.style.zIndex=this.zIndex;$J.style.filter='alpha(opacity:10)';$J.style.opacity=0.1;$J.style.backgroundColor='#000000';if(this.rounded()){$J.style.MozBorderRadius="5px";$J.style.webkitBorderRadius="5px";$J.style.borderRadius="5px";};document.body.appendChild($J);this.shadows.push($J);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};this.removeDiv=function(){if(!this.elements.div){return;};document.body.removeChild(this.elements.div);this.elements.div=null;};if($d){for(var name in $d){this[name]=$d[name];}};this.init();};DayPilotBubble.cancelTimeout=function(){if(DayPilotBubble.timeout){window.clearTimeout(DayPilotBubble.timeout);}};DayPilotBubble.hideActive=function(){DayPilotBubble.cancelTimeout();var $e=DayPilotBubble.active;if($e){$e.removeDiv();$e.removeShadow();};DayPilotBubble.active=null;};DayPilotBubble.CallBackArgs=function($K,$L,$M,$N){this.calendar=$K;this.type=$L;this.object=$M;this.staticHTML=$N;this.toJSON=function(){var $O={};$O.uid=this.calendar.uniqueID;$O.type=this.type;$O.object=$M;return $O;};};DayPilot.BubbleVisible.Bubble=DayPilotBubble.Bubble;DayPilot.BubbleVisible.hideActive=DayPilotBubble.hideActive;DayPilot.BubbleVisible.cancelTimeout=DayPilotBubble.cancelTimeout;DayPilot.Bubble.hideActive=DayPilotBubble.hideActive;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotCalendar==='undefined'){var DayPilotCalendar=DayPilot.CalendarVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Calendar!=='undefined'){return;};DayPilot.Calendar=function(id){this.v='308';var $a=false;if(this instanceof DayPilot.Calendar&&!this.$3n){$a=true;this.$3n=true;};if(!$a){throw "DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";};var $b=this;this.uniqueID=null;this.id=id;this.isCalendar=true;this.api=2;this.clientName=id;this.clientState={};this.$3o={};this.$3o.pixels={};this.$3o.events=[];this.elements={};this.elements.events=[];this.nav={};this.events={};this.hideUntilInit=true;this.fasterDispose=true;this.allDayEventBorderColor="#000000";this.allDayEventFontFamily='Tahoma';this.allDayEventFontSize='8pt';this.allDayEventFontColor="#000000";this.allDayEventHeight=25;this.allowEventOverlap=true;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#999999";this.cellHeight=20;this.cellDuration=30;this.columnMarginRight=5;this.cornerBackColor="#ECE9D8";this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType="Header";this.cssOnly=true;this.dayBeginsHour=0;this.dayEndsHour=24;this.days=1;this.deleteImageUrl=null;this.durationBarColor='blue';this.durationBarVisible=true;this.durationBarWidth=5;this.durationBarImageUrl=null;this.eventArrangement="SideBySide";this.eventBackColor='#ffffff';this.eventBorderColor="#000000";this.eventFontFamily='Tahoma';this.eventFontSize='8pt';this.eventFontColor="#000000";this.eventSelectColor='blue';this.headerFontSize='10pt';this.headerFontFamily='Tahoma';this.headerFontColor="#000000";this.headerHeight=21;this.headerLevels=1;this.height=300;this.heightSpec='BusinessHours';this.hideFreeCells=false;this.hourHalfBorderColor="#F3E4B1";this.hourBorderColor="#EAD098";this.hourFontColor="#000000";this.hourFontFamily="Tahoma";this.hourFontSize="16pt";this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.hourWidth=45;this.initScrollPos=0;this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.locale="en-us";this.messageHideAfter=5000;this.moveBy="Top";this.notifyCommit='Immediate';this.numberFormat="0.00";this.roundedCorners=false;this.rtl=false;this.selectedColor="#316AC5";this.shadow='Fill';this.showToolTip=true;this.showAllDayEvents=false;this.showAllDayEventStartEnd=true;this.showHeader=true;this.showHours=true;this.startDate=new DayPilot.Date().getDatePart();this.timeFormat='Clock12Hours';this.timeHeaderCellDuration=60;this.useEventBoxes='Always';this.useEventSelectionBars=false;this.viewType='Days';this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Enabled';this.eventRightClickHandling='ContextMenu';this.eventDeleteHandling='Disabled';this.eventEditHandling='Update';this.eventHoverHandling='Bubble';this.eventResizeHandling='Update';this.eventMoveHandling='Update';this.eventSelectHandling='Update';this.headerClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling="Enabled";this.transparent=false;this.separateEventsTable=true;this.autoRefreshCount=0;this.doubleClickTimeout=100;this.$3p={};this.$3p.ie=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);this.$3p.ff=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Firefox")!==-1);this.$3p.opera105=(function(){if(/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=10.5;};return false;})();this.$3p.webkit522=(function(){if(/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var v=new Number(RegExp.$1);return v>=522;};return false;})();this.$3p.ie9=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 9")!==-1);this.clearSelection=function(){if(!this.selectedCells){this.selectedCells=[];return;};this.$3q();this.selectedCells=[];};this.$3q=function(){if(!this.selectedCells){return;};for(var j=0;j<this.selectedCells.length;j++){var $c=this.selectedCells[j];if($c){if($c.selected){$c.removeChild($c.selected);$c.firstChild.style.display='';$c.selected=null;}}}};this.cleanSelection=this.clearSelection;this.$3r=function($d,$e,$f){var $g={};$g.action=$d;$g.parameters=$f;$g.data=$e;$g.header=this.$3s();var $h="JSON"+DayPilot.JSON.stringify($g);__doPostBack($b.uniqueID,$h);};this.$3t=function($d,$f,$e,$i){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $i==='undefined'){$i="CallBack";};this.callbackTimeout=window.setTimeout(function(){$b.$3u();},100);var $g={};$g.action=$d;$g.type=$i;$g.parameters=$f;$g.data=$e;$g.header=this.$3s();var $h="JSON"+DayPilot.JSON.stringify($g);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$3v,$h,this.$3w);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$h,this.$3x,this.clientName,this.onCallbackError,true);}};this.$3w=function($j){if(typeof $b.onAjaxError==='function'){var $k={};$k.request=$j;$b.onAjaxError($k);}else if(typeof $b.ajaxError==='function'){$b.ajaxError($j);}};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$3y();c.$3z();if(c.nav.messageClose){c.nav.messageClose.onclick=null;};if(c.nav.hourTable)c.nav.hourTable.oncontextmenu=null;if(c.nav.hourTable)c.nav.hourTable.onmousemove=null;if(c.nav.header)c.nav.header.oncontextmenu=null;if(c.nav.header)c.nav.corner.oncontextmenu=null;c.nav.zoom.onmousemove=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;DayPilot.pu(c.nav.loading);c.$3A();c.$3B();c.nav.select=null;c.nav.cornerRight=null;c.nav.scrollable=null;c.nav.allday=null;c.nav.zoom=null;c.nav.loading=null;c.nav.events=null;c.nav.header=null;c.nav.hourTable=null;c.nav.scrolltop=null;c.nav.scroll=null;c.nav.vsph=null;c.nav.main=null;c.nav.message=null;c.nav.messageClose=null;c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilot.ue(window,'resize',c.$3C);DayPilotCalendar.unregister(c);};this.$3D=function(){var $l=document.getElementById(id);$l.dispose=this.dispose;};this.$3v=function($m){$b.$3x($m.responseText);};this.$3s=function(){var h={};h.v=this.v;h.control="dpc";h.id=this.id;h.clientState=$b.clientState;h.columns=this.$3E();h.days=$b.days;h.startDate=$b.startDate;h.cellDuration=$b.cellDuration;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.heightSpec=$b.heightSpec;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.viewType=$b.viewType;h.dayBeginsHour=$b.dayBeginsHour;h.dayEndsHour=$b.dayEndsHour;h.headerLevels=$b.headerLevels;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.eventHeaderVisible=$b.eventHeaderVisible;h.timeFormat=$b.timeFormat;h.timeHeaderCellDuration=$b.timeHeaderCellDuration;h.locale=$b.locale;h.showAllDayEvents=$b.showAllDayEvents;h.tagFields=$b.tagFields;h.hourNameBackColor=$b.hourNameBackColor;h.hourFontFamily=$b.hourFontFamily;h.hourFontSize=$b.hourFontSize;h.hourFontColor=$b.hourFontColor;h.selected=$b.multiselect.events();h.hashes=$b.hashes;return h;};this.$3F=function(){this.$3G();DayPilot.Areas.hideAll();};this.$3E=function(){var $n=[];$n.ignoreToJSON=true;if(!this.columns){return $n;};for(var i=0;i<this.columns.length;i++){var $o=this.columns[i];var $p=this.$3H($o);$n.push($p);};return $n;};this.$3H=function($o){var $p={};$p.Value=$o.id;$p.Name=$o.name;$p.ToolTip=$o.toolTip;$p.Date=$o.start;$p.Children=this.$3I($o.children);return $p;};this.$3I=function($q){var $r=[];$r.ignoreToJSON=true;if(!$q){return $r;};for(var i=0;i<$q.length;i++){$r.push(this.$3H($q[i]));};return $r;};this.$3x=function($s,$t){var $s=eval("("+$s+")");if($s.BubbleGuid){var $u=$s.BubbleGuid;var $v=this.bubbles[$u];delete this.bubbles[$u];$b.$3J();if(typeof $s.Result.BubbleHTML!=='undefined'){$v.updateView($s.Result.BubbleHTML,$v);};return;};if($s.CallBackRedirect){document.location.href=$s.CallBackRedirect;return;};if(typeof $s.ClientState!=='undefined'){$b.clientState=$s.ClientState;};if($s.UpdateType==="None"){$b.$3J();$b.$3K($s.CallBackData,true);if($s.Message){$b.message($s.Message);};return;};if($s.VsUpdate){var $w=document.createElement("input");$w.type='hidden';$w.name=$b.id+"_vsupdate";$w.id=$w.name;$w.value=$s.VsUpdate;$b.nav.vsph.innerHTML='';$b.nav.vsph.appendChild($w);};$b.$3z();$b.multiselect.clear(true);$b.multiselect.$3L=$s.SelectedEvents;if(typeof $s.TagFields!=='undefined'){$b.tagFields=$s.TagFields;};if(typeof $s.SortDirections!=='undefined'){$b.sortDirections=$s.SortDirections;};if($s.UpdateType==="Full"){$b.colors=$s.Colors;$b.palette=$s.Palette;$b.dirtyColors=$s.DirtyColors;$b.cellProperties=$s.CellProperties;$b.cellConfig=$s.CellConfig;$b.columns=$s.Columns;$b.days=$s.Days;$b.startDate=new DayPilot.Date($s.StartDate).getDatePart();$b.cellDuration=$s.CellDuration;$b.heightSpec=$s.HeightSpec?$s.HeightSpec:$b.heightSpec;$b.businessBeginsHour=$s.BusinessBeginsHour?$s.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$s.BusinessEndsHour?$s.BusinessEndsHour:$b.businessEndsHour;$b.viewType=$s.ViewType;$b.headerLevels=$s.HeaderLevels;$b.backColor=$s.BackColor?$s.BackColor:$b.backColor;$b.nonBusinessBackColor=$s.NonBusinessBackColor?$s.NonBusinessBackColor:$b.nonBusinessBackColor;$b.eventHeaderVisible=$s.EventHeaderVisible?$s.EventHeaderVisible:$b.eventHeaderVisible;$b.timeFormat=$s.TimeFormat?$s.TimeFormat:$b.timeFormat;$b.timeHeaderCellDuration=typeof $s.TimeHeaderCellDuration!=='undefined'?$s.TimeHeaderCellDuration:$b.timeHeaderCellDuration;$b.locale=$s.Locale?$s.Locale:$b.locale;$b.dayBeginsHour=typeof $s.DayBeginsHour!=='undefined'?$s.DayBeginsHour:$b.dayBeginsHour;$b.dayEndsHour=typeof $s.DayEndsHour!=='undefined'?$s.DayEndsHour:$b.dayEndsHour;$b.cornerBackColor=$s.CornerBackColor;$b.cornerHtml=$s.CornerHTML;$b.hours=$s.Hours;$b.$3M();$b.$3N();};if($s.Hashes){for($x in $s.Hashes){$b.hashes[$x]=$s.Hashes[$x];}};$b.$3O($s.Events);$b.$3P();if($s.UpdateType==="Full"||$b.hideFreeCells){$b.$3Q();$b.$3R();$b.$3S();$b.$3T();$b.$3U();$b.$3V();$b.$3W();$b.$3X();$b.clearSelection();};$b.$3Y();$b.$3Z();$b.$40();if($b.timeRangeSelectedHandling!=="HoldForever"){$b.clearSelection();};$b.$41();if($b.todo){if($b.todo.del){var $y=$b.todo.del;$y.parentNode.removeChild($y);$b.todo.del=null;}};$b.$3K($s.CallBackData,true);$b.$3J();$b.$42();if($s.Message){$b.message($s.Message);}};this.$3K=function($e,$z){var $A=function($e,$B){return function(){if($b.$43()){if(typeof $b.onAfterRender==='function'){var $k={};$k.isCallBack=$B;$k.data=$e;$b.onAfterRender($k);}}else{if($b.afterRender){$b.afterRender($e,$B);}}};};window.setTimeout($A($e,$z),0);};this.$44=function($C,$D,$i){var $E=$b.nav.events;var $F=$E.clientWidth/$E.rows[0].cells.length;var i=Math.floor(($b.coords.x-45)/$F);if(i<0){i=0;};var $o=$E.rows[0].cells[i];var $G=0;if(typeof $C.duration!=='undefined'){var $H=$C.duration;var top=Math.floor((($b.coords.y-$G)+$b.cellHeight/ 2)/ $b.cellHeight)*$b.cellHeight+$G;var $I=$H*$b.cellHeight/(60*$b.cellDuration);}else{var e=$C.event;var $I=e.part.height;var top=e.part.top;};var $J=document.createElement('div');$J.setAttribute('unselectable','on');$J.style.position='absolute';$J.style.width='100%';$J.style.height=$I+'px';$J.style.left='0px';$J.style.top=top+'px';$J.style.zIndex=101;$J.exclude=true;var $K=document.createElement("div");$J.appendChild($K);if(this.cssOnly){$J.className=$b.$45("_shadow");$K.className=this.$45("_shadow_inner");};if(!this.cssOnly){$K.style.position="absolute";$K.style.top="0px";$K.style.bottom="0px";$K.style.left="0px";$K.style.right="0px";if($i==='Fill'){$K.style.backgroundColor="#aaaaaa";$K.style.opacity=0.5;$K.style.filter="alpha(opacity=50)";$K.style.border='2px solid #aaaaaa';}else{$K.style.border='2px dotted #666666';};if(this.roundedCorners){$K.style.MozBorderRadius="5px";$K.style.webkitBorderRadius="5px";$K.style.borderRadius="5px";}};$o.firstChild.appendChild($J);return $J;};this.$46=function(){return this.$47()/(3600*1000);};this.$48=function(){if(this.businessBeginsHour>this.businessEndsHour){return 24-this.businessBeginsHour+this.businessEndsHour;}else{return this.businessEndsHour-this.businessBeginsHour;}};this.$49=function(){if(this.dayBeginsHour>=this.dayEndsHour){return 24-this.dayBeginsHour+this.dayEndsHour;}else{return this.dayEndsHour-this.dayBeginsHour;}};this.$47=function($L){var $M=0;if(this.heightSpec==='BusinessHoursNoScroll'){$M=this.$48();}else if(this.hideFreeCells&&!$L){var $N=(this.maxEnd-1)*this.cellDuration/this.cellHeight;var $O=Math.ceil($N/60);$M=Math.max(this.dayBeginsHour+$O,this.businessEndsHour)-this.$4a();}else{$M=this.$49();};return $M*60*60*1000;};this.message=function($P,$Q,$R,$S){if(!$P){return;};var $Q=$Q||this.messageHideAfter||2000;var $R=$R||"#ffffff";var $S=$S||"#000000";var $T=0.8;var $U;var top=this.$4b();var $V=this.hourWidth;var $W=DayPilot.sw($b.nav.scroll);if(!this.cssOnly){top+=1;$V+=2;$W-=2;};if(!this.nav.message){$U=document.createElement("div");$U.style.position="absolute";$U.style.left="0px";$U.style.top=(top)+"px";$U.style.right="0px";$U.style.display='none';$U.style.paddingLeft=($V)+"px";var $K=document.createElement("div");$K.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$K.style.padding="5px";$K.style.opacity=$T;$K.style.filter="alpha(opacity="+($T*100)+")";}else{$K.className=this.$45("_message");};$U.appendChild($K);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$R;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$45("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$U.appendChild(close);this.nav.top.insertBefore($U,this.nav.loading);this.nav.message=$U;this.nav.messageClose=close;}else{this.nav.message.style.top=top+"px";};if(this.nav.cornerRight){this.nav.message.style.paddingRight=$W+"px";}else{this.nav.message.style.paddingRight="0px";};var $X=function(){var $K=$b.nav.message.firstChild;if(!$b.cssOnly){$K.style.padding="5px";$K.style.opacity=$T;$K.style.backgroundColor=$S;$K.style.color=$R;};$K.innerHTML=$P;var end=function(){$b.messageTimeout=setTimeout($b.$4c,$Q);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$X);}else{$X();}};this.message.show=function($P){$b.message($P);};this.message.hide=function(){$b.$4c();};this.$4c=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.$3T=function(){if(this.nav.message){this.nav.message.style.top=(this.$4b())+"px";}};this.$4d=function(){return this.$47()/(60*1000*this.cellDuration);};this.eventClickPostBack=function(e,$e){this.$3r('EventClick',$e,e);};this.eventClickCallBack=function(e,$e){this.$3t('EventClick',e,$e);};this.$4e=function(e){var $U=this;var e=e||window.event;var $Y=e.ctrlKey;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if($b.eventDoubleClickHandling==='Disabled'){$b.$4f($U,$Y);return;};if(!$b.timeouts){$b.timeouts=[];}else{for(var $Z in $b.timeouts){window.clearTimeout($b.timeouts[$Z]);};$b.timeouts=[];};var $00=function($U,$Y){return function(){$b.$4f($U,$Y);};};$b.timeouts.push(window.setTimeout($00(this,$Y),$b.doubleClickTimeout));};this.$4f=function($01,$Y){var e=$01.event;if(!e.client.clickEnabled()){return;};if($b.$43()){var $k={};$k.e=e;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($k);if($k.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$4g($01);};break;case 'Select':if(!e.allday()){$b.$4h($01,e,$Y);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $02=e.client.contextMenu();if($02){$02.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($k);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':if(!e.allday()){$b.$4g($01);};break;case 'Select':if(!e.allday()){$b.$4h($01,e,$Y);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;case 'ContextMenu':var $02=e.client.contextMenu();if($02){$02.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;}}};this.eventDoubleClickPostBack=function(e,$e){this.$3r('EventDoubleClick',$e,e);};this.eventDoubleClickCallBack=function(e,$e){this.$3t('EventDoubleClick',e,$e);};this.$4i=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $Z in $b.timeouts){window.clearTimeout($b.timeouts[$Z]);};$b.timeouts=null;};var e=this.event;var ev=ev||window.event;if($b.$43()){var $k={};$k.e=e;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($k);if($k.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':if(!e.allday()){$b.$4g(this);};break;case 'Select':if(!e.allday()){$b.$4h(this,e,ev.ctrlKey);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($k);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':if(!e.allday()){$b.$4g(this);};break;case 'Select':if(!e.allday()){$b.$4h(this,e,ev.ctrlKey);};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventRightClickPostBack=function(e,$e){this.$3r('EventRightClick',$e,e);};this.eventRightClickCallBack=function(e,$e){this.$3t('EventRightClick',e,$e);};this.$4j=function(){var e=this.event;if(!e.client.rightClickEnabled()){return false;};if($b.$43()){var $k={};$k.e=e;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($k);if($k.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $02=e.client.contextMenu();if($02){$02.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($k);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $02=e.client.contextMenu();if($02){$02.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};return false;};this.headerClickPostBack=function(c,$e){this.$3r('HeaderClick',$e,c);};this.headerClickCallBack=function(c,$e){this.$3t('HeaderClick',c,$e);};this.$4k=function($C){var $e=this.data;var c=new DayPilotCalendar.Column($e.id,$e.name,$e.start);if($b.$43()){var $k={};$k.header={};$k.header.id=$e.id;$k.header.name=$e.name;$k.header.start=$e.start;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onHeaderClick==='function'){$b.onHeaderClick($k);if($k.preventDefault.value){return;}};switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;};if(typeof $b.onHeaderClicked==='function'){$b.onHeaderClicked($k);}}else{switch($b.headerClickHandling){case 'PostBack':$b.headerClickPostBack(c);break;case 'CallBack':$b.headerClickCallBack(c);break;case 'JavaScript':$b.onHeaderClick(c);break;}}};this.$4l=function(){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){if($b.viewType==="Resources"){var $03={};$03.calendar=$b;$03.id=this.data.id;$03.toJSON=function(){var $04={};$04.id=this.id;return $04;};$b.columnBubble.showResource($03);}else{var $05=new DayPilot.Date(this.data.start);var end=$05.addDays(1);var $06={};$06.calendar=$b;$06.start=$05;$06.end=end;$06.toJSON=function(){var $04={};$04.start=this.start;$04.end=this.end;return $04;};$b.columnBubble.showTime($06);}};var $c=this;var $U=$c.firstChild;if(!$U.active){var $e=$c.data;var c=new DayPilotCalendar.Column($e.id,$e.name,$e.start);c.areas=$c.data.areas;DayPilot.Areas.showAreas($U,c);}};this.$4m=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.columnBubble){$b.columnBubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this.firstChild,ev);};this.eventDeletePostBack=function(e,$e){this.$3r('EventDelete',$e,e);};this.eventDeleteCallBack=function(e,$e){this.$3t('EventDelete',e,$e);};this.$4n=function($C){var e=$C.parentNode.parentNode.event;if($b.$43()){var $k={};$k.e=e;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDelete==='function'){$b.onEventDelete($k);if($k.preventDefault.value){return;}};switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;};if(typeof $b.onEventDeleted==='function'){$b.onEventDeleted($k);}}else{switch($b.eventDeleteHandling){case 'PostBack':$b.eventDeletePostBack(e);break;case 'CallBack':$b.eventDeleteCallBack(e);break;case 'JavaScript':$b.onEventDelete(e);break;}}};this.eventResizePostBack=function(e,$07,$08,$e){if(!$07){throw 'newStart is null';};if(!$08){throw 'newEnd is null';};var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;this.$3r('EventResize',$e,$09);};this.eventResizeCallBack=function(e,$07,$08,$e){if(!$07)throw 'newStart is null';if(!$08)throw 'newEnd is null';var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;this.$3t('EventResize',$09,$e);};this.$4o=function($i,$d,$09,$e){if($i==='PostBack'){$b.postBack2($d,$09,$e);}else if($i==='CallBack'){$b.$3t($d,$09,$e,"CallBack");}else if($i==='Immediate'){$b.$3t($d,$09,$e,"Notify");}else if($i==='Queue'){$b.queue.add(new DayPilot.Action(this,$d,$09,$e));}else if($i==='Notify'){if($0a.notifyType()==='Notify'){$b.$3t($d,$09,$e,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$d,$09,$e));}}else{throw "Invalid event invocation type";}};this.$4a=function($L){if(this.heightSpec==='BusinessHoursNoScroll'){return this.businessBeginsHour;}else if(this.hideFreeCells&&!$L){var $N=(this.minStart-1)*this.cellDuration/this.cellHeight;var $O=Math.floor($N/60);return Math.min(this.dayBeginsHour+$O,this.businessBeginsHour);}else{return this.dayBeginsHour;}};this.$43=function(){return $b.api===2;};this.$4p=function(e,$0b,$0c,$0d){if(this.eventResizeHandling==='Disabled'){return;};var $G=0;var $07=new Date();var $08=new Date();var $05=e.start();var end=e.end();var $0e=$b.cellDuration;if($0d==='top'){var $0f=$05.getDatePart();var $0g=Math.floor(($0c-$G)/$b.cellHeight);var $0h=$0g*$0e;var ts=$0h*60*1000;var $0i=$b.$4a()*60*60*1000;$07=$0f.addTime(ts+$0i);$08=e.end();}else if($0d==='bottom'){var $0f=end.getDatePart();var $0g=Math.floor(($0c+$0b-$G)/$b.cellHeight);var $0h=$0g*$0e;var ts=$0h*60*1000;var $0i=$b.$4a()*60*60*1000;$07=$05;$08=$0f.addTime(ts+$0i);};if($b.$43()){var $k={};$k.e=e;$k.newStart=$07;$k.newEnd=$08;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($k);if($k.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$07,$08);break;case 'CallBack':$b.eventResizeCallBack(e,$07,$08);break;case 'Notify':$b.eventResizeNotify(e,$07,$08);break;case 'Update':e.start($07);e.end($08);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($k);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$07,$08);break;case 'CallBack':$b.eventResizeCallBack(e,$07,$08);break;case 'JavaScript':$b.onEventResize(e,$07,$08);break;case 'Notify':$b.eventResizeNotify(e,$07,$08);break;}}};this.eventResizeNotify=function(e,$07,$08,$e){var $0j=new DayPilot.Event(e.copy(),this);e.start($07);e.end($08);e.commit();$b.update();this.$4q("Notify",$0j,$07,$08,$e);};this.$4q=function($i,e,$07,$08,$e){var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;this.$4o($i,"EventResize",$09,$e);};this.eventMovePostBack=function(e,$07,$08,$0k,$e){if(!$07)throw 'newStart is null';if(!$08)throw 'newEnd is null';var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;$09.newResource=$0k;this.$3r('EventMove',$e,$09);};this.eventMoveCallBack=function(e,$07,$08,$0k,$e){if(!$07)throw 'newStart is null';if(!$08)throw 'newEnd is null';var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;$09.newResource=$0k;this.$3t('EventMove',$09,$e);};this.$4r=function(e,$0l,$0c,ev,$0m){if($b.eventMoveHandling==='Disabled'){return;};var $G=0;var $0g=Math.floor(($0c-$G)/$b.cellHeight);var $0e=$b.cellDuration;var $0n=$0g*$0e*60*1000;var $05=e.start();var end=e.end();var $0f=new Date();if($05.isDayPilotDate){$05=$05.d;};$0f.setTime(Date.UTC($05.getUTCFullYear(),$05.getUTCMonth(),$05.getUTCDate()));var $0o=($b.useEventBoxes!=='Never')?$05.getTime()-($0f.getTime()+$05.getUTCHours()*3600*1000+Math.floor($05.getUTCMinutes()/$0e)*$0e*60*1000):0;var length=end.getTime()-$05.getTime();var $0i=$b.$4a()*3600*1000;var $0p=this.columnsBottom[$0l];var $0q=$0p.start.getTime();var $0r=new Date();$0r.setTime($0q+$0n+$0o+$0i);var $07=new DayPilot.Date($0r);var $08=$07.addTime(length);var external=!!$0m;var $0k=$0p.id;if($b.$43()){var $k={};$k.e=e;$k.newStart=$07;$k.newEnd=$08;$k.newResource=$0k;$k.external=external;$k.ctrl=false;if(ev){$k.ctrl=ev.ctrlKey;};$k.shift=false;if(ev){$k.shift=ev.shiftKey;};$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($k);if($k.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$07,$08,$0k);break;case 'CallBack':$b.eventMoveCallBack(e,$07,$08,$0k);break;case 'Notify':$b.eventMoveNotify(e,$07,$08,$0k);break;case 'Update':e.start($07);e.end($08);e.resource($0k);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($k);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$07,$08,$0k);break;case 'CallBack':$b.eventMoveCallBack(e,$07,$08,$0k);break;case 'JavaScript':$b.onEventMove(e,$07,$08,$0k,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false);break;case 'Notify':$b.eventMoveNotify(e,$07,$08,$0k,null);break;}}};this.eventMoveNotify=function(e,$07,$08,$0k,$e){var $0j=new DayPilot.Event(e.copy(),this);e.start($07);e.end($08);e.resource($0k);e.commit();$b.update();this.$4s("Notify",$0j,$07,$08,$0k,$e);};this.$4s=function($i,e,$07,$08,$0k,$e){var $09={};$09.e=e;$09.newStart=$07;$09.newEnd=$08;$09.newResource=$0k;this.$4o($i,"EventMove",$09,$e);};this.$4t=function($k,$v){var $u=$b.$4u($v);var $09={};$09.args=$k;$09.guid=$u;$b.$3t("Bubble",$09);};this.$4u=function($v){var $u=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$u]=$v;return $u;};this.eventMenuClickPostBack=function(e,$0s,$e){var $09={};$09.e=e;$09.command=$0s;this.$3r('EventMenuClick',$e,$09);};this.eventMenuClickCallBack=function(e,$0s,$e){var $09={};$09.e=e;$09.command=$0s;this.$3t('EventMenuClick',$09,$e);};this.$4v=function($0s,e,$0t){switch($0t){case 'PostBack':$b.eventMenuClickPostBack(e,$0s);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0s);break;}};this.timeRangeMenuClickPostBack=function(e,$0s,$e){var $09={};$09.selection=e;$09.command=$0s;this.$3r("TimeRangeMenuClick",$e,$09);};this.timeRangeMenuClickCallBack=function(e,$0s,$e){var $09={};$09.selection=e;$09.command=$0s;this.$3t("TimeRangeMenuClick",$09,$e);};this.$4w=function($0s,e,$0t){switch($0t){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0s);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0s);break;}};this.timeRangeSelectedPostBack=function($05,end,$0u,$e){var $0v={};$0v.start=$05;$0v.end=end;$0v.resource=$0u;this.$3r('TimeRangeSelected',$e,$0v);};this.timeRangeSelectedCallBack=function($05,end,$0u,$e){var $0v={};$0v.start=$05;$0v.end=end;$0v.resource=$0u;this.$3t('TimeRangeSelected',$0v,$e);};this.$4x=function($05,end,$o){if(!$05.isDayPilotDate){$05=new DayPilot.Date($05);};if(!end.isDayPilotDate){end=new DayPilot.Date(end);};var $0u=$o;if($b.$43()){var $k={};$k.start=$05;$k.end=end;$k.resource=$0u;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($k);if($k.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($05,end,$0u);break;case 'CallBack':$b.timeRangeSelectedCallBack($05,end,$0u);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($k);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($05,end,$o);break;case 'CallBack':$b.timeRangeSelectedCallBack($05,end,$o);break;case 'JavaScript':$b.onTimeRangeSelected($05,end,$o);break;}}};this.timeRangeDoubleClickPostBack=function($05,end,$o,$e){var $0v={};$0v.start=$05;$0v.end=end;$0v.resource=$o;this.$3r('TimeRangeDoubleClick',$e,$0v);};this.timeRangeDoubleClickCallBack=function($05,end,$o,$e){var $0v={};$0v.start=$05;$0v.end=end;$0v.resource=$o;this.$3t('TimeRangeDoubleClick',$0v,$e);};this.$4y=function($05,end,$o){if($b.$43()){var $0u=$o;var $k={};$k.start=$05;$k.end=end;$k.resource=$0u;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($k);if($k.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($05,end,$0u);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($05,end,$0u);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($k);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($05,end,$o);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($05,end,$o);break;case 'JavaScript':$b.onTimeRangeDoubleClick($05,end,$o);break;}}};this.eventEditPostBack=function(e,$0w,$e){var $09={};$09.e=e;$09.newText=$0w;this.$3r("EventEdit",$e,$09);};this.eventEditCallBack=function(e,$0w,$e){var $09={};$09.e=e;$09.newText=$0w;this.$3t("EventEdit",$09,$e);};this.$4z=function(e,$0w){if($b.$43()){var $k={};$k.e=e;$k.newText=$0w;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($k);if($k.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0w);break;case 'CallBack':$b.eventEditCallBack(e,$0w);break;case 'Update':e.text($0w);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($k);if($k.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0w);break;case 'CallBack':$b.eventEditCallBack(e,$0w);break;case 'JavaScript':$b.onEventEdit(e,$0w);break;}}};this.eventSelectPostBack=function(e,$0x,$e){var $09={};$09.e=e;$09.change=$0x;this.$3r('EventSelect',$e,$09);};this.eventSelectCallBack=function(e,$0x,$e){var $09={};$09.e=e;$09.change=$0x;this.$3t('EventSelect',$09,$e);};this.$4A=function($U,e,$Y){if($b.$43()){var m=$b.multiselect;m.previous=m.events();var $k={};$k.e=e;$k.selected=m.isSelected(e);$k.ctrl=$Y;$k.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($k);if($k.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0x);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0x);break;case 'Update':m.$4B($U,$Y);break;};if(typeof $b.onEventSelected==='function'){$k.change=m.isSelected(e)?"selected":"deselected";$k.selected=m.isSelected(e);$b.onEventSelected($k);}}else{var m=$b.multiselect;m.previous=m.events();m.$4B($U,$Y);var $0x=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$0x);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$0x);break;case 'JavaScript':$b.onEventSelect(e,$0x);break;}}};this.commandCallBack=function($0s,$e){this.$3y();var $09={};$09.command=$0s;this.$3t('Command',$09,$e);};this.$4C=function(ev){clearTimeout(DayPilotCalendar.selectedTimeout);if(DayPilotCalendar.selecting){return;};if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};if($b.selectedCells&&$b.timeRangeDoubleClickHandling!=='Disabled'){for(var i=0;i<$b.selectedCells.length;i++){if(this===$b.selectedCells[i]){return;}}};if($b.timeRangeSelectedHandling==="Disabled"){return;};var $0y=(window.event)?window.event.button:ev.which;if($0y!==1&&$0y!==0){return;};DayPilotCalendar.firstMousePos=DayPilot.mc(ev||window.event);$b.clearSelection();DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;};this.$4D=function(){if(!this.selectedCells){return;};var $0z=this.getSelection();if(!$0z){return;};for(var j=0;j<$b.selectedCells.length;j++){var $c=$b.selectedCells[j];if($c&&!$c.selected){var $U=document.createElement("div");$U.style.height=($b.cellHeight-1)+"px";$U.style.backgroundColor=$b.selectedColor;$c.firstChild.style.display="none";$c.insertBefore($U,$c.firstChild);$c.selected=$U;}}};this.$4E=function(ev){if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){$b.cellBubble.hideOnMouseOut();}};this.$4F=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(typeof(DayPilotBubble)!=='undefined'&&$b.cellBubble){var $o=DayPilotCalendar.getColumn(this);var $03=$b.columnsBottom[$o].id;var $c={};$c.calendar=$b;$c.start=this.start;$c.end=this.end;$c.resource=$03;$c.toJSON=function(){var $04={};$04.start=this.start;$04.end=this.end;$04.resource=this.resource;return $04;};$b.cellBubble.showCell($c);};if(DayPilotCalendar.firstMousePos){var $0A=DayPilotCalendar.firstMousePos;var $0B=DayPilot.mc(ev||window.event);if($0A.x!==$0B.x||$0A.y!==$0B.y){DayPilotCalendar.selecting=true;$b.clearSelection();$b.$4D();}};if(!DayPilotCalendar.selecting){return;};var $0C=DayPilot.mc(ev||window.event);var $0D=DayPilotCalendar.getColumn(this);if($0D!==DayPilotCalendar.column){return;};$b.clearSelection();if($0C.y<DayPilotCalendar.firstMousePos.y){$b.selectedCells=DayPilotCalendar.getCellsBelow(this);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove(this);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4D();};this.getSelection=function(){if(!DayPilotCalendar.topSelectedCell){return null;};if(!DayPilotCalendar.bottomSelectedCell){return null;};var $05=DayPilotCalendar.topSelectedCell.start;var end=DayPilotCalendar.bottomSelectedCell.end;var $0E=DayPilotCalendar.topSelectedCell.resource;return new DayPilot.Selection($05,end,$0E,$b);};this.$4G=function(ev){if(DayPilotCalendar.firstMousePos){var $0F=function(){DayPilotCalendar.selecting=true;$b.$4D();DayPilotCalendar.firstMousePos=null;DayPilotCalendar.selecting=false;var $0G=$b.getSelection();$b.$4x($0G.start,$0G.end,$0G.resource);};if(DayPilotCalendar.selecting&&DayPilotCalendar.topSelectedCell!==null){$0F();}else{DayPilotCalendar.selectedTimeout=setTimeout($0F,100);}}else{DayPilotCalendar.selecting=false;}};this.$4H=function(ev){if(!$b.initScrollPos){return;};$b.scrollPos=$b.nav.scroll.scrollTop;$b.scrollHeight=$b.nav.scroll.clientHeight;$b.nav.scrollpos.value=$b.scrollPos;$b.$41();};this.$41=function(){if(!this.scrollLabelsVisible){return;};if(!this.scrollLabels){return;};var $0H=this.columnsBottom;var $0I=(this.showHours?this.hourWidth:0);var $F=this.nav.main.rows[0].cells[0].clientWidth;var iw=10;var $0J=1;for(var i=0;i<$0H.length;i++){var $0K=this.nav.scrollUp[i];var $0L=this.nav.scrollDown[i];$0K.style.left=($0I+i*$F+$F/ 2-(iw/ 2)+$0J)+"px";$0L.style.left=($0I+i*$F+$F/ 2-(iw/ 2)+$0J)+"px";};var $0M=this.$4I();for(var i=0;i<this.nav.scrollUp.length;i++){var up=this.nav.scrollUp[i];var $0N=this.nav.scrollDown[i];var $0O=this.scrollLabels[i].minEnd-$0M;var $0P=this.scrollLabels[i].maxStart-$0M;if(up&&$0N){if($0O<=$b.scrollPos){up.style.top=(this.$4b()+2)+"px";up.style.display='';}else{up.style.display='none';};if($0P>=$b.scrollPos+$b.scrollHeight){$0N.style.top=(this.$4b()+this.scrollHeight-8)+"px";$0N.style.display='';}else{$0N.style.display='none';}}}};this.$4J=function($C){var $0Q=$C.parentNode;while($0Q&&$0Q.tagName!=="TD"){$0Q=$0Q.parentNode;};var $0R=document.createElement('textarea');$0R.style.position='absolute';$0R.style.width=($C.parentNode.offsetWidth-2)+'px';$0R.style.height=($C.offsetHeight-2)+'px';var $0S=DayPilot.gs($C,'fontFamily');if(!$0S)$0S=DayPilot.gs($C,'font-family');$0R.style.fontFamily=$0S;var $0T=DayPilot.gs($C,'fontSize');if(!$0T)$0T=DayPilot.gs($C,'font-size');$0R.style.fontSize=$0T;$0R.style.left='0px';$0R.style.top=$C.offsetTop+'px';$0R.style.border='1px solid black';$0R.style.padding='0px';$0R.style.marginTop='0px';$0R.style.backgroundColor='white';$0R.value=DayPilot.tr($C.event.text());$0R.event=$C.event;$0Q.firstChild.appendChild($0R);return $0R;};this.$4h=function($U,e,$Y){$b.$4A($U,e,$Y);};this.multiselect={};this.multiselect.$3L=[];this.multiselect.$4K=[];this.multiselect.$4L=[];this.multiselect.$4M=[];this.multiselect.$4N=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0U=[];$0U.ignoreToJSON=true;for(var i=0;i<m.$4K.length;i++){$0U.push(m.$4K[i]);};return $0U;};this.multiselect.$4O=function(){var h=$b.nav.select;h.value=$b.multiselect.$4N();};this.multiselect.$4B=function($U,$0V){var m=$b.multiselect;if(m.isSelected($U.event)){if($b.allowMultiSelect){if($0V){m.remove($U.event,true);}else{var $0W=m.$4K.length;m.clear(true);if($0W>1){m.add($U.event,true);}}}else{m.clear(true);}}else{if($b.allowMultiSelect){if($0V){m.add($U.event,true);}else{m.clear(true);m.add($U.event,true);}}else{m.clear(true);m.add($U.event,true);}};m.redraw();m.$4O();};this.multiselect.$4P=function(ev){var m=$b.multiselect;return m.$4Q(ev,m.$3L);};this.multiselect.$4R=function(){var m=$b.multiselect;var $0X=[];for(var i=0;i<m.$4K.length;i++){var event=m.$4K[i];$0X.push(event.value());};alert($0X.join("\n"));};this.multiselect.add=function(ev,$0Y){var m=$b.multiselect;if(m.$4S(ev)===-1){m.$4K.push(ev);};m.$4O();if($0Y){return;};m.redraw();};this.multiselect.remove=function(ev,$0Y){var m=$b.multiselect;var i=m.$4S(ev);if(i!==-1){m.$4K.splice(i,1);};m.$4O();if($0Y){return;};m.redraw();};this.multiselect.clear=function($0Y){var m=$b.multiselect;m.$4K=[];m.$4O();if($0Y){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $U=$b.elements.events[i];if(m.isSelected($U.event)){m.$4T($U);}else{m.$4U($U);}}};this.multiselect.$4T=function($U){var m=$b.multiselect;var cn=$b.cssOnly?$b.$45("_selected"):$b.$45("selected");var c=m.$4V($U);DayPilot.Util.addClass(c,cn);if($b.useEventSelectionBars){m.$4W($U);};m.$4L.push($U);};this.multiselect.$4V=function($U){if($b.cssOnly){return $U;};for(var i=0;i<$U.childNodes.length;i++){var c=$U.childNodes[i];if(c.getAttribute("c")==="1"){return c;}};return null;};this.multiselect.$4X=function(){var m=$b.multiselect;for(var i=0;i<m.$4L.length;i++){var $U=m.$4L[i];m.$4U($U,true);};m.$4L=[];};this.multiselect.$4U=function($U,$0Z){var m=$b.multiselect;var cn=$b.cssOnly?$b.$45("_selected"):$b.$45("selected");var c=m.$4V($U);DayPilot.Util.removeClass(c,cn);if($b.useEventSelectionBars){m.$4Y($U);};if($0Z){return;};var i=DayPilot.indexOf(m.$4L,$U);if(i!==-1){m.$4L.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$4Q(ev,$b.multiselect.$4K);};this.multiselect.$4S=function(ev){return DayPilot.indexOf($b.multiselect.$4K,ev);};this.multiselect.$4Q=function(e,$0X){if(!$0X){return false;};for(var i=0;i<$0X.length;i++){var ei=$0X[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.multiselect.$4W=function($10){var w=5;if(!$10.top){var top=document.createElement("div");top.setAttribute("unselectable","on");top.style.position='absolute';top.style.left=$10.offsetLeft+'px';top.style.width=$10.offsetWidth+'px';top.style.top=($10.offsetTop-w)+'px';top.style.height=w+'px';top.style.backgroundColor=$b.eventSelectColor;top.style.zIndex=100;$10.parentNode.appendChild(top);$10.top=top;};if(!$10.bottom){var $11=document.createElement("div");$11.setAttribute("unselectable","on");$11.style.position='absolute';$11.style.left=$10.offsetLeft+'px';$11.style.width=$10.offsetWidth+'px';$11.style.top=($10.offsetTop+$10.offsetHeight)+'px';$11.style.height=w+'px';$11.style.backgroundColor=$b.eventSelectColor;$11.style.zIndex=100;$10.parentNode.appendChild($11);$10.bottom=$11;}};this.multiselect.$4Y=function($10){if($10.top){$10.parentNode.removeChild($10.top);$10.top=null;};if($10.bottom){$10.parentNode.removeChild($10.bottom);$10.bottom=null;}};this.$4g=function($C){if(DayPilotCalendar.editing){DayPilotCalendar.editing.blur();return;};var $0R=this.$4J($C);DayPilotCalendar.editing=$0R;$0R.onblur=function(){var id=$C.event.value();var $12=$C.event.tag();var $13=$C.event.text();var $0w=$0R.value;DayPilotCalendar.editing=null;$0R.parentNode.removeChild($0R);if($13===$0w){return;};$C.style.display='none';$b.$4z($C.event,$0w);};$0R.onkeypress=function(e){var $14=(window.event)?event.keyCode:e.keyCode;if($14===13){this.onblur();return false;}else if($14===27){$0R.parentNode.removeChild($0R);DayPilotCalendar.editing=false;};return true;};$0R.select();$0R.focus();};this.$3M=function(){if(!this.columns){this.columnsBottom=this.$4Z();this.$50(this.columnsBottom);}else{this.$50(this.columns);this.columnsBottom=this.$51(this.headerLevels,true);}};this.$4Z=function(){var $0H=[];var $05=this.startDate.getDatePart();var $15=this.days;switch(this.viewType){case "Day":$15=1;break;case "Week":$15=7;$05=$05.firstDayOfWeek($0a.locale().weekStarts);break;case "WorkWeek":$15=5;$05=$05.firstDayOfWeek(1);break;};if(this.heightSpec==='BusinessHoursNoScroll'){$05=$05.addHours(this.businessBeginsHour);};for(var i=0;i<$15;i++){var $o={};$o.start=$05.addDays(i);$o.name=$o.start.toString($0a.locale().datePattern);$o.html=$o.name;$0H.push($o);};return $0H;};this.$52=function($o){if($o.Start){$o.id=$o.Value;$o.start=$o.Start;$o.name=$o.Name;$o.html=$o.InnerHTML;$o.toolTip=$o.ToolTip;$o.backColor=$o.BackColor;$o.areas=$o.Areas;$o.children=$o.Children;delete $o.Value;delete $o.Start;delete $o.Name;delete $o.InnerHTML;delete $o.ToolTip;delete $o.BackColor;delete $o.Areas;delete $o.Children;};$o.start=new DayPilot.Date($o.start);$o.getChildren=function($16,$17){var $0X=[];if($16<=1){$0X.push(this);return $0X;};if(!this.children||this.children.length===0){if($17){$0X.push(this);}else{$0X.push("empty");};return $0X;};for(var i=0;i<this.children.length;i++){var $18=this.children[i];var $19=$18.getChildren($16-1,$17);for(var j=0;j<$19.length;j++){$0X.push($19[j]);}};return $0X;};$o.getChildrenCount=function($16){var $0W=0;if(!this.children||this.children.length<=0||$16<=1){return 1;};for(var i=0;i<this.children.length;i++){$0W+=this.children[i].getChildrenCount($16-1);};return $0W;};$o.putIntoBlock=function(ep){for(var i=0;i<this.blocks.length;i++){var $1a=this.blocks[i];if($1a.overlapsWith(ep.part.top,ep.part.height)){$1a.events.push(ep);$1a.min=Math.min($1a.min,ep.part.top);$1a.max=Math.max($1a.max,ep.part.top+ep.part.height);return i;}};var $1a=[];$1a.lines=[];$1a.events=[];$1a.overlapsWith=function($05,$1b){var end=$05+$1b-1;if(!(end<this.min||$05>this.max-1)){return true;};return false;};$1a.putIntoLine=function(ep){var $1c=this;for(var i=0;i<this.lines.length;i++){var $1d=this.lines[i];if($1d.isFree(ep.part.top,ep.part.height)){$1d.push(ep);return i;}};var $1d=[];$1d.isFree=function($05,$1b){var end=$05+$1b-1;var $L=this.length;for(var i=0;i<$L;i++){var e=this[i];if(!(end<e.part.top||$05>e.part.top+e.part.height-1)){return false;}};return true;};$1d.push(ep);this.lines.push($1d);return this.lines.length-1;};$1a.events.push(ep);$1a.min=ep.part.top;$1a.max=ep.part.top+ep.part.height;this.blocks.push($1a);return this.blocks.length-1;};$o.putIntoLine=function(ep){var $1c=this;for(var i=0;i<this.lines.length;i++){var $1d=this.lines[i];if($1d.isFree(ep.part.top,ep.part.height)){$1d.push(ep);return i;}};var $1d=[];$1d.isFree=function($05,$1b){var end=$05+$1b-1;var $L=this.length;for(var i=0;i<$L;i++){var e=this[i];if(!(end<e.part.top||$05>e.part.top+e.part.height-1)){return false;}};return true;};$1d.push(ep);this.lines.push($1d);return this.lines.length-1;};if($o.children){this.$50($o.children);}};this.$50=function(cc){for(var i=0;i<cc.length;i++){this.$52(cc[i]);}};this.$51=function($16,$17){var $1e=this.columns||this.columnsBottom;var $0X=[];for(var i=0;i<$1e.length;i++){var $r=$1e[i].getChildren($16,$17);for(var j=0;j<$r.length;j++){$0X.push($r[j]);}};return $0X;};this.$40=function(){if(!this.showAllDayEvents){return;};var $1f=this.nav.header;$1f.style.display='none';var $0H=this.columnsBottom.length;for(var j=0;j<this.allDay.lines.length;j++){var $1d=this.allDay.lines[j];for(var i=0;i<$1d.length;i++){var $e=$1d[i];var $U=document.createElement("div");$U.event=$e;$U.setAttribute("unselectable","on");$U.style.position='absolute';$U.style.left=(100.0*$e.part.colStart/$0H)+"%";$U.style.width=(100.0*$e.part.colWidth/$0H)+"%";$U.style.height=this.allDayEventHeight+'px';if(!this.cssOnly){$U.style.top=(3+this.headerLevels*this.headerHeight+j*(this.allDayEventHeight+2))+"px";}else{$U.className=this.$45("_alldayevent");$U.style.top=(this.headerLevels*this.headerHeight+j*(this.allDayEventHeight))+"px";};$U.style.textAlign='left';$U.style.lineHeight="1.2";if($e.client.clickEnabled()){$U.onclick=this.$4e;};if($e.client.doubleClickEnabled()){$U.ondblclick=this.$4i;};$U.oncontextmenu=this.$4j;$U.onmousemove=function(ev){var $U=this;if(!$U.active){if($b.cssOnly){DayPilot.Util.addClass($U,$b.$45("_alldayevent_hover"));};DayPilot.Areas.showAreas($U,this.event);};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){$b.bubble.showEvent(this.event);}};$U.onmouseout=function(ev){var $U=this;if($b.cssOnly){DayPilot.Util.removeClass($U,$b.$45("_alldayevent_hover"));};DayPilot.Areas.hideAreas(this,ev);if($b.bubble){$b.bubble.hideOnMouseOut();}};if(this.showToolTip){$U.title=$e.client.toolTip();};var $1g=$e.start().getTime()===$e.part.start.getTime();var $1h=$e.end().getTime()===$e.part.end.getTime();var back=$e.data.backColor;if(!this.cssOnly){var $K=document.createElement("div");$K.setAttribute("unselectable","on");$K.style.marginLeft='2px';$K.style.marginRight='3px';$K.style.paddingLeft='2px';$K.style.height=(this.allDayEventHeight-2)+'px';$K.style.border='1px solid '+this.allDayEventBorderColor;$K.style.overflow='hidden';$K.style.position='relative';$K.style.backgroundColor=back;$K.className=this.$45("alldayevent");if(this.roundedCorners){$K.style.MozBorderRadius="5px";$K.style.webkitBorderRadius="5px";$K.style.borderRadius="5px";};var $1i=[];var $1j=true;var $1k=this.showAllDayEventStartEnd;var $1l=this.showAllDayEventStartEnd;var $1m="Center";var $1n=0;if($1k){if($1m==='Left'){$1i.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray;text-align:right;");$1i.push("width:");$1i.push($1n-4);$1i.push("px;");$1i.push("><span style='background-color:");}else{$1i.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:8pt;color:gray'><span style='background-color:");};$1i.push('transparent');$1i.push("' unselectable='on'>");if($1g){if($e.start().getDatePart().getTime()!==$e.start().getTime()){$1i.push(DayPilot.Date.hours($e.start().d,this.timeFormat==='Clock12Hours'));}}else{$1i.push("~");};$1i.push("</span></div></div>");};if($1l){$1i.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:8pt;color:gray'><span style='background-color:");$1i.push('transparent');$1i.push("' unselectable='on'>");if($1h){if($e.end().getDatePart().getTime()!==$e.end().getTime()){$1i.push(DayPilot.Date.hours($e.end().d,this.timeFormat==='Clock12Hours'));}}else{$1i.push("~");};$1i.push("</span></div></div>");};if($1m==='Left'){var $V=$1k?$1n:0;$1i.push("<div style='margin-top:0px;height:");$1i.push(this.allDayEventHeight-2);$1i.push("px;");$1i.push(";overflow:hidden;text-align:left;padding-left:");$1i.push($V);$1i.push("px;font-size:");$1i.push(this.allDayEventFontSize);$1i.push(";color:");$1i.push(this.allDayEventFontColor);$1i.push(";font-family:");$1i.push(this.eventFontFamily);$1i.push("' unselectable='on'>");if($e.client.innerHTML()){$1i.push($e.client.innerHTML());}else{$1i.push($e.text());};$1i.push("</div>");}else if($1m==='Center'){if($1j){$1i.push("<div style='position:absolute; text-align:center; width: 98%; height:1px;'>");$1i.push("<span style='background-color:");$1i.push('transparent');$1i.push(";font-size:");$1i.push(this.allDayEventFontSize);$1i.push(";color:");$1i.push(this.allDayEventFontColor);$1i.push(";font-family:");$1i.push(this.allDayEventFontFamily);$1i.push("' unselectable='on'>");if($e.client.innerHTML()){$1i.push($e.client.innerHTML());}else{$1i.push($e.text());};$1i.push("</span>");$1i.push("</div>");}else{$1i.push("<div style='margin-top:0px;height:");$1i.push(this.allDayEventHeight-2);$1i.push("px;");$1i.push(";overflow:hidden;text-align:center;font-size:");$1i.push(this.allDayEventFontSize);$1i.push(";color:");$1i.push(this.allDayEventFontColor);$1i.push(";font-family:");$1i.push(this.allDayEventFontFamily);$1i.push("' unselectable='on'>");if($e.client.innerHTML()){$1i.push($e.client.innerHTML());}else{$1i.push($e.text());};$1i.push("</div>");}};$K.innerHTML=$1i.join('');$U.appendChild($K);}else{var $K=document.createElement("div");$K.setAttribute("unselectable","on");$K.className=this.$45("_alldayevent_inner");if(back){$K.style.background=back;};if(!$1g){DayPilot.Util.addClass($U,this.$45("_alldayevent_continueleft"));};if(!$1h){DayPilot.Util.addClass($U,this.$45("_alldayevent_continueright"));};if($e.client.innerHTML()){$K.innerHTML=$e.client.innerHTML();}else{$K.innerHTML=$e.text();};$U.appendChild($K);};if($b.$43()){if(typeof $b.onAfterEventRender==='function'){var $k={};$k.e=$U.event;$k.div=$U;$b.onAfterEventRender($k);}}else{if($b.afterEventRender){$b.afterEventRender($U.event,$U);}};this.nav.allday.appendChild($U);this.elements.events.push($U);}};$1f.style.display='';};this.$3z=function($1o){$b.multiselect.$4X();if(this.elements.events){for(var i=0;i<this.elements.events.length;i++){var $U=this.elements.events[i];var $C=$U.event;if($C&&$1o&&!$C.allday()){continue;};if($C){$C.div=null;$C.root=null;};$U.onclick=null;$U.onclickSave=null;$U.ondblclick=null;$U.oncontextmenu=null;$U.onmouseover=null;$U.onmouseout=null;$U.onmousemove=null;$U.onmousedown=null;if($U.firstChild&&$U.firstChild.firstChild&&$U.firstChild.firstChild.tagName&&$U.firstChild.firstChild.tagName.toUpperCase()==='IMG'){var $1p=$U.firstChild.firstChild;$1p.onmousedown=null;$1p.onmousemove=null;$1p.onclick=null;};$U.helper=null;$U.event=null;DayPilot.de($U);}};this.elements.events=[];};this.$53=function($e){var $E=this.nav.events;var $1q=this.roundedCorners;var $1r=this.roundedCorners&&(this.$3p.ff||this.$3p.opera105||this.$3p.webkit522||this.$3p.ie9);var $1s=this.roundedCorners&&!$1r;var $1t=$e.cache||$e.data;var $1u=$1t.borderColor||this.eventBorderColor;var $U=document.createElement("div");$U.setAttribute("unselectable","on");$U.style.MozUserSelect='none';$U.style.KhtmlUserSelect='none';$U.style.WebkitUserSelect='none';$U.style.position='absolute';if(!this.cssOnly){$U.style.fontFamily=this.eventFontFamily;$U.style.fontSize=this.eventFontSize;$U.style.color=$1t.fontColor||this.eventFontColor;if(!$1q){$U.style.backgroundColor=$1u;};if(this.transparent){$U.style.opacity=0.6;$U.style.filter="alpha(opacity=60)";}}else{$U.className=this.$45("_event");};$U.style.left=$e.part.left+'%';$U.style.top=($e.part.top-this.$4I())+'px';$U.style.width=$e.part.width+'%';$U.style.height=Math.max($e.part.height,2)+'px';$U.style.overflow='hidden';$U.isFirst=$e.part.start.getTime()===$e.start().getTime();$U.isLast=$e.part.end.getTime()===$e.end().getTime();if($e.client.clickEnabled()){$U.onclick=this.$4e;};if($e.client.doubleClickEnabled()){$U.ondblclick=this.$4i;};$U.oncontextmenu=this.$4j;$U.onmousemove=this.$54;$U.onmouseout=this.$55;$U.onmousedown=this.$56;$U.ontouchstart=this.$57.onEventTouchStart;$U.ontouchmove=this.$57.onEventTouchMove;$U.ontouchend=this.$57.onEventTouchEnd;var $1i=[];if(!this.cssOnly){if(this.eventDeleteHandling!=='Disabled'&&$e.client.deleteEnabled()){$1i.push("<div unselectable='on' style='position:absolute; width:100%;text-align:right;'><div style='position:absolute; width:10px; height:10px; right:2px; top: 2px; cursor:pointer;");if(this.deleteImageUrl){$1i.push("background-image:url(\"" + this.deleteImageUrl + "\");");};$1i.push("' class='");$1i.push(this.$45("event_delete"));$1i.push("' onmousemove=\"if(typeof(DayPilotBubble)!=='undefined'&&");$1i.push(this.clientName);$1i.push(".bubble && ");$1i.push(this.clientName);$1i.push(".bubble.hideAfter > 0");$1i.push(") { DayPilotBubble.hideActive(); event.cancelBubble = true; };\" onmousedown=\"this.parentNode.parentNode.style.cursor='default';\" onclick='");$1i.push(this.clientName);$1i.push(".internal.eventDeleteDispatch(this); event.cancelBubble = true; if (event.stopPropagation) event.stopPropagation();' ></div></div>");};if($1s){$1i.push("<div style='margin-right:2px;'>");$1i.push("<div style='height:1px;line-height:1px;font-size:0px; margin-left:2px; background-color:");$1i.push($1u);$1i.push(";'>&nbsp;</div>");$1i.push("</div>");$1i.push("<div unselectable='on' style='position:absolute;width:100%;margin-top:-1px;'>");$1i.push("<div style='height:1px;line-height:1px;font-size:0px;margin-left:1px;margin-top:1px; margin-right:1px;border-right:1px solid ");$1i.push($1u);$1i.push(";border-left:1px solid ");$1i.push($1u);$1i.push(";background-color:");$1i.push($e.client.header()?$1u:$e.BackgroundColor);$1i.push("'>");$1i.push("&nbsp;</div>");$1i.push("</div>");}else if(!$1r){$1i.push("<div style='height:1px;line-height:1px;font-size:0px; width:1px;'>&nbsp;</div>");};$1i.push("<div");if(this.showToolTip){$1i.push(" title='");$1i.push($e.client.toolTip().replace(/'/g,"&apos;"));$1i.push("'");};var $I=Math.max($e.part.height-2,0);$1i.push(" c='1'");$1i.push(" class='");$1i.push($1t.cssClass||this.$45('event'));$1i.push("'");if($1s){$1i.push(" style='margin-top:1px;height:");$1i.push($I-2);}else{$1i.push(" style='margin-top:0px;height:");$1i.push($I);};$1i.push("px;background-color:");$1i.push($e.client.backColor());if($1r){$1i.push(";border:1px solid ");$1i.push($1u);$1i.push(";-moz-border-radius:5px;");$1i.push(";-webkit-border-radius:5px;");$1i.push(";border-radius:5px;");}else{$1i.push(";border-left:1px solid ");$1i.push($1u);$1i.push(";border-right:1px solid ");$1i.push($1u);};$1i.push(";");if($e.data.backgroundImage){$1i.push("background-image:url(");$1i.push($e.data.backgroundImage);$1i.push(");");if($e.data.backgroundRepeat){$1i.push("background-repeat:");$1i.push($e.data.backgroundRepeat);$1i.push(";");}};if($b.rtl){$1i.push("direction:rtl;");};$1i.push("' unselectable='on'>");if(this.durationBarVisible){var $1v=$e.client.barColor()||$b.durationBarColor;$1i.push("<div style='position:absolute;left:1px;top:1px;width:");$1i.push($b.durationBarWidth-1);$1i.push("px;height:");$1i.push($e.part.barTop);$1i.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1i.push("<div style='position:absolute;left:1px;top:");$1i.push($e.part.barTop+$e.part.barHeight);$1i.push("px;width:");$1i.push($b.durationBarWidth-1);$1i.push("px;height:");$1i.push($I-($e.part.barTop+$e.part.barHeight));$1i.push("px;background-color:white;font-size:1px' unselectable='on'></div>");$1i.push("<div style='position:absolute;left:1px;width:");$1i.push($b.durationBarWidth);$1i.push("px;height:");$1i.push($e.part.barHeight);$1i.push("px;");if($e.data.durationBarImageUrl){$1i.push("background-image:url(");$1i.push($e.data.durationBarImageUrl);$1i.push(");");}else if($b.durationBarImageUrl){$1i.push("background-image:url(");$1i.push($b.durationBarImageUrl);$1i.push(");");};$1i.push("top:");$1i.push($e.part.barTop+1);$1i.push("px;background-color:");$1i.push($1v);$1i.push(";font-size:1px' unselectable='on'></div><div style='position:absolute;left:");$1i.push($b.durationBarWidth);$1i.push("px;top:1px;width:1px;background-color:");$1i.push($1u);$1i.push(";height:100%' unselectable='on'></div>");};var $1w=$e.client.header()?this.eventHeaderHeight:0;if($e.client.header()){$1i.push("<div unselectable='on' style='overflow:hidden;height:");$1i.push(this.eventHeaderHeight);$1i.push("px; background-color:");$1i.push($1u);$1i.push(";font-size:");$1i.push(this.eventHeaderFontSize);$1i.push(";color:");$1i.push(this.eventHeaderFontColor);$1i.push("'>");$1i.push($e.client.header());$1i.push("</div>");};if(this.durationBarVisible){$1i.push("<div unselectable='on' style='padding-left:");$1i.push($b.durationBarWidth+3);$1i.push("px;");}else{$1i.push("<div unselectable='on' style='overflow:hidden;padding-left:2px;height:");$1i.push($I-$1w-1);$1i.push("px;");};$1i.push("'>");$1i.push($e.client.innerHTML());$1i.push("</div></div>");if($1s){$1i.push("<div unselectable='on' style='margin-right:2px;'>");$1i.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-left:2px;margin-top:1px;background-color:");$1i.push($1u);$1i.push(";'><!-- --></div>");$1i.push("</div>");$1i.push("<div unselectable='on' style='margin-right:0px;margin-top:-3px;position:relative;'>");$1i.push("<div unselectable='on' style='margin-right:0px;position:relative;'>");$1i.push("<div unselectable='on' style='height:1px;line-height:1px;font-size:0px;margin-top:1px;margin-left:1px;margin-right:1px;border-right:1px solid ");$1i.push($1u);$1i.push(";border-left:1px solid ");$1i.push($1u);$1i.push(";background-color:");$1i.push($e.client.backColor());$1i.push("'>");$1i.push("<!-- --></div>");$1i.push("</div>");$1i.push("</div>");};$U.innerHTML=$1i.join('');}else{if($1t.cssClass){DayPilot.Util.addClass($U,$1t.cssClass);};var $K=document.createElement("div");$K.setAttribute("unselectable","on");$K.className=$b.$45("_event_inner");$K.innerHTML=$e.client.innerHTML();if($1t.backColor){$K.style.background=$1t.backColor;};if($1t.borderColor){$K.style.borderColor=$1t.borderColor;};if($1t.backgroundImage){$K.style.backgroundImage="url("+$1t.backgroundImage+")";if($1t.backgroundRepeat){$K.style.backgroundRepeat=$1t.backgroundRepeat;}};$U.appendChild($K);if($e.client.barVisible()){var $I=$e.part.height-2;var $1x=100*$e.part.barTop/$I;var $1y=Math.ceil(100*$e.part.barHeight/$I);if(this.durationBarMode==="PercentComplete"){$1z=0;$1A=$1t.complete;};var $1B=document.createElement("div");$1B.setAttribute("unselectable","on");$1B.className=this.$45("_event_bar");$1B.style.position="absolute";var $1C=document.createElement("div");$1C.setAttribute("unselectable","on");$1C.className=this.$45("_event_bar_inner");$1C.style.top=$1x+"%";if(0<$1y&&$1y<=1){$1C.style.height="1px";}else{$1C.style.height=$1y+"%";};$1B.appendChild($1C);$U.appendChild($1B);}};if($E.rows[0].cells[$e.part.dayIndex]){var $1D=$E.rows[0].cells[$e.part.dayIndex].firstChild;$1D.appendChild($U);$b.$58($U);$U.event=$e;if($b.multiselect.$4P($e)){$b.multiselect.add($U.event,true);};if($b.$43()){if(typeof $b.onAfterEventRender==='function'){var $k={};$k.e=$U.event;$k.div=$U;$b.onAfterEventRender($k);}}else{if($b.afterEventRender){$b.afterEventRender($U.event,$U);}}};$b.elements.events.push($U);};this.$58=function(el){var c=(el&&el.childNodes)?el.childNodes.length:0;for(var i=0;i<c;i++){try{var $18=el.childNodes[i];if($18.nodeType===1){$18.setAttribute("unselectable","on");this.$58($18);}}catch(e){}}};this.$3Z=function(){this.multiselect.$4K=[];var $05=new Date();for(var i=0;i<this.columnsBottom.length;i++){var $1E=this.columnsBottom[i];for(var m=0;m<$1E.blocks.length;m++){var $1a=$1E.blocks[m];for(var j=0;j<$1a.lines.length;j++){var $1d=$1a.lines[j];for(var k=0;k<$1d.length;k++){var e=$1d[k];e.part.width=100/$1a.lines.length;e.part.left=e.part.width*j;if(this.eventArrangement==='Cascade'){var $1F=(j===$1a.lines.length-1);if(!$1F){e.part.width=e.part.width*1.5;}};if(this.eventArrangement==='Full'){e.part.left=e.part.left/2;e.part.width=100-e.part.left;};if(!e.allday()){this.$53(e);}}}}};this.multiselect.redraw();var end=new Date();var $1G=end.getTime()-$05.getTime();};this.$59=function(){this.multiselect.$4K=[];for(var i=0;i<this.columnsBottom.length;i++){var $1E=this.columnsBottom[i];for(var j=0;j<$1E.lines.length;j++){var $1d=$1E.lines[j];for(var k=0;k<$1d.length;k++){var e=$1d[k];e.part.width=100/$1E.lines.length;e.part.left=e.Width*j;if(!e.allday()){this.$53(e);}}}}};this.$45=function($1H){if(this.cssClassPrefix){return this.cssClassPrefix+$1H;}else{return "";}};this.$3Y=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$5a=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML='';this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';this.nav.top.style.position='relative';if(this.width){this.nav.top.style.width=this.width;};if(!this.cssOnly){this.nav.top.style.lineHeight="1.2";this.nav.top.style.textAlign="left";};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};this.nav.scroll=document.createElement("div");this.nav.scroll.style.height=this.$5b()+"px";if(this.cssOnly){DayPilot.Util.addClass(this.nav.top,this.$45("_main"));};if(this.heightSpec==="Fixed"){this.nav.scroll.style.overflowY="scroll";}else if(this.heightSpec==='BusinessHours'&&this.$46()<=this.businessEndsHour-this.businessBeginsHour){this.nav.scroll.style.overflow="hidden";}else if(this.heightSpec!=="Full"&&this.heightSpec!=="BusinessHoursNoScroll"){this.nav.scroll.style.overflow="auto";}else{this.nav.scroll.style.overflow="hidden";};this.nav.scroll.style.position="relative";if(!this.cssOnly){this.nav.scroll.style.border="1px solid "+this.borderColor;this.nav.scroll.style.backgroundColor=this.hourNameBackColor;};if(this.showHeader){var $1f=this.$5c();this.nav.top.appendChild($1f);};this.nav.scroll.style.zoom=1;var $1I=this.$5d();this.nav.scrollable=$1I.firstChild;this.nav.scroll.appendChild($1I);this.nav.top.appendChild(this.nav.scroll);this.nav.vsph=document.createElement("div");this.nav.vsph.style.display="none";this.nav.top.appendChild(this.nav.vsph);this.nav.scrollpos=document.createElement("input");this.nav.scrollpos.type="hidden";this.nav.scrollpos.id=$b.id+"_scrollpos";this.nav.scrollpos.name=this.nav.scrollpos.id;this.nav.top.appendChild(this.nav.scrollpos);this.nav.select=document.createElement("input");this.nav.select.type="hidden";this.nav.select.id=$b.id+"_select";this.nav.select.name=this.nav.select.id;this.nav.select.value=null;this.nav.top.appendChild(this.nav.select);this.nav.scrollLayer=document.createElement("div");this.nav.scrollLayer.style.position='absolute';this.nav.scrollLayer.style.top='0px';this.nav.scrollLayer.style.left='0px';this.nav.top.appendChild(this.nav.scrollLayer);this.nav.scrollUp=[];this.nav.scrollDown=[];this.nav.loading=document.createElement("div");this.nav.loading.style.position='absolute';this.nav.loading.style.top='0px';this.nav.loading.style.left=(this.hourWidth+5)+"px";this.nav.loading.style.backgroundColor=this.loadingLabelBackColor;this.nav.loading.style.fontSize=this.loadingLabelFontSize;this.nav.loading.style.fontFamily=this.loadingLabelFontFamily;this.nav.loading.style.color=this.loadingLabelFontColor;this.nav.loading.style.padding='2px';this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.display='none';this.nav.top.appendChild(this.nav.loading);};this.$3V=function(){if(!this.fasterDispose){DayPilot.pu(this.nav.hourTable);}else{this.$5e();};this.nav.scrollable.rows[0].cells[0].innerHTML='';this.nav.hourTable=this.$5f();this.nav.scrollable.rows[0].cells[0].appendChild(this.nav.hourTable);};this.$5e=function(){for(var i=0;i<this.nav.hourTable.rows.length;i++){var $1J=this.nav.hourTable.rows[i];var $U=$1J.cells[0].firstChild;$U.data=null;$U.onmousemove=null;$U.onmouseout=null;}};this.$5d=function(){var $1K=document.createElement("div");$1K.style.zoom=1;$1K.style.position='relative';$1K.onmousemove=this.$5g;$1K.ontouchmove=this.$57.onMainTouchMove;$1K.ontouchend=this.$57.onMainTouchEnd;var $1L=document.createElement("table");$1L.cellSpacing="0";$1L.cellPadding="0";$1L.border="0";$1L.style.border="0px none";$1L.style.width="100%";$1L.style.position='absolute';var r=$1L.insertRow(-1);var c;if(this.showHours){c=r.insertCell(-1);c.valign="top";c.style.padding='0px';c.style.border='0px none';this.nav.hourTable=this.$5f();c.appendChild(this.nav.hourTable);};c=r.insertCell(-1);c.width="100%";c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign="top";if(!this.cssOnly){c.style.borderLeft="1px solid "+this.borderColor;};if(!this.cssOnly&&!this.separateEventsTable){c.appendChild(this.$5h());}else{var parent=document.createElement("div");parent.style.height="0px";parent.style.position="relative";parent.appendChild(this.$5h());var $1M=document.createElement("div");$1M.style.position="absolute";$1M.style.top="0px";$1M.style.left="0px";$1M.style.right="0px";$1M.style.height="0px";parent.appendChild($1M);this.nav.crosshair=$1M;parent.appendChild(this.$5i());c.appendChild(parent);};$1K.appendChild($1L);this.nav.zoom=$1K;return $1K;};this.$5h=function(){var $1L=document.createElement("table");$1L.cellPadding="0";$1L.cellSpacing="0";$1L.border="0";$1L.style.width="100%";$1L.style.border="0px none";if(!this.cssOnly){};$1L.style.tableLayout='fixed';this.nav.main=$1L;this.nav.events=$1L;return $1L;};this.$5i=function(){var $1L=document.createElement("table");$1L.style.position="absolute";$1L.style.top="0px";$1L.style.width="100%";$1L.cellPadding="0";$1L.cellSpacing="0";$1L.border="0";$1L.style.width="100%";$1L.style.border="0px none";$1L.style.tableLayout='fixed';this.nav.events=$1L;var $1N=true;var $0H=this.columnsBottom;var cl=$0H.length;var r=($1N)?$1L.insertRow(-1):$1L.rows[0];for(var j=0;j<cl;j++){var c=($1N)?r.insertCell(-1):r.cells[j];if($1N){c.style.padding='0px';c.style.border='0px none';c.style.height='0px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $U=document.createElement("div");$U.style.marginRight=$b.columnMarginRight+"px";$U.style.position='relative';$U.style.height='1px';if(!this.cssOnly){$U.style.fontSize='1px';$U.style.lineHeight='1.2';};$U.style.marginTop='-1px';c.appendChild($U);}};return $1L;};this.$5f=function(){var $1L=document.createElement("table");$1L.cellSpacing="0";$1L.cellPadding="0";$1L.border="0";$1L.style.border='0px none';$1L.style.width=this.hourWidth+"px";$1L.oncontextmenu=function(){return false;};$1L.onmousemove=function(){$b.$3G();};var $1O=this.$47()/(this.timeHeaderCellDuration*60*1000);for(var i=0;i<$1O;i++){this.$5j($1L,i);};return $1L;};this.$5k=function(){return(this.$4a()-this.$4a(true))*(60/this.cellDuration);};this.$5l=function(){return(this.$4a()-this.$4a(true));};this.$4I=function(){return this.$5k()*this.cellHeight;};this.$5j=function($1L,i){var $I=(this.cellHeight*60/ this.cellDuration)/(60/this.timeHeaderCellDuration);var r=$1L.insertRow(-1);r.style.height=$I+"px";var c=r.insertCell(-1);c.valign="bottom";c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$45("rowheader");c.style.backgroundColor=this.hourNameBackColor;c.style.cursor="default";};c.style.padding='0px';c.style.border='0px none';var $1P=document.createElement("div");if(this.cssOnly){$1P.className=this.$45("_rowheader");};$1P.style.position="relative";$1P.style.width=this.hourWidth+"px";$1P.style.height=($I)+"px";$1P.style.overflow='hidden';$1P.setAttribute("unselectable","on");var $1a=document.createElement("div");if(this.cssOnly){$1a.className=this.$45("_rowheader_inner");};$1a.setAttribute("unselectable","on");if(!this.cssOnly){$1a.style.borderBottom="1px solid "+this.hourNameBorderColor;$1a.style.textAlign="right";$1a.style.height=($I-1)+"px";};var $P=null;var $e=null;if(this.hours){$e=this.hours[i+this.$5l()];$P=$e.html;};var $05=this.startDate.addHours(i+this.$4a());var $1Q=$05.getHours();if(typeof $b.onBeforeTimeHeaderRender==='function'){var $k={};$k.header={};$k.header.hours=$1Q;$k.header.minutes=$05.getMinutes();$k.header.start=$05.toString("HH:mm");$k.header.html=$P;$k.header.areas=$e?$e.areas:null;$b.onBeforeTimeHeaderRender($k);if($k.header.html!==null){$P=$k.header.html;};$e=$k.header;};if($e){$1P.data=$e;$1P.onmousemove=$b.$5m;$1P.onmouseout=$b.$5n;};if($P){$1a.innerHTML=$P;}else{var $1R=document.createElement("div");$1R.setAttribute("unselectable","on");if(!this.cssOnly){$1R.style.padding="2px";$1R.style.fontFamily=this.hourFontFamily;$1R.style.fontSize=this.hourFontSize;$1R.style.color=this.hourFontColor;};var am=$1Q<12;if(this.timeFormat==="Clock12Hours"){$1Q=$1Q%12;if($1Q===0){$1Q=12;}};$1R.innerHTML=$1Q;var $1S=document.createElement("span");$1S.setAttribute("unselectable","on");if(!this.cssOnly){$1S.style.fontSize="10px";$1S.style.verticalAlign="super";}else{$1S.className=this.$45("_rowheader_minutes");};var $1T;if(this.timeFormat==="Clock12Hours"){if(am){$1T="AM";}else{$1T="PM";}}else{$1T="00";};if(!this.cssOnly){$1S.innerHTML="&nbsp;"+$1T;}else{$1S.innerHTML=$1T;};$1R.appendChild($1S);$1a.appendChild($1R);};$1P.appendChild($1a);c.appendChild($1P);};this.$5m=function(ev){$b.$3G();var $U=this;if(!$U.active){DayPilot.Areas.showAreas($U,$U.data);}};this.$5n=function(ev){DayPilot.Areas.hideAreas(this,ev);};this.$5b=function(){switch(this.heightSpec){case "Fixed":return this.height;case "Parent100Pct":return this.height;case "Full":return(this.$47()*this.cellHeight)/(60000*this.cellDuration);case "BusinessHours":case "BusinessHoursNoScroll":var $M=this.$48();return $M*this.cellHeight*60/this.cellDuration;default:throw "DayPilot.Calendar: Unexpected 'heightSpec' value.";}};this.$4b=function(){var $1U=this.headerLevels*this.headerHeight+this.headerLevels-1;if(this.showAllDayEvents&&this.allDayHeaderHeight){if(!this.cssOnly){return $1U+this.allDayHeaderHeight;}else{return $1U+this.allDayHeaderHeight;}}else{return $1U;}};this.$3R=function(){if(!this.headerHeightAutoFit){return;};if(this.headerLevels>1){throw "Header height can't be adjusted for HeaderLevels > 1 (not implemented yet).";return;};var $L=0;for(var i=0;i<this.columnsBottom.length;i++){var $c=this.nav.header.rows[this.headerLevels-1].cells[i];var $U=$c.firstChild;var $K=$U.firstChild;var $1V=$U.style.height;$U.style.height="auto";$K.style.position="static";var h=$U.offsetHeight;$U.style.height=$1V;$K.style.position='';$L=Math.max($L,h);};if($L>this.headerHeight){this.headerHeight=$L;this.$3P();this.$3Q();}};this.$5o=function(){if(this.cssOnly){return DayPilot.sw($b.nav.scroll)>0;}else{return DayPilot.sw($b.nav.scroll)>2;}};this.$5c=function(){var $1f=document.createElement("div");if(!this.cssOnly){$1f.style.borderLeft="1px solid "+this.borderColor;$1f.style.borderRight="1px solid "+this.borderColor;};$1f.style.overflow="auto";var $1K=document.createElement("div");$1K.style.position="relative";$1K.style.zoom="1";var $1L=document.createElement("table");$1L.cellPadding="0";$1L.cellSpacing="0";$1L.border="0";$1L.style.width="100%";$1L.style.borderCollapse='separate';$1L.style.border="0px none";var r=$1L.insertRow(-1);this.nav.fullHeader=$1L;var c=r.insertCell(-1);c.style.padding='0px';c.style.border='0px none';if(this.showHours){var $1W=this.$5p();c.appendChild($1W);this.nav.corner=$1W;}else{var $1X=document.createElement("div");$1X.style.backgroundColor=this.hourNameBackColor;$1X.style.width="0px";$1X.style.height=this.$4b()+"px";$1X.style.borderTop="1px solid "+this.borderColor;$1X.setAttribute("unselectable","on");c.appendChild($1X);};c=r.insertCell(-1);c.style.width="100%";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;};c.valign="top";c.style.position='relative';c.style.padding='0px';c.style.border='0px none';var $1Y=document.createElement("div");$1Y.style.position="relative";$1Y.style.height=this.$4b()+"px";$1Y.style.overflow="hidden";c.appendChild($1Y);this.nav.mid=$1Y;this.nav.header=document.createElement("table");this.nav.header.cellPadding="0";this.nav.header.cellSpacing="0";this.nav.header.width="100%";this.nav.header.style.tableLayout="fixed";if(!this.cssOnly){this.nav.header.style.borderBottom="0px none #000000";this.nav.header.style.borderLeft="1px solid "+this.borderColor;this.nav.header.style.borderTop="1px solid "+this.borderColor;};this.nav.header.oncontextmenu=function(){return false;};var $1Z=this.$5o();if(!this.cssOnly){if($1Z){this.nav.header.style.borderRight="1px solid "+this.borderColor;}};$1Y.appendChild(this.nav.header);if(this.showAllDayEvents){var $20=document.createElement("div");$20.style.position='absolute';$20.style.top="0px";$20.style.height="0px";$20.style.width="100%";this.nav.allday=$20;$1Y.appendChild($20);};if($1Z){this.$5q();};$1K.appendChild($1L);$1f.appendChild($1K);return $1f;};this.$5q=function(){var r=this.nav.fullHeader.rows[0];var c=r.insertCell(-1);if(!this.cssOnly){c.className=this.$45('cornerright');c.style.backgroundColor=this.hourNameBackColor;c.style.borderBottom="0px none";c.style.borderLeft="1px solid "+this.borderColor;c.style.borderRight="0px none";};c.style.padding='0px';c.style.verticalAlign='top';c.setAttribute("unselectable","on");var $1i=document.createElement("div");$1i.setAttribute("unselectable","on");if(this.cssOnly){$1i.className=this.$45('_cornerright');};$1i.style.overflow="hidden";$1i.style.position="relative";$1i.style.width="16px";$1i.style.height=this.$4b()+"px";var $K=document.createElement("div");if(this.cssOnly){$K.className=this.$45('_cornerright_inner');}else{$K.style.borderTop="1px solid "+this.borderColor;};$1i.appendChild($K);c.appendChild($1i);this.nav.cornerRight=$1i;};this.$5p=function(){var $1I=document.createElement("div");$1I.style.position='relative';if(!this.cssOnly){$1I.style.backgroundColor=this.cornerBackColor;$1I.style.fontFamily=this.headerFontFamily;$1I.style.fontSize=this.headerFontSize;$1I.style.color=this.headerFontColor;$1I.className=this.$45("corner");}else{$1I.className=this.$45("_corner");};$1I.style.width=this.hourWidth+"px";$1I.style.height=this.$4b()+"px";$1I.style.overflow="hidden";$1I.oncontextmenu=function(){return false;};var $1W=document.createElement("div");if(this.cssOnly){$1W.className=this.$45("_corner_inner");}else{$1W.style.borderTop="1px solid "+this.borderColor;};$1W.setAttribute("unselectable","on");var $P=this.cornerHTML||this.cornerHtml;$1W.innerHTML=$P?$P:'';$1I.appendChild($1W);if(!this.numberFormat)return $1I;var $21=document.createElement("div");$21.style.position='absolute';$21.style.padding='2px';$21.style.top='0px';$21.style.left='1px';$21.style.backgroundColor="#FF6600";$21.style.color="white";$21.innerHTML="\u0044\u0045\u004D\u004F";$21.setAttribute("unselectable","on");$1I.appendChild($21);return $1I;};this.$3A=function(){var $1L=this.nav.main;$1L.root=null;$1L.onmouseup=null;for(var y=0;y<$1L.rows.length;y++){var r=$1L.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.root=null;c.onmousedown=null;c.onmousemove=null;c.onmouseout=null;c.onmouseup=null;c.onclick=null;c.ondblclick=null;c.oncontextmenu=null;}};if(!this.fasterDispose)DayPilot.pu($1L);};this.$3S=function(){for(var i=0;this.nav.scrollUp&&i<this.nav.scrollUp.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollUp[i]);};for(var i=0;this.nav.scrollDown&&i<this.nav.scrollDown.length;i++){this.nav.scrollLayer.removeChild(this.nav.scrollDown[i]);};this.nav.scrollUp=[];this.nav.scrollDown=[];};this.$3U=function(){var $22=[];var $23=[];var $1L=this.nav.main;var $0g=this.cellDuration*60*1000;var $24=this.$4d();var $0H=$b.columnsBottom;var $1N=!this.tableCreated||$0H.length!==$1L.rows[0].cells.length||$24!==$1L.rows.length;if($1L){this.$3A();}while($1L&&$1L.rows&&$1L.rows.length>0&&$1N){if(!this.fasterDispose)DayPilot.pu($1L.rows[0]);$1L.deleteRow(0);};this.tableCreated=true;if(this.scrollLabelsVisible){var $0H=this.columnsBottom;var $0I=(this.showHours?this.hourWidth:0);var $F=(this.nav.scroll.clientWidth-$0I)/$0H.length;for(var i=0;i<$0H.length;i++){var $0K=document.createElement("div");$0K.style.position='absolute';$0K.style.top='0px';$0K.style.left=($0I+2+i*$F+$F/2)+"px";$0K.style.display='none';var $1p=document.createElement("div");$1p.style.height='10px';$1p.style.width='10px';if(this.cssOnly){$1p.className=this.$45("_scroll_up");}else{$1p.style.backgroundRepeat="no-repeat";if(this.scrollUpUrl){$1p.style.backgroundImage="url('"+this.scrollUpUrl+"')";};$1p.className=this.$45("scroll_up");};$0K.appendChild($1p);this.nav.scrollLayer.appendChild($0K);this.nav.scrollUp.push($0K);var $0L=document.createElement("div");$0L.style.position='absolute';$0L.style.top='0px';$0L.style.left=($0I+2+i*$F+$F/2)+"px";$0L.style.display='none';var $1p=document.createElement("div");$1p.style.height='10px';$1p.style.width='10px';if(this.cssOnly){$1p.className=this.$45("_scroll_down");}else{$1p.style.backgroundRepeat="no-repeat";if(this.scrollDownUrl){$1p.style.backgroundImage="url('"+this.scrollDownUrl+"')";};$1p.className=this.$45("scroll_down");};$0L.appendChild($1p);this.nav.scrollLayer.appendChild($0L);this.nav.scrollDown.push($0L);}};var cl=$0H.length;if(this.cssOnly||this.separateEventsTable){var $0U=this.nav.events;while($0U&&$0U.rows&&$0U.rows.length>0&&$1N){if(!this.fasterDispose)DayPilot.pu($0U.rows[0]);$0U.deleteRow(0);};var r=($1N)?$0U.insertRow(-1):$0U.rows[0];for(var j=0;j<cl;j++){var c=($1N)?r.insertCell(-1):r.cells[j];if($1N){c.style.padding='0px';c.style.border='0px none';c.style.height='1px';c.style.overflow='visible';if(!$b.rtl){c.style.textAlign='left';};var $U=document.createElement("div");$U.style.marginRight=$b.columnMarginRight+"px";$U.style.position='relative';$U.style.height='1px';if(!this.cssOnly){$U.style.fontSize='1px';$U.style.lineHeight='1.2';};$U.style.marginTop='-1px';c.appendChild($U);}}};for(var i=0;i<$24;i++){var r=($1N)?$1L.insertRow(-1):$1L.rows[i];if($1N){r.style.MozUserSelect='none';r.style.KhtmlUserSelect='none';r.style.WebkitUserSelect='none';};for(var j=0;j<cl;j++){var $1E=this.columnsBottom[j];var c=($1N)?r.insertCell(-1):r.cells[j];c.start=$1E.start.addTime(i*$0g).addHours(this.$4a());c.end=c.start.addTime($0g);c.resource=$1E.id;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];};var $c={};$c.resource=c.resource;$c.start=c.start;$c.end=c.end;var $25=j+"_"+i;$c.cssClass=null;$c.html=null;$c.backImage=null;$c.backRepeat=null;$c.backColor=null;$c.business=false;if(this.cellProperties[$25]){DayPilot.Util.copyProps(this.cellProperties[$25],$c,['cssClass','html','backImage','backRepeat','backColor','business']);};var $k={};$k.cell=$c;this.onBeforeCellRender($k);this.cellProperties[$25]=$c;};var $26=$b.$5r(j,i);if($1N){c.root=this;c.style.padding='0px';c.style.border='0px none';c.style.verticalAlign='top';c.style.height=$b.cellHeight+'px';c.style.overflow='hidden';c.setAttribute("unselectable","on");if(!this.cssOnly){var $27=document.createElement("div");$27.style.height=($b.cellHeight-1)+"px";$27.style.width='100%';$27.style.overflow='hidden';$27.setAttribute("unselectable","on");c.appendChild($27);var $U=document.createElement("div");$U.setAttribute("unselectable","on");$U.style.fontSize='1px';$U.style.height='0px';c.appendChild($U);if((!$b.rtl&&j!==cl-1)||$b.rtl){c.style.borderRight='1px solid '+$b.cellBorderColor;};var $28=(c.end.getMinutes()+c.end.getSeconds()+c.end.getMilliseconds())>0;if($28){if($b.hourHalfBorderColor!==''){$U.style.borderBottom='1px solid '+$b.hourHalfBorderColor;};$U.className=$b.$45("hourhalfcellborder");}else{if($b.hourBorderColor!==''){$U.style.borderBottom='1px solid '+$b.hourBorderColor;};$U.className=$b.$45("hourcellborder");}}else{var $27=document.createElement("div");$27.className=$b.$45("_cell");$27.style.position="relative";$27.style.height=($b.cellHeight)+"px";$27.style.overflow='hidden';$27.setAttribute("unselectable","on");var $K=document.createElement("div");$K.className=$b.$45("_cell_inner");$27.appendChild($K);c.appendChild($27);}};c.onmousedown=this.$4C;c.onmousemove=this.$4F;c.onmouseout=this.$4E;c.ontouchstart=this.$57.onCellTouchStart;c.ontouchmove=this.$57.onCellTouchMove;c.ontouchend=this.$57.onCellTouchEnd;c.onmouseup=function(){return false;};c.onclick=function(){return false;};c.ondblclick=function(){DayPilotCalendar.firstMousePos=null;$b.$4D();clearTimeout(DayPilotCalendar.selectedTimeout);if($b.timeRangeDoubleClickHandling==='Disabled'){return;};var $0G=$b.getSelection();$b.$4y($0G.start,$0G.end,$0G.resource);};c.oncontextmenu=function(){if(!this.selected){$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn(this);$b.selectedCells.push(this);DayPilotCalendar.firstSelected=this;DayPilotCalendar.topSelectedCell=this;DayPilotCalendar.bottomSelectedCell=this;$b.$4D();};if($b.contextMenuSelection){$b.contextMenuSelection.show($b.getSelection());};return false;};var $S=$b.$5s(j,i);$27=c.firstChild;if(this.cssOnly){$27.firstChild.style.background=$S;}else{$27.style.background=$S;};if($26){if($26.html){$27.firstChild.innerHTML=$26.html;};if($26.cssClass){if(this.cssOnly){DayPilot.Util.addClass($27,$26.cssClass);}else{DayPilot.Util.addClass(c,$b.$45($26.cssClass));}};if($26.backImage){$27.style.backgroundImage="url('"+$26.backImage+"')";};if($26.backRepeat){$27.style.backgroundRepeat=$26.backRepeat;};if($26.business){DayPilot.Util.addClass($27,$b.$45("_cell_business"));}};if(!this.cssOnly){c.className=$b.$45("cellbackground");}}};$1L.onmouseup=this.$4G;$1L.root=this;$b.nav.scrollable.style.display='';};this.$5g=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;};DayPilotCalendar.activeCalendar=this;var $29=$b.nav.scrollable;$b.coords=DayPilot.mo3($29,ev);var $0C=DayPilot.mc(ev);var $1M=$b.crosshairType&&$b.crosshairType!=="Disabled";var $2a=$b.coords.x<$b.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||DayPilotCalendar.selecting||$2a){$b.$3G();}else if($1M){$b.$5t();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilotCalendar.resizingShadow=$b.$44(DayPilot.Global.resizing,false,$b.shadow);};var $2b=DayPilot.Global.resizing.event.calendar.cellHeight;var $G=0;var $2c=($0C.y-DayPilotCalendar.originalMouse.y);if(DayPilot.Global.resizing.dpBorder==='bottom'){var $2d=Math.floor(((DayPilotCalendar.originalHeight+DayPilotCalendar.originalTop+$2c)+$2b/ 2)/ $2b)*$2b-DayPilotCalendar.originalTop+$G;if($2d<$2b)$2d=$2b;var $L=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;if(DayPilotCalendar.originalTop+$2d>$L){$2d=$L-DayPilotCalendar.originalTop;};DayPilotCalendar.resizingShadow.style.height=($2d)+'px';}else if(DayPilot.Global.resizing.dpBorder==='top'){var $2e=Math.floor(((DayPilotCalendar.originalTop+$2c-$G)+$2b/ 2)/ $2b)*$2b+$G;if($2e<$G){$2e=$G;};if($2e>DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2b){$2e=DayPilotCalendar.originalTop+DayPilotCalendar.originalHeight-$2b;};var $2d=DayPilotCalendar.originalHeight-($2e-DayPilotCalendar.originalTop);if($2d<$2b){$2d=$2b;}else{DayPilotCalendar.resizingShadow.style.top=$2e+'px';};DayPilotCalendar.resizingShadow.style.height=($2d)+'px';}}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){var $2f=3;if(DayPilot.distance($0C,DayPilotCalendar.originalMouse)>$2f){DayPilotCalendar.movingShadow=$b.$44(DayPilot.Global.moving,!$b.$3p.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}else{return;}};if(!$b.coords){return;};var $2b=$b.cellHeight;var $G=0;var $0J=DayPilotCalendar.moveOffsetY;if(!$0J){$0J=$2b/2;};if(this.moveBy==="Top"){$0J=0;};var $2e=Math.floor((($b.coords.y-$0J-$G)+$2b/ 2)/ $2b)*$2b+$G;if($2e<$G){$2e=$G;};var $E=$b.nav.main;var $L=$E.clientHeight;var $I=parseInt(DayPilotCalendar.movingShadow.style.height);if($2e+$I>$L){$2e=$L-$I;};DayPilotCalendar.movingShadow.style.top=$2e+'px';var $F=$E.clientWidth/$E.rows[0].cells.length;var $o=Math.floor(($b.coords.x-$b.hourWidth)/$F);if($o<0){$o=0;};var $0U=$b.nav.events;if($o<$0U.rows[0].cells.length&&$o>=0&&DayPilotCalendar.movingShadow.column!==$o){DayPilotCalendar.movingShadow.column=$o;DayPilotCalendar.moveShadow($0U.rows[0].cells[$o]);}};if(DayPilotCalendar.drag){if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);};DayPilotCalendar.gShadow=null;if(!DayPilotCalendar.movingShadow&&$b.coords){var $J=$b.$44(DayPilotCalendar.drag,false,DayPilotCalendar.drag.shadowType);if($J){DayPilotCalendar.movingShadow=$J;var $0B=new DayPilot.Date().getDatePart();var ev={'value':DayPilotCalendar.drag.id,'start':$0B,'end':$0B.addSeconds(DayPilotCalendar.drag.duration),'text':DayPilotCalendar.drag.text};var event=new DayPilot.Event(ev,$b);event.external=true;DayPilot.Global.moving={};DayPilot.Global.moving.event=event;DayPilot.Global.moving.helper={};}};ev.cancelBubble=true;}};this.temp={};this.temp.getPosition=function(){var $2g=$b.$5u.getCellCoords();if(!$2g){return null;};var $o=$b.columnsBottom[$2g.x];var $c={};$c.resource=$o.id;$c.start=new DayPilot.Date($o.start).addHours($b.$4a(true)).addMinutes($2g.y*$b.cellDuration);$c.end=$c.start.addMinutes($b.cellDuration);return $c;};this.$5u={};this.$5u.getCellCoords=function(){var $s={};$s.x=0;$s.y=0;if(!$b.coords){return null;};var $E=$b.nav.main;var $2h=$b.coords.x-$b.hourWidth;var i=0;var $1E=this.col($E,i);while($1E&&$2h>$1E.left){i+=1;$1E=this.col($E,i);};$s.x=i-1;var $G=0;var $1J=Math.floor(($b.coords.y-$G)/$b.cellHeight);$s.y=$1J;if($s.x<0){return null;};return $s;};this.$5u.col=function($1L,x){var $s={};$s.left=0;$s.width=0;var $c=$1L.rows[0].cells[x];if(!$c){return null;};var t=DayPilot.abs($1L);var c=DayPilot.abs($c);$s.left=c.x-t.x;$s.width=$c.offsetWidth;return $s;};this.$5t=function(){this.$3G();if(!this.elements.crosshair){this.elements.crosshair=[];};var $2i=this.$5u.getCellCoords();if(!$2i){return;};var $o=$2i.x;var y=Math.floor($2i.y/(60/ $b.cellDuration)*(60/$b.timeHeaderCellDuration));if(y<0){return;};var $2j=document.createElement("div");$2j.style.position="absolute";$2j.style.left="0px";$2j.style.right="0px";$2j.style.top="0px";$2j.style.bottom="0px";$2j.style.opacity=.5;$2j.style.backgroundColor=this.crosshairColor;$2j.style.opacity=this.crosshairOpacity/100;$2j.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.nav.hourTable.rows[y].cells[0].firstChild.appendChild($2j);this.elements.crosshair.push($2j);var $2k=document.createElement("div");$2k.style.position="absolute";$2k.style.left="0px";$2k.style.right="0px";$2k.style.top="0px";$2k.style.bottom="0px";$2k.style.opacity=.5;$2k.style.backgroundColor=this.crosshairColor;$2k.style.opacity=this.crosshairOpacity/100;$2k.style.filter="alpha(opacity="+this.crosshairOpacity+")";var $1J=this.nav.header.rows[this.headerLevels-1];if($1J.cells[$o]){$1J.cells[$o].firstChild.appendChild($2k);this.elements.crosshair.push($2k);};if(this.crosshairType==="Header"){return;};var $2l=this.nav.crosshair;var $G=0;var top=Math.floor((($b.coords.y-$G))/$b.cellHeight)*$b.cellHeight+$G;var $I=$b.cellHeight;var $2m=document.createElement("div");$2m.style.position="absolute";$2m.style.left="0px";$2m.style.right="0px";$2m.style.top=top+"px";$2m.style.height=$I+"px";$2m.style.backgroundColor=this.crosshairColor;$2m.style.opacity=this.crosshairOpacity/100;$2m.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2m.onmousedown=this.$5v;$2l.appendChild($2m);this.elements.crosshair.push($2m);var $1E=this.$5u.col(this.nav.main,$o);$I=this.nav.main.clientHeight;if($1E){var $2n=document.createElement("div");$2n.style.position="absolute";$2n.style.left=$1E.left+"px";$2n.style.width=$1E.width+"px";$2n.style.top="0px";$2n.style.height=$I+"px";$2n.style.backgroundColor=this.crosshairColor;$2n.style.opacity=this.crosshairOpacity/100;$2n.style.filter="alpha(opacity="+this.crosshairOpacity+")";$2n.onmousedown=this.$5v;$2l.appendChild($2n);this.elements.crosshair.push($2n);}};this.$5v=function(ev){$b.$3G();var $2i=$b.$5u.getCellCoords();var $2o=0;var $c=$b.nav.main.rows[$2i.y+$2o].cells[$2i.x];$b.$4C.apply($c,[ev]);};this.$3G=function(){if(!this.elements.crosshair||this.elements.crosshair.length===0){return;};for(var i=0;i<this.elements.crosshair.length;i++){var e=this.elements.crosshair[i];if(e&&e.parentNode){e.parentNode.removeChild(e);}};this.elements.crosshair=[];};this.$3N=function(){if(!this.cellConfig){return;};var $2p=this.cellConfig;if($2p.vertical){for(var x=0;x<$2p.x;x++){var $2q=this.cellProperties[x+"_0"];for(var y=1;y<$2p.y;y++){this.cellProperties[x+"_"+y]=$2q;}}};if($2p.horizontal){for(var y=0;y<$2p.y;y++){var $2q=this.cellProperties["0_"+y];for(var x=1;x<$2p.x;x++){this.cellProperties[x+"_"+y]=$2q;}}};if($2p["default"]){var $2q=$2p["default"];for(var y=0;y<$2p.y;y++){for(var x=0;x<$2p.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$2q;}}}}};this.$5r=function(x,y){if(!this.cellProperties){return null;};return this.cellProperties[x+"_"+y];};this.$5w=function(x,y){var $25=x+'_'+y;if(this.cellProperties&&this.cellProperties[$25]){return this.cellProperties[$25].business;};return false;};this.$5s=function(x,y){var $25=x+'_'+y;if(this.cellProperties&&this.cellProperties[$25]){return this.cellProperties[$25].backColor;};return null;};this.onBeforeCellRender=function($k){};this.$3B=function(){var $1L=this.nav.header;if($1L&&$1L.rows){for(var y=0;y<$1L.rows.length;y++){var r=$1L.rows[y];for(var x=0;x<r.cells.length;x++){var c=r.cells[x];c.onclick=null;c.onmousemove=null;c.onmouseout=null;}}};if(!this.fasterDispose)DayPilot.pu($1L);};this.$5x=function($16,$1N){var r=($1N)?this.nav.header.insertRow(-1):this.nav.header.rows[$16-1];var $0H=this.$51($16);var $2r=$0H.length;for(var i=0;i<$2r;i++){var $e=$0H[i];if($b.$43()){if(typeof $b.onBeforeHeaderRender==='function'){var $k={};$k.header={};DayPilot.Util.copyProps($e,$k.header,['id','start','name','html','backColor','toolTip','areas','children']);this.onBeforeHeaderRender($k);DayPilot.Util.copyProps($k.header,$e,['html','backColor','toolTip','areas']);}};var $2s=$e.getChildren?true:false;var $c=($1N)?r.insertCell(-1):r.cells[i];$c.data=$e;if($16===$b.headerLevels){}else{var $2t=1;if($2s){$2t=$e.getChildrenCount($b.headerLevels-$16+1);};$c.colSpan=$2t;};if($2s){$c.onclick=this.$4k;$c.onmousemove=this.$4l;$c.onmouseout=this.$4m;if($e.toolTip){$c.title=$e.toolTip;}};$c.style.overflow='hidden';$c.style.padding='0px';$c.style.border='0px none';$c.style.height=(this.headerHeight)+"px";if(!this.cssOnly){$c.style.borderLeft="0px none";if(i!==$2r-1){$c.style.borderRight="1px solid "+this.borderColor;}};var $U=($1N)?document.createElement("div"):$c.firstChild;if($1N){$U.setAttribute("unselectable","on");$U.style.MozUserSelect='none';$U.style.KhtmlUserSelect='none';$U.style.WebkitUserSelect='none';$U.style.position='relative';$U.style.height=this.headerHeight+"px";if(!this.cssOnly){$U.className=$b.$45('colheader');$U.style.cursor='default';$U.style.fontFamily=this.headerFontFamily;$U.style.fontSize=this.headerFontSize;$U.style.color=this.headerFontColor;$U.style.backgroundColor=$e.backColor;$U.style.textAlign='center';var $1R=document.createElement("div");$1R.style.position='absolute';$1R.style.left='0px';$1R.style.right='0px';$1R.style.top="0px";$1R.style.bottom="0px";$1R.style.padding="2px";$1R.setAttribute("unselectable","on");if($16!==1){$1R.style.borderTop='1px solid '+this.borderColor;};if(this.headerClickHandling!=="Disabled"){$1R.style.cursor='pointer';};$U.appendChild($1R);}else{$U.className=$b.$45('_colheader');var $K=document.createElement("div");$K.className=$b.$45('_colheader_inner');if($e.backColor){$K.style.background=$e.backColor;};$U.appendChild($K);};$c.appendChild($U);}else{$U.style.height=this.headerHeight+"px";};if($2s){$U.firstChild.innerHTML=$e.html;}}};this.$3Q=function(){if(!this.showHeader){return;};var $1f=this.nav.header;var $1N=true;var $0H=this.$51($b.headerLevels,true);var $2r=$0H.length;if(this.headerCreated&&$1f&&$1f.rows&&$1f.rows.length>0){$1N=$1f.rows[$1f.rows.length-1].cells.length!==$2r;}while(this.headerCreated&&$1f&&$1f.rows&&$1f.rows.length>0&&$1N){if(!this.fasterDispose)DayPilot.pu($1f.rows[0]);$1f.deleteRow(0);};this.headerCreated=true;var $P=$b.cornerHTML||$b.cornerHtml;if(!$1N){var $1W=$b.nav.corner;if(!this.cssOnly){if($b.cornerBackColor){$1W.style.backgroundColor=$b.cornerBackColor;}else{$1W.style.backgroundColor=$b.hourBackColor;}};if(!this.fasterDispose)DayPilot.pu($1W.firstChild);$1W.firstChild.innerHTML=$P?$P:'';};for(var i=0;i<$b.headerLevels;i++){this.$5x(i+1,$1N);};if(!this.showAllDayEvents){return;};var r=($1N)?$1f.insertRow(-1):$1f.rows[$b.headerLevels];var w=100/$2r;for(var i=0;i<$2r;i++){var $e=$0H[i];var $c=($1N)?r.insertCell(-1):r.cells[i];$c.data=$e;$c.style.padding='0px';$c.style.border='0px none';$c.style.overflow='hidden';if(!this.cssOnly){$c.style.lineHeight='1.2';};var $U=($1N)?document.createElement("div"):$c.firstChild;if($1N){$U.setAttribute("unselectable","on");$U.style.MozUserSelect='none';$U.style.KhtmlUserSelect='none';$U.style.WebkitUserSelect='none';$U.style.overflow='hidden';$U.style.position="relative";$U.style.height=this.allDayHeaderHeight+"px";if(!this.cssOnly){$U.className=this.$45("alldayheader");$U.style.textAlign='center';$U.style.backgroundColor=$e.backColor;$U.style.cursor='default';var $1R=document.createElement("div");$1R.style.position="absolute";$1R.style.left='0px';$1R.style.right='0px';$1R.style.top="0px";$1R.style.bottom="0px";$1R.setAttribute("unselectable","on");$1R.style.borderTop='1px solid '+this.borderColor;$U.appendChild($1R);if($b.rtl){if(i===$2r-1){$1R.style.borderLeft="1px solid "+$e.backColor;}else{$1R.style.borderLeft="1px solid "+this.borderColor;}}else{if(i!==$2r-1){$1R.style.borderRight="1px solid "+this.borderColor;}}}else{$U.className=this.$45("_alldayheader");var $K=document.createElement("div");$K.className=this.$45("_alldayheader_inner");$U.appendChild($K);};$c.appendChild($U);};$U.style.height=this.allDayHeaderHeight+"px";}};this.$3u=function(){if(this.loadingLabelVisible){this.nav.loading.innerHTML=this.loadingLabelText;this.nav.loading.style.top=(this.$4b()+5)+"px";this.nav.loading.style.display='';}};this.$3J=function(){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};this.nav.loading.style.display='none';};this.$5y=function(){var $2u=this.nav.scroll;if(!this.initScrollPos)return;$2u.root=this;$2u.onscroll=this.$4H;if($2u.scrollTop===0){$2u.scrollTop=this.initScrollPos-this.$4I();}else{this.$4H();}};this.onCallbackError=function($s,$t){alert("Error!\r\nResult: "+$s+"\r\nContext:"+$t);};this.scrollbarVisible=this.$5o;this.$3X=function(){var $2v=this.$5o();var $2w=!!this.nav.cornerRight;DayPilot.debug("fixScrollHeader: "+$2v);if($2v!==$2w){if($2v){this.$5q();}else{if(this.nav.fullHeader&&this.nav.fullHeader.rows[0].cells.length===3){var c=this.nav.fullHeader.rows[0].cells[2];if(c.parentNode){c.parentNode.removeChild(c);}};this.nav.cornerRight=null;}};var d=this.nav.cornerRight;if(!d){return;};var w=DayPilot.sw(this.nav.scroll);if(!this.cssOnly){if(w>=3){d.style.width=(w-3)+'px';}}else{if(d){d.style.width=(w)+'px';}};return w;};this.$42=function($2x){if($2x){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$3y();var $2y=this.autoRefreshInterval;if(!$2y||$2y<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$5z();},this.autoRefreshInterval*1000);};this.$3y=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$5z=function(){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving&&!DayPilotCalendar.drag&&!DayPilotCalendar.selecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$5z();},this.autoRefreshInterval*1000);}};this.$3C=function(){if($b.heightSpec==="Parent100Pct"){$b.setHeight(parseInt($b.nav.top.clientHeight,10));};$b.$3W();$b.$41();};this.$5A=function(){if(!DayPilotCalendar.globalHandlers){DayPilotCalendar.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.re(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.re(window,'unload',DayPilotCalendar.gUnload);};DayPilot.re(window,'resize',this.$3C);};this.$56=function(ev){ev=ev||window.event;var $0y=ev.which||ev.button;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if((this.style.cursor==='n-resize'||this.style.cursor==='s-resize')&&$0y===1){DayPilot.Global.resizing=this;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalHeight=this.offsetHeight;DayPilotCalendar.originalTop=this.offsetTop;$b.nav.top.style.cursor=this.style.cursor;}else if((this.style.cursor==='move'||$b.moveBy==='Full')&&$0y===1){DayPilot.Global.moving=this;var $2z=DayPilot.Global.moving.helper={};$2z.oldColumn=$b.columnsBottom[this.event.part.dayIndex].id;DayPilotCalendar.originalMouse=DayPilot.mc(ev);DayPilotCalendar.originalTop=this.offsetTop;var $0J=DayPilot.mo3(this,ev);if($0J){DayPilotCalendar.moveOffsetY=$0J.y;}else{DayPilotCalendar.moveOffsetY=0;};$b.nav.top.style.cursor=this.style.cursor;};return false;};this.$5B=function(i){var $1t=this.$3o.events;var $e=this.events.list[i];var $2A={};for(var name in $e){$2A[name]=$e[name];};if(typeof this.onBeforeEventRender==='function'){var $k={};$k.e=$2A;this.onBeforeEventRender($k);};$1t[i]=$2A;};this.$57={};var $2B=$b.$57;$2B.active=false;$2B.start=null;$2B.timeout=null;$2B.startcell=null;this.$57.getCellCoords=function(x,y){var $2C=DayPilot.abs($b.nav.main);var $2D={x:x-$2C.x,y:y-$2C.y};var w=($b.nav.main.clientWidth/$b.columnsBottom.length);var $2g={x:Math.floor($2D.x/w),y:Math.floor($2D.y/$b.cellHeight),toString:function(){return "x: "+this.x+" y:"+this.y;}};return $2g;};this.$57.startSelecting=function($2g){var $c=$b.nav.main.rows[$2g.y].cells[$2g.x];$2B.startcell=$2g;$b.clearSelection();DayPilotCalendar.column=DayPilotCalendar.getColumn($c);$b.selectedCells.push($c);DayPilotCalendar.firstSelected=$c;DayPilotCalendar.topSelectedCell=$c;DayPilotCalendar.bottomSelectedCell=$c;$b.$4D();};this.$57.extendSelection=function($2g){var $c=$b.nav.main.rows[$2g.y].cells[$2g.x];$b.clearSelection();if($2g.y<$2B.startcell.y){$b.selectedCells=DayPilotCalendar.getCellsBelow($c);DayPilotCalendar.topSelectedCell=$b.selectedCells[0];DayPilotCalendar.bottomSelectedCell=DayPilotCalendar.firstSelected;}else{$b.selectedCells=DayPilotCalendar.getCellsAbove($c);DayPilotCalendar.topSelectedCell=DayPilotCalendar.firstSelected;DayPilotCalendar.bottomSelectedCell=$b.selectedCells[0];};$b.$4D();};this.$57.onCellTouchStart=function(ev){if($2B.active){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2g=$2B.getCellCoords(x,y);var $2E=500;$2B.timeout=window.setTimeout(function(){$2B.active=true;$2B.startSelecting($2g);},$2E);};this.$57.onCellTouchMove=function(ev){if(!$2B.active){window.clearTimeout($2B.timeout);return;};ev.preventDefault();if(!ev.touches[0]){return;};var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2g=$2B.getCellCoords(x,y);$2B.extendSelection($2g);};this.$57.onCellTouchEnd=function(ev){if(!$2B.active){window.clearTimeout($2B.timeout);return;};ev.preventDefault();$2B.startcell=null;var $0G=$b.getSelection();$0G.toString=function(){return "start: "+this.start+"\nend: "+this.end;};$b.$4x($0G.start,$0G.end,$0G.resource);window.setTimeout(function(){$2B.active=false;},500);};this.$57.startMoving=function($U,$2g){DayPilot.Global.moving=$U;var $2z=DayPilot.Global.moving.helper={};$2z.oldColumn=$b.columnsBottom[$U.event.part.dayIndex].id;DayPilotCalendar.originalMouse=$2g;DayPilotCalendar.originalTop=this.offsetTop;var $2C=DayPilot.abs($U);DayPilotCalendar.moveOffsetY=$2g.y-$2C.y;if(!DayPilotCalendar.movingShadow){DayPilotCalendar.movingShadow=$b.$44(DayPilot.Global.moving,!$b.$3p.ie,$b.shadow);DayPilotCalendar.movingShadow.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth+1)+'px';}};this.$57.updateMoving=function($2g){var $2b=$b.cellHeight;var $G=0;var $0J=DayPilotCalendar.moveOffsetY;if(!$0J){$0J=$2b/2;};var $2e=Math.floor((($2g.y-$0J-$G)+$2b/ 2)/ $2b)*$2b+$G;if($2e<$G){$2e=$G;};var $E=$b.nav.main;var $L=$E.clientHeight;var $I=parseInt(DayPilotCalendar.movingShadow.style.height);if($2e+$I>$L){$2e=$L-$I;};DayPilotCalendar.movingShadow.style.top=$2e+'px';var $F=$E.clientWidth/$E.rows[0].cells.length;var $o=Math.floor($2g.x/$F);if($o<0){$o=0;};var $0U=$b.nav.events;if($o<$0U.rows[0].cells.length&&$o>=0&&DayPilotCalendar.movingShadow.column!==$o){DayPilotCalendar.movingShadow.column=$o;DayPilotCalendar.moveShadow($0U.rows[0].cells[$o]);}};this.$57.onEventTouchStart=function(ev){if($2B.active){return;};$2B.preventEventTap=false;var $U=this;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2g={x:x,y:y,$U:this};var $2C=DayPilot.abs($b.nav.scrollable);$b.coords={x:x-$2C.x,y:y-$2C.y};var $2E=500;$2B.timeout=window.setTimeout(function(){$2B.active=true;$2B.startMoving($U,$2g);},$2E);};this.$57.onMainTouchMove=function(ev){if($2B.timeout){window.clearTimeout($b.$57.timeout);};if(DayPilot.Global.moving){ev.preventDefault();var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $2C=DayPilot.abs($b.nav.main);var $2g={x:x-$2C.x,y:y-$2C.y};$2B.updateMoving($2g);return;};$2B.preventEventTap=true;};this.$57.onMainTouchEnd=function(ev){if(DayPilot.Global.moving){$2B.active=false;ev.preventDefault();var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2F=DayPilot.Global.moving.event;var $0l=DayPilotCalendar.movingShadow.column;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;$2F.calendar.$4r($2F,$0l,top);}};this.$57.onEventTouchMove=function(ev){$2B.preventEventTap=true;};this.$57.onEventTouchEnd=function(ev){if(!$2B.active){if($2B.preventEventTap){return;};ev.preventDefault();$b.$4f(this,false);return;};$2B.active=false;if($2B.timeout){window.clearTimeout($b.$57.timeout);return;}};this.$54=function(ev){var $2G=5;var $2H=Math.max($b.durationBarWidth,10);var w=5;var $1f=($b.moveBy==='Top');if(typeof(DayPilotCalendar)==='undefined'){return;};var $0J=DayPilot.mo3(this,ev);if(!$0J){return;};var $U=this;if(!$U.active){if($b.cssOnly){DayPilot.Util.addClass($U,$b.$45("_event_hover"));};DayPilot.Areas.showAreas($U,this.event);};if(DayPilot.Global.resizing||DayPilot.Global.moving){return;};var $2I=this.isFirst;var $2J=this.isLast;if($b.moveBy==="Disabled"||$b.moveBy==="None"){return;};if(!$1f&&$0J.x<=$2H&&this.event.client.moveEnabled()){if($2I){this.style.cursor='move';}else{this.style.cursor='not-allowed';}}else if(!$1f&&$0J.y<=$2G&&this.event.client.resizeEnabled()){if($2I){this.style.cursor="n-resize";this.dpBorder='top';}else{this.style.cursor='not-allowed';}}else if($1f&&$0J.y<=$2H&&this.event.client.moveEnabled()){this.style.cursor="move";}else if(this.offsetHeight-$0J.y<=$2G&&this.event.client.resizeEnabled()){if($2J){this.style.cursor="s-resize";this.dpBorder='bottom';}else{this.style.cursor='not-allowed';}}else if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(this.event.client.clickEnabled())this.style.cursor='pointer';else this.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling!=='Disabled'){if(this.style.cursor==='default'||this.style.cursor==='pointer'){var $2K=this.$5C&&$0J.x===this.$5C.x&&$0J.y===this.$5C.y;if(!$2K){this.$5C=$0J;$b.bubble.showEvent(this.event);}}else{}}};this.$55=function(ev){if($b.cssOnly){DayPilot.Util.removeClass(this,$b.$45("_event_hover"));};if($b.bubble){$b.bubble.hideOnMouseOut();};DayPilot.Areas.hideAreas(this,ev);};this.$3O=function($0U){if(!$0U){$0U=this.events.list;}else{this.events.list=$0U;};if(!$0U){return;};this.allDay={};this.allDay.events=[];this.allDay.lines=[];var length=$0U.length;var $H=this.$47(true);this.$3o.pixels={};var $2L=[];this.scrollLabels=[];this.minStart=10000;this.maxEnd=0;this.startDate=new DayPilot.Date(this.startDate);for(var i=0;i<length;i++){var e=$0U[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.end);};if(typeof this.onBeforeEventRender==='function'){for(var i=0;i<length;i++){this.$5B(i);}};var $2M=this.viewType==='Resources';var $2N=this.startDate;var $2O=this.startDate.addDays(this.days);for(var i=0;i<this.columnsBottom.length;i++){var scroll={};scroll.minEnd=1000000;scroll.maxStart=-1;this.scrollLabels.push(scroll);var $1E=this.columnsBottom[i];$1E.events=[];$1E.lines=[];$1E.blocks=[];var $2P=new DayPilot.Date($1E.start).addHours(this.$4a(true));var $2Q=$2P.getTime();var $2R=$2P.addTime($H);var $2S=$2R.getTime();if($2M){$2N=$2P.getDatePart();$2O=$2R.getDatePart();};for(var j=0;j<length;j++){if($2L[j]){continue;};var e=$0U[j];var $05=e.start;var end=e.end;var $2T=$05.getTime();var $2U=end.getTime();if($2U<$2T){continue;};if(e.allday){var $2V=false;if($b.allDayEnd==='Date'){$2V=!($2U<$2N.getTime()||$2T>=$2O.getTime());}else{$2V=!($2U<=$2N.getTime()||$2T>=$2O.getTime());};if($2M){$2V=$2V&&(e.resource===$1E.id||$1E.id==="*");};if($2V){var ep=new DayPilot.Event(e,this);ep.part.start=$2N.getTime()<$2T?$05:$2N;ep.part.end=$2O.getTime()>$2U?end:$2O;ep.part.colStart=DayPilot.Date.daysDiff(this.startDate.d,ep.part.start.d);ep.part.colWidth=DayPilot.Date.daysSpan(ep.part.start.d,ep.part.end.d)+1;if($2M){ep.part.colStart=i;ep.part.colWidth=1;};this.allDay.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$3o.events[j];};$2L[j]=true;if($2M&&(ep.part.start.getTime()!==$2T||ep.part.end.getTime()!==$2U)){$2L[j]=false;}};continue;};var $2V=false;if($2M){$2V=($1E.id===e.resource)&&!($2U<=$2Q||$2T>=$2S);}else{$2V=!($2U<=$2Q||$2T>=$2S)||($2U===$2T&&$2T===$2Q);};if($2V){var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=i;ep.part.start=$2Q<$2T?$05:$2P;ep.part.end=$2S>$2U?end:$2R;var $2W=this.$5D(ep.part.start,$1E.start);var $2X=this.$5D(ep.part.end,$1E.start);var top=$2W.top;var $11=$2X.top;if(top===$11&&($2W.cut||$2X.cut)){continue;};ep.part.box=$0a.useBox($2U-$2T);var $G=0;if(ep.part.box){var $2Y=$2X.boxBottom;ep.part.top=Math.floor(top/this.cellHeight)*this.cellHeight+$G;ep.part.height=Math.max(Math.ceil($2Y/this.cellHeight)*this.cellHeight-ep.part.top,this.cellHeight-1);ep.part.barTop=Math.max(top-ep.part.top-1,0);ep.part.barHeight=Math.max($11-top-2,1);}else{ep.part.top=top+$G;ep.part.height=Math.max($11-top,0);ep.part.barTop=0;ep.part.barHeight=Math.max($11-top-2,1);};var $05=ep.part.top;var end=ep.part.top+ep.part.height;if($05>scroll.maxStart){scroll.maxStart=$05;};if(end<scroll.minEnd){scroll.minEnd=end;};if($05<this.minStart){this.minStart=$05;};if(end>this.maxEnd){this.maxEnd=end;};$1E.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$3o.events[j];};if(ep.part.start.getTime()===$2T&&ep.part.end.getTime()===$2U){$2L[j]=true;}}}};for(var i=0;i<this.columnsBottom.length;i++){var $1E=this.columnsBottom[i];$1E.events.sort(this.$5E);for(var j=0;j<$1E.events.length;j++){var e=$1E.events[j];$1E.putIntoBlock(e);};for(var j=0;j<$1E.blocks.length;j++){var $1a=$1E.blocks[j];$1a.events.sort(this.$5F);for(var k=0;k<$1a.events.length;k++){var e=$1a.events[k];$1a.putIntoLine(e);}}};this.allDay.events.sort(this.$5F);this.allDay.putIntoLine=function(ep){var $1c=this;for(var i=0;i<this.lines.length;i++){var $1d=this.lines[i];if($1d.isFree(ep.part.colStart,ep.part.colWidth)){$1d.push(ep);return i;}};var $1d=[];$1d.isFree=function($05,$1b){var end=$05+$1b-1;var $L=this.length;for(var i=0;i<$L;i++){var e=this[i];if(!(end<e.part.colStart||$05>e.part.colStart+e.part.colWidth-1)){return false;}};return true;};$1d.push(ep);this.lines.push($1d);return this.lines.length-1;};for(var i=0;i<this.allDay.events.length;i++){var e=this.allDay.events[i];this.allDay.putIntoLine(e);};var $2Z=Math.max(this.allDay.lines.length,1);this.allDayHeaderHeight=$2Z*(this.allDayEventHeight+2)+2;};this.$5E=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $30=a.start().ticks-b.start().ticks;if($30!==0){return $30;};var $31=b.end().ticks-a.end().ticks;return $31;};this.$5F=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.$5E(a,b);};var $s=0;var i=0;while($s===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$s=0;}else{$s=$b.$5G(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $s;};this.$5G=function(a,b,$32){var $33=($32!=="desc");var $34=$33?-1:1;var $35=-$34;if(a===null&&b===null){return 0;};if(b===null){return $35;};if(a===null){return $34;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$34:$35;};this.$5H=function(e){for(var i=0;i<$b.elements.events.length;i++){var $U=$b.elements.events[i];if($U.event===e){return $U;}};return null;};this.events.find=function(id){var $2r=$b.events.list.length;for(var i=0;i<$2r;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($36,$06){var $2r=$b.events.list.length;for(var i=0;i<$2r;i++){if($b.events.list[i].recurrentMasterId===$36&&$b.events.list[i].start.getTime()===$06.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.update=function(e,$e){var $09={};$09.oldEvent=new DayPilot.Event(e.copy(),$b);$09.newEvent=new DayPilot.Event(e.temp(),$b);var $d=new DayPilot.Action($b,"EventUpdate",$09,$e);e.commit();$b.update();return $d;};this.events.remove=function(e,$e){var $09={};$09.e=new DayPilot.Event(e.data,$b);var $d=new DayPilot.Action($b,"EventRemove",$09,$e);var $25=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($25,1);$b.update();return $d;};this.events.add=function(e,$e){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $09={};$09.e=e;var $d=new DayPilot.Action($b,"EventAdd",$09,$e);$b.update();return $d;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($d){if(!$d){return;};if($d.isAction){$b.queue.list.push($d);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($e){var $09={};$09.actions=$b.queue.list;$b.$3t('Notify',$09,$e,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.update=function(){if(!this.columnsBottom){return;};var $37=true;if($37){$b.$3z();this.$5I();this.$3M();this.$3O();$b.$3Q();$b.$3R();$b.$3S();$b.$3T();$b.$3q();$b.$3U();$b.$4D();$b.$3V();$b.$3W();$b.$3X();this.$3Z();this.$40();$b.$41();}else{$b.$3z();$b.$3O();$b.$3P();$b.$3Z();$b.$40();$b.$41();}};this.show=function(){$b.nav.top.style.display='';$b.$3X();};this.hide=function(){$b.nav.top.style.display='none';};this.$5J=function($38,$39){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($38);if(typeof console!=='undefined'){console.log($38);}};this.$5D=function($0q,$05){if(!$05)$05=this.startDate;var $2T=$05.getTime();var $3a=$0q.getTime();var $1t=this.$3o.pixels[$3a+"_"+$2T];if($1t){return $1t;};$2T=$05.addHours(this.$4a(true)).getTime();var $3b=this.cellDuration*60*1000;var $3c=$3a-$2T;var $3d=$3c%$3b;var $3e=$3c-$3d;var $3f=$3e+$3b;if($3d===0){$3f=$3e;};var $s={};$s.cut=false;$s.top=this.$5K($3c);$s.boxTop=this.$5K($3e);$s.boxBottom=this.$5K($3f);this.$3o.pixels[$3a+"_"+$2T]=$s;return $s;};this.$5K=function($3a){return Math.floor((this.cellHeight*$3a)/(1000*60*this.cellDuration));};this.$5I=function(){this.startDate=new DayPilot.Date(this.startDate);this.allDayHeaderHeight=this.allDayEventHeight+4;};this.$3P=function(){if(this.nav.corner){this.nav.corner.style.height=this.$4b()+"px";};if(this.nav.cornerRight){this.nav.cornerRight.style.height=this.$4b()+"px";};if(this.nav.mid){this.nav.mid.style.height=this.$4b()+"px";};if(this.showAllDayEvents){var $1J=this.nav.header.rows[this.nav.header.rows.length-1];for(var i=0;i<$1J.cells.length;i++){var $o=$1J.cells[i];$o.firstChild.style.height=this.allDayHeaderHeight+"px";}}};this.$3W=function(){var sh=this.$5b();if(this.nav.scroll&&sh>0){this.nav.scroll.style.height=sh+"px";this.scrollHeight=$b.nav.scroll.clientHeight;}};this.setHeight=function($1s){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};if(this.cssOnly){this.height=$1s-(this.$4b());}else{this.height=$1s-(this.$4b()+3);};this.$3W();};this.$5L={};var $0a=this.$5L;$0a.locale=function(){return DayPilot.Locale.find($b.locale);};$0a.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return this.locale().timeFormat;};$0a.useBox=function($3g){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $3g<$b.cellDuration*60*1000;};$0a.notifyType=function(){var $i;if($b.notifyCommit==='Immediate'){$i="Notify";}else if($b.notifyCommit==='Queue'){$i="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $i;};this.$5M=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.$5N=function(){this.$5I();this.$3M();this.$5a();this.$3Q();this.$3R();this.$3U();this.$3X();this.$5y();this.$5A();this.$3D();DayPilotCalendar.register(this);this.$3C();this.$42();this.$3t('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $3h=this.$5M();if($3h){this.$5N();return;};this.$5I();this.$3M();this.$3N();if(this.events.list){this.$3O();};this.$5a();this.$3Q();this.$3R();this.$3U();this.$3Y();this.$3X();this.$5y();this.$5A();this.$3D();DayPilotCalendar.register(this);if(this.events.list){this.$3P();this.$3Z();this.$40();};this.$3C();if(this.messageHTML){this.message(this.messageHTML);};this.$3K(null,false);this.$42();};this.internal={};this.internal.invokeEvent=this.$4o;this.internal.eventMenuClick=this.$4v;this.internal.timeRangeMenuClick=this.$4w;this.internal.bubbleCallBack=this.$4t;this.internal.findEventDiv=this.$5H;this.internal.eventDeleteDispatch=this.$4n;this.Init=this.init;};var DayPilotCalendar={};DayPilotCalendar.topSelectedCell=null;DayPilotCalendar.bottomSelectedCell=null;DayPilotCalendar.selecting=false;DayPilotCalendar.column=null;DayPilotCalendar.firstSelected=null;DayPilotCalendar.firstMousePos=null;DayPilotCalendar.originalMouse=null;DayPilotCalendar.originalHeight=null;DayPilotCalendar.originalTop=null;DayPilotCalendar.globalHandlers=false;DayPilotCalendar.editing=false;DayPilotCalendar.originalText=null;DayPilotCalendar.register=function($b){if(!DayPilotCalendar.registered){DayPilotCalendar.registered=[];};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){if(r[i]===$b){return;}};r.push($b);};DayPilotCalendar.unregister=function($b){var a=DayPilotCalendar.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotCalendar.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotCalendar.gMouseUp);DayPilot.ue(window,'unload',DayPilotCalendar.gUnload);DayPilotCalendar.globalHandlers=false;}};DayPilotCalendar.getCellsAbove=function($c){var $q=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3i=null;while(tr&&$3i!==DayPilotCalendar.firstSelected){$3i=tr.getElementsByTagName("td")[c];$q.push($3i);tr=tr.previousSibling;while(tr&&tr.tagName!=="TR"){tr=tr.previousSibling;}};return $q;};DayPilotCalendar.getCellsBelow=function($c){var $q=[];var c=DayPilotCalendar.getColumn($c);var tr=$c.parentNode;var $3i=null;while(tr&&$3i!==DayPilotCalendar.firstSelected){$3i=tr.getElementsByTagName("td")[c];$q.push($3i);tr=tr.nextSibling;while(tr&&tr.tagName!=="TR"){tr=tr.nextSibling;}};return $q;};DayPilotCalendar.getColumn=function($c){var i=0;while($c.previousSibling){$c=$c.previousSibling;if($c.tagName==="TD"){i++;}};return i;};DayPilotCalendar.getShadowColumn=function($C){if(!$C){return null;};var $0Q=$C.parentNode;while($0Q&&$0Q.tagName!=="TD"){$0Q=$0Q.parentNode;};return $0Q;};DayPilotCalendar.gMouseMove=function(ev){if(typeof(DayPilotCalendar)==='undefined'){return;};if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $0C=DayPilot.mc(ev);if(DayPilotCalendar.drag){document.body.style.cursor='move';if(!DayPilotCalendar.gShadow){DayPilotCalendar.gShadow=DayPilotCalendar.createGShadow(DayPilotCalendar.drag.shadowType);};var $J=DayPilotCalendar.gShadow;$J.style.left=$0C.x+'px';$J.style.top=$0C.y+'px';DayPilot.Global.moving=null;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);DayPilotCalendar.movingShadow=null;};for(var i=0;i<DayPilotCalendar.registered.length;i++){if(DayPilotCalendar.registered[i].$3F){DayPilotCalendar.registered[i].$3F();}}};DayPilotCalendar.gUnload=function(ev){if(!DayPilotCalendar.registered){return;};var r=DayPilotCalendar.registered;for(var i=0;i<r.length;i++){var c=r[i];c.dispose();DayPilotCalendar.unregister(c);}};DayPilotCalendar.gMouseUp=function(e){var e=e||window.event;if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;};e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(DayPilot.Global.resizing){if(!DayPilotCalendar.resizingShadow){DayPilot.Global.resizing.style.cursor='default';DayPilot.Global.resizing.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing=null;return;};var $2F=DayPilot.Global.resizing.event;var $0d=DayPilot.Global.resizing.dpBorder;var $I=DayPilotCalendar.resizingShadow.clientHeight;var top=DayPilotCalendar.resizingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.resizingShadow);DayPilotCalendar.resizingShadow=null;DayPilot.Global.resizing.style.cursor='default';$2F.calendar.nav.top.style.cursor='auto';DayPilot.Global.resizing.onclick=null;DayPilot.Global.resizing=null;if($2F.calendar.overlap){return;};$2F.calendar.$4p($2F,$I,top,$0d);}else if(DayPilot.Global.moving){if(!DayPilotCalendar.movingShadow){DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilot.Global.moving=null;return;};var $3j=DayPilot.Global.moving.helper.oldColumn;var top=DayPilotCalendar.movingShadow.offsetTop;DayPilotCalendar.deleteShadow(DayPilotCalendar.movingShadow);var $2F=DayPilot.Global.moving.event;var $0l=DayPilotCalendar.movingShadow.column;var $0m=DayPilotCalendar.drag;DayPilot.Global.moving.event.calendar.nav.top.style.cursor='auto';DayPilotCalendar.drag=null;DayPilot.Global.moving=null;DayPilotCalendar.movingShadow=null;if($0m){if(!$2F.calendar.todo){$2F.calendar.todo={};};$2F.calendar.todo.del=$0m.element;};if($2F.calendar.overlap){return;};var ev=e||window.event;$2F.calendar.$4r($2F,$0l,top,ev,$0m);};if(DayPilotCalendar.drag){DayPilotCalendar.drag=null;document.body.style.cursor=null;};if(DayPilotCalendar.gShadow){document.body.removeChild(DayPilotCalendar.gShadow);DayPilotCalendar.gShadow=null;};DayPilotCalendar.moveOffsetY=null;};DayPilotCalendar.dragStart=function(element,$H,id,$1R,$i){DayPilot.us(element);var $0m=DayPilotCalendar.drag={};$0m.element=element;$0m.duration=$H;$0m.text=$1R;$0m.id=id;$0m.shadowType=$i?$i:'Fill';return false;};DayPilotCalendar.deleteShadow=function($J){if(!$J){return;};if(!$J.parentNode){return;};$J.parentNode.removeChild($J);};DayPilotCalendar.createGShadow=function($i){var $J=document.createElement('div');$J.setAttribute('unselectable','on');$J.style.position='absolute';$J.style.width='100px';$J.style.height='20px';$J.style.border='2px dotted #666666';$J.style.zIndex=101;if($i==='Fill'){$J.style.backgroundColor="#aaaaaa";$J.style.opacity=0.5;$J.style.filter="alpha(opacity=50)";$J.style.border='2px solid #aaaaaa';};document.body.appendChild($J);return $J;};DayPilotCalendar.moveShadow=function($o){var $J=DayPilotCalendar.movingShadow;$J.parentNode.removeChild($J);$o.firstChild.appendChild($J);$J.style.left='0px';$J.style.width=(DayPilotCalendar.movingShadow.parentNode.offsetWidth)+'px';};DayPilotCalendar.Column=function($3k,name,$0q){this.value=$3k;this.id=$3k;this.name=name;this.date=new DayPilot.Date($0q);};DayPilot.CalendarVisible.dragStart=DayPilotCalendar.dragStart;DayPilot.CalendarVisible.Calendar=DayPilotCalendar.Calendar;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotCalendar=function($3l){var $0A=null;var j=this.each(function(){if(this.daypilot){return;};var $3m=new DayPilot.Calendar(this.id);this.daypilot=$3m;for(var name in $3l){$3m[name]=$3l[name];};$3m.Init();if(!$0A){$0A=$3m;}});if(this.length===1){return $0A;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.$!=='undefined'){return;};DayPilot.$=function(id){return document.getElementById(id);};DayPilot.mo=function(t,ev){ev=ev||window.event;if(ev.layerX){var $a={x:ev.layerX,y:ev.layerY};if(!t){return $a;};return $a;};if(ev.offsetX){return{x:ev.offsetX,y:ev.offsetY};};return null;};DayPilot.isKhtml=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("KHTML")!==-1);DayPilot.isIE=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.isIE7=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE 7")!==-1);DayPilot.isIEQuirks=DayPilot.isIE&&(document.compatMode&&document.compatMode==="BackCompat");DayPilot.mo2=function($b,ev){ev=ev||window.event;if(typeof(ev.offsetX)!=='undefined'){var $a={x:ev.offsetX+1,y:ev.offsetY+1};if(!$b){return $a;};var $c=ev.srcElement;while($c&&$c!==$b){if($c.tagName!=='SPAN'){$a.x+=$c.offsetLeft;if($c.offsetTop>0){$a.y+=$c.offsetTop-$c.scrollTop;}};$c=$c.offsetParent;};if($c){return $a;};return null;};if(typeof(ev.layerX)!=='undefined'){var $a={x:ev.layerX,y:ev.layerY,$d:ev.target};if(!$b){return $a;};var $c=ev.target;while($c&&$c.style.position!=='absolute'&&$c.style.position!=='relative'){$c=$c.parentNode;if(DayPilot.isKhtml){$a.y+=$c.scrollTop;}}while($c&&$c!==$b){$a.x+=$c.offsetLeft;$a.y+=$c.offsetTop-$c.scrollTop;$c=$c.offsetParent;};if($c){return $a;};return null;};return null;};DayPilot.mo3=function($b,ev){ev=ev||window.event;var $e=DayPilot.page(ev);if($e){var $f=DayPilot.abs($b);return{x:$e.x-$f.x,y:$e.y-$f.y};};return DayPilot.mo2($b,ev);};DayPilot.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};DayPilot.page=function(ev){ev=ev||window.event;if(typeof ev.pageX!=='undefined'){return{x:ev.pageX,y:ev.pageY};};if(typeof ev.clientX!=='undefined'){return{x:ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:ev.clientY+document.body.scrollTop+document.documentElement.scrollTop};};return null;};DayPilot.abs=function(element,$g){if(!element){return null;};var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};if(element.getBoundingClientRect){var b=null;try{b=element.getBoundingClientRect();}catch(e){b={top:element.offsetTop,$h:element.offsetLeft};};r.x=b.left;r.y=b.top;var d=DayPilot.doc();r.x-=d.clientLeft||0;r.y-=d.clientTop||0;var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;if($g){var $j=DayPilot.absOffsetBased(element,false);var $g=DayPilot.absOffsetBased(element,true);r.x+=$g.x-$j.x;r.y+=$g.y-$j.y;r.w=$g.w;r.h=$g.h;};return r;}else{return DayPilot.absOffsetBased(element,$g);}};DayPilot.isArray=function(o){return Object.prototype.toString.call(o)==='[object Array]';};DayPilot.absOffsetBased=function(element,$g){var r={x:element.offsetLeft,y:element.offsetTop,w:element.clientWidth,h:element.clientHeight,toString:function(){return "x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h;}};while(DayPilot.op(element)){element=DayPilot.op(element);r.x-=element.scrollLeft;r.y-=element.scrollTop;if($g){if(r.x<0){r.w+=r.x;r.x=0;};if(r.y<0){r.h+=r.y;r.y=0;};if(element.scrollLeft>0&&r.x+r.w>element.clientWidth){r.w-=r.x+r.w-element.clientWidth;};if(element.scrollTop&&r.y+r.h>element.clientHeight){r.h-=r.y+r.h-element.clientHeight;}};r.x+=element.offsetLeft;r.y+=element.offsetTop;};var $i=DayPilot.pageOffset();r.x+=$i.x;r.y+=$i.y;return r;};DayPilot.wd=function(){var $k=DayPilot.isIEQuirks;var $l=document.documentElement.clientHeight;if($k){$l=document.body.clientHeight;};var $m=document.documentElement.clientWidth;if($k){$m=document.body.clientWidth;};var $n=(document.documentElement&&document.documentElement.scrollTop)||document.body.scrollTop;var $o=(document.documentElement&&document.documentElement.scrollLeft)||document.body.scrollLeft;var $p={};$p.width=$m;$p.height=$l;$p.scrollTop=$n;$p.scrollLeft=$o;return $p;};DayPilot.op=function(element){try{return element.offsetParent;}catch(e){return document.body;}};DayPilot.distance=function($q,$r){return Math.sqrt(Math.pow($q.x-$r.x,2)+Math.pow($q.y-$r.y,2));};DayPilot.doc=function(){var de=document.documentElement;return(de&&de.clientHeight)?de:document.body;};DayPilot.pageOffset=function(){if(typeof pageXOffset!=='undefined'){return{x:pageXOffset,y:pageYOffset};};var d=DayPilot.doc();return{x:d.scrollLeft,y:d.scrollTop};};DayPilot.ac=function(e,$s){if(!$s){var $s=[];};for(var i=0;e.children&&i<e.children.length;i++){$s.push(e.children[i]);DayPilot.ac(e.children[i],$s);};return $s;};DayPilot.indexOf=function($t,$u){if(!$t||!$t.length){return -1;};for(var i=0;i<$t.length;i++){if($t[i]===$u){return i;}};return -1;};DayPilot.rfa=function($t,$u){var i=DayPilot.indexOf($t,$u);if(i===-1){return;};$t.splice(i,1);};DayPilot.debug=function($v,$w){if(!DayPilot.debugMessages){DayPilot.debugMessages=[];};DayPilot.debugMessages.push($v);if(typeof console!=='undefined'){console.log($v);}};DayPilot.debug.show=function(){alert("Log:\n"+DayPilot.debugMessages.join("\n"));};DayPilot.debug.clear=function(){DayPilot.debugMessages=[];};DayPilot.re=function(el,ev,$x){if(el.addEventListener){el.addEventListener(ev,$x,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$x);}};DayPilot.ue=function(el,ev,$x){if(el.removeEventListener){el.removeEventListener(ev,$x,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$x);}};DayPilot.tr=function($y){if(!$y)return '';return $y.replace(/^\s+|\s+$/g,"");};DayPilot.ds=function(d){return DayPilot.Date.toStringSortable(d);};DayPilot.gs=function(el,$z){var x=el;if(x.currentStyle)var y=x.currentStyle[$z];else if(window.getComputedStyle)var y=document.defaultView.getComputedStyle(x,null).getPropertyValue($z);if(typeof(y)==='undefined')y='';return y;};DayPilot.ea=function(a){var $A="";for(var i=0;i<a.length;i++){if(a[i]||typeof(a[i])==='number'){if(a[i].isDayPilotDate){a[i]=a[i].toStringSortable();}else if(a[i].getFullYear){a[i]=DayPilot.ds(a[i]);};$A+=encodeURIComponent(a[i]);};if(i+1<a.length){$A+='&';}};return $A;};DayPilot.he=function(str){var $p=str.replace(/&/g,"&amp;");$p=$p.replace(/</g,"&lt;");$p=$p.replace(/>/g,"&gt;");$p=$p.replace(/"/g,"&quot;");return $p;};DayPilot.ci=function($B){var i=$B.cellIndex;if(i&&i>0)return i;var tr=$B.parentNode;var $C=tr.cells.length;for(i=0;i<$C;i++){if(tr.cells[i]===$B)return i;};return null;};DayPilot.us=function(element){if(element){element.setAttribute("unselectable","on");element.style.MozUserSelect='none';for(var i=0;i<element.childNodes.length;i++){if(element.childNodes[i].nodeType===1){DayPilot.us(element.childNodes[i]);}}}};DayPilot.pu=function(d){var a=d.attributes,i,l,n;if(a){l=a.length;for(i=0;i<l;i+=1){if(!a[i]){continue;};n=a[i].name;if(typeof d[n]==='function'){d[n]=null;}}};a=d.childNodes;if(a){l=a.length;for(i=0;i<l;i+=1){var $s=DayPilot.pu(d.childNodes[i]);}}};DayPilot.puc=function(d){var a=d.childNodes,i,l;if(a){var l=a.length;for(i=0;i<l;i+=1){DayPilot.pu(d.childNodes[i]);}}};DayPilot.de=function(e){if(!e){return;};if(!e.parentNode){return;};e.parentNode.removeChild(e);};DayPilot.gr=function($B){var i=0;var tr=$B.parentNode;while(tr.previousSibling){tr=tr.previousSibling;if(tr.tagName==="TR"){i++;}};return i;};DayPilot.fade=function(element,$D,end){var $E=50;var $g=element.style.display!=='none';var $F=$D>0;var $G=$D<0;if($D===0){return;};if($F&&!$g){element.target=parseFloat(element.style.opacity);element.opacity=0;element.style.opacity=0;element.style.filter="alpha(opacity=0)";element.style.display='';}else if($G&&!element.target){element.target=element.style.opacity;}else{var $c=element.opacity;var $H=Math.floor(10*($c+$D))/10;if($F&&$H>element.target){$H=element.target;};if($G&&$H<0){$H=0;};var ie=$H*100;element.opacity=$H;element.style.opacity=$H;element.style.filter="alpha(opacity="+ie+")";};if(($F&&(element.opacity>=element.target||element.opacity>=1))||($G&&element.opacity<=0)){element.target=null;if($G){element.style.opacity=element.target;element.opacity=element.target;var $I=element.target?"alpha(opacity="+(element.target*100)+")":null;element.style.filter=$I;element.style.display='none';};if(end&&typeof end==='function'){end();}}else{this.messageTimeout=setTimeout(function(){DayPilot.fade(element,$D,end);},$E);}};DayPilot.sw=function(element){if(!element){return 0;};return element.offsetWidth-element.clientWidth;};DayPilot.sh=function(element){if(!element){return 0;};return element.offsetHeight-element.clientHeight;};DayPilot.guid=function(){var S4=function(){return(((1+Math.random())*0x10000)|0).toString(16).substring(1);};return(""+S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4());};DayPilot.ua=function($t){var u={},a=[];for(var i=0,l=$t.length;i<l;++i){if($t[i]in u)continue;a.push($t[i]);u[$t[i]]=1;};return a;};(function(){DayPilot.pop=wave;function wave($J,$K){var $b={w:$J.offsetWidth,h:$J.offsetHeight,x:parseInt($J.style.left),y:parseInt($J.style.top)};$b.height=$J.style.height;$b.width=$J.style.width;$b.top=$J.style.top;$b.left=$J.style.left;$b.toString=function(){return "w: "+this.w+" h:"+this.h};var $L={};$L.finished=null;$L.vertical='center';$L.horizontal='center';if($K){for(var name in $K){$L[name]=$K[name];}};$J.style.visibility='hidden';$J.style.display='';var $M=$K.animation||"fast";var $N=createPlan($M);$N.div=$J;$N.i=0;$N.target=$b;$N.config=$L;doStep($N);};function createPlan($O){var $P=function(){var $N=[];$N.time=10;var $Q;var $D=0.08;$Q=0.1;for(var i=$Q;i<1.2;i+=$D){$N.push(i);$Q=i;};$D=0.03;for(var i=$Q;i>0.8;i-=$D){$N.push(i);$Q=i;};for(var i=$Q;i<=1;i+=$D){$N.push(i);$Q=i;};return $N;};var $R=function(){var $N=[];$N.time=15;var $Q;var $D=0.04;$Q=0.1;for(var i=$Q;i<=1;i+=$D){$N.push(i);$Q=i;};return $N;};var $S=function(){var $N=[];$N.time=9;var $Q;var $D=0.04;$Q=0.1;for(var i=$Q;i<=1;i+=$D){$N.push(i);$Q=i;};return $N;};var $T={"fast":$S,"slow":$R,"jump":$P};if(!$T[$O]){$O="fast";};return $T[$O]();};function doStep($N){var $J=$N.div;var $U=$N[$N.i];var $V=$U*$N.target.h;var top;switch($N.config.vertical){case "center":top=$N.target.y-($V-$N.target.h)/2;break;case "top":top=$N.target.y;break;case "bottom":top=$N.target.y-($V-$N.target.h);break;default:throw "Unexpected 'vertical' value.";};var $W=$U*$N.target.w;var $h;switch($N.config.horizontal){case "left":$h=$N.target.x;break;case "center":$h=$N.target.x-($W-$N.target.w)/2;break;case "right":$h=$N.target.x-($W-$N.target.w);break;default:throw "Unexpected 'horizontal' value.";};var wd=DayPilot.wd();var $X=(wd.height+wd.scrollTop)-(top+$V);if($X<0){top+=$X;};var $Y=(wd.width)-($h+$W);if($Y<0){$h+=$Y;};$J.style.height=$V+"px";$J.style.top=top+"px";$J.style.width=$W+"px";$J.style.left=$h+"px";$J.style.visibility='visible';$N.i++;if($N.i<$N.length-1){setTimeout((function($N){return function(){doStep($N);};})($N),$N.time);}else{$J.style.width=$N.target.width;$J.style.height=$N.target.height;$J.style.top=$N.target.top;$J.style.left=$N.target.left;if(typeof $N.config.finished==='function'){$N.config.finished();}}}})();DayPilot.Util={};DayPilot.Util.addClass=function($u,name){if(!$u){return;};if(!$u.className){$u.className=name;return;};var $Z=new RegExp("(^|\\s)"+name+"($|\\s)");if(!$Z.test($u.className)){$u.className=$u.className+' '+name;}};DayPilot.Util.removeClass=function($u,name){if(!$u){return;};var $Z=new RegExp("(^|\\s)"+name+"($|\\s)");$u.className=$u.className.replace($Z,' ').replace(/^\s\s*/,'').replace(/\s\s*$/,'');};DayPilot.Util.props=function(o){var t=[];for(a in o){t.push(a);t.push(o[a]);};return t.join("-");};DayPilot.Util.propArray=function($00,name){var $p=[];if(!$00||!$00.length){return $p;};for(var i=0;i<$00.length;i++){$p.push($00[i][name]);};return $p;};DayPilot.Util.updatePropsFromArray=function($00,name,$t){for(var i=0;i<$t.length;i++){$00[i][name]=$t[i];}};DayPilot.Util.copyProps=function($01,$b,$00){if(typeof $00==='undefined'){for(var name in $01){$b[name]=$01[name];}}else{for(var i=0;i<$00.length;i++){var name=$00[i];$b[name]=$01[name];}}};DayPilot.Areas={};DayPilot.Areas.showAreas=function($J,e,ev){if(DayPilot.Global.resizing){return;};if(DayPilot.Global.moving){return;};if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0){for(var i=0;i<DayPilot.Areas.all.length;i++){var d=DayPilot.Areas.all[i];if(d!==$J){DayPilot.Areas.hideAreas(d,ev);}}};if($J.active){return;};$J.active={};var $02=e.areas;if(!$02&&e.data&&e.data.areas){$02=e.data.areas;};if(!$02||$02.length===0){return;};if($J.areas&&$J.areas.length>0){return;};$J.areas=[];for(var i=0;i<$02.length;i++){var $03=$02[i];if($03.v!=='Hover'){continue;};var a=DayPilot.Areas.createArea($J,e,$03);$J.areas.push(a);$J.appendChild(a);DayPilot.Areas.all.push($J);};$J.active.children=DayPilot.ac($J);};DayPilot.Areas.createArea=function($J,e,$03){var a=document.createElement("div");a.style.position="absolute";if(typeof $03.w!=='undefined'){a.style.width=$03.w+"px";};if(typeof $03.h!=='undefined'){a.style.height=$03.h+"px";};if(typeof $03.right!=='undefined'){a.style.right=$03.right+"px";};if(typeof $03.top!=='undefined'){a.style.top=$03.top+"px";};if(typeof $03.left!=='undefined'){a.style.left=$03.left+"px";};if(typeof $03.bottom!=='undefined'){a.style.bottom=$03.bottom+"px";};if(typeof $03.html!=='undefined'&&$03.html){a.innerHTML=$03.html;};if($03.css){a.className=$03.css;};if($03.action==="ResizeEnd"||$03.action==="ResizeStart"||$03.action==="Move"){if(e.calendar.isCalendar){switch($03.action){case "ResizeEnd":$03.cursor="s-resize";$03.dpBorder="bottom";break;case "ResizeStart":$03.cursor="n-resize";$03.dpBorder="top";break;case "Move":$03.cursor="move";break;}};if(e.calendar.isScheduler||e.calendar.isMonth){switch($03.action){case "ResizeEnd":$03.cursor="e-resize";$03.dpBorder="right";break;case "ResizeStart":$03.cursor="w-resize";$03.dpBorder="left";break;case "Move":$03.cursor="move";break;}};a.onmousemove=(function($J,e,$03){return function(ev){var ev=ev||window.event;$J.style.cursor=$03.cursor;if($03.dpBorder)$J.dpBorder=$03.dpBorder;ev.cancelBubble=true;};})($J,e,$03);a.onmouseout=(function($J,e,$03){return function(ev){$J.style.cursor='';};})($J,e,$03);};if($03.action==="Bubble"&&e.isEvent){a.onmousemove=(function($J,e,$03){return function(ev){if(e.calendar.bubble){e.calendar.bubble.showEvent(e);}};})($J,e,$03);a.onmouseout=(function($J,e,$03){return function(ev){if(typeof DayPilot.Bubble!=="undefined"){if(e.calendar.bubble){e.calendar.bubble.hideOnMouseOut();}}};})($J,e,$03);};a.onmousedown=(function($J,e,$03){return function(ev){if(!e.calendar){return;};var $04=false;if(e.calendar.isMonth){$04=true;};if(e.calendar.isScheduler&&e.calendar.moveBy==='Full'){$04=true;};if($04){if($03.action==="Move"||$03.action==="ResizeEnd"||$03.action==="ResizeStart"){return;};ev=ev||window.event;ev.cancelBubble=true;}};})($J,e,$03);a.onclick=(function($J,e,$03){return function(ev){var ev=ev||window.event;switch($03.action){case "JavaScript":var f=$03.js;if(typeof f==='string'){f=eval("0, "+$03.js);};if(typeof f==='function'){f.call(this,e);};break;case "ContextMenu":var m=$03.menu;if(typeof m==='string'){m=eval(m);};if(m&&m.show){m.show(e);};break;case "CallBack":alert("callback not implemented yet, id: "+$03.id);break;};ev.cancelBubble=true;};})($J,e,$03);return a;};DayPilot.Areas.all=[];DayPilot.Areas.hideAreas=function($J,ev){if(!$J){return;};if(!$J||!$J.active){return;};var $05=$J.active;var $02=$J.areas;if($05&&$05.children){var ev=ev||window.event;if(ev){var $b=ev.toElement||ev.relatedTarget;if(~DayPilot.indexOf($05.children,$b)){return;}}};if(!$02||$02.length===0){$J.active=null;return;};for(var i=0;i<$02.length;i++){var a=$02[i];$J.removeChild(a);};$J.active=null;$J.areas=[];DayPilot.rfa(DayPilot.Areas.all,$J);$05.children=null;};DayPilot.Areas.hideAll=function(ev){if(!DayPilot.Areas.all||DayPilot.Areas.all.length===0){return;};for(var i=0;i<DayPilot.Areas.all.length;i++){DayPilot.Areas.hideAreas(DayPilot.Areas.all[i],ev);}};DayPilot.Action=function($06,$07,$08,$09){this.calendar=$06;this.isAction=true;this.action=$07;this.params=$08;this.data=$09;this.notify=function(){$06.internal.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$06.internal.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$06.queue.add(this);};this.toJSON=function(){var $0a={};$0a.name=this.action;$0a.params=this.params;$0a.data=this.data;return $0a;};};DayPilot.Selection=function($0b,end,$0c,$0d){this.type='selection';this.start=$0b.isDayPilotDate?$0b:new DayPilot.Date($0b);this.end=end.isDayPilotDate?end:new DayPilot.Date(end);this.resource=$0c;this.root=$0d;this.toJSON=function($0e){var $0a={};$0a.start=this.start;$0a.end=this.end;$0a.resource=this.resource;return $0a;};};DayPilot.Event=function($09,$06,$0f){var e=this;this.calendar=$06;this.data=$09?$09:{};this.part=$0f?$0f:{};if(typeof this.data.id==='undefined'){this.data.id=this.data.value;};var $0g={};var $0h=["id","text","start","end","resource"];this.isEvent=true;this.temp=function(){if($0g.dirty){return $0g;};for(var i=0;i<$0h.length;i++){$0g[$0h[i]]=e.data[$0h[i]];};$0g.dirty=true;return $0g;};this.copy=function(){var $p={};for(var i=0;i<$0h.length;i++){$p[$0h[i]]=e.data[$0h[i]];};return $p;};this.commit=function(){if(!$0g.dirty){return;};for(var i=0;i<$0h.length;i++){e.data[$0h[i]]=$0g[$0h[i]];};$0g.dirty=false;};this.dirty=function(){return $0g.dirty;};this.id=function($0i){if(typeof $0i==='undefined'){return e.data.id;}else{this.temp().id=$0i;}};this.value=function($0i){if(typeof $0i==='undefined'){return e.id();}else{e.id($0i);}};this.text=function($0i){if(typeof $0i==='undefined'){return e.data.text;}else{this.temp().text=$0i;this.client.innerHTML($0i);}};this.start=function($0i){if(typeof $0i==='undefined'){return new DayPilot.Date(e.data.start);}else{this.temp().start=new DayPilot.Date($0i);}};this.end=function($0i){if(typeof $0i==='undefined'){return new DayPilot.Date(e.data.end);}else{this.temp().end=new DayPilot.Date($0i);}};this.partStart=function(){return new DayPilot.Date(this.part.start);};this.partEnd=function(){return new DayPilot.Date(this.part.end);};this.row=function(){return this.resource();};this.allday=function(){if(typeof $0i==='undefined'){return e.data.allday;}else{this.temp().allday=$0i;}};this.isAllDay=this.allday;this.resource=function($0i){if(typeof $0i==='undefined'){return e.data.resource;}else{this.temp().resource=$0i;}};this.recurrent=function(){return e.data.recurrent;};this.recurrentMasterId=function(){return e.data.recurrentMasterId;};this.useBox=function(){return this.part.box;};this.staticBubbleHTML=function(){return e.data.bubbleHtml;};this.bubbleHtml=function(){return e.data.bubbleHtml;};this.tag=function($0j){var $0k=e.data.tag;if(!$0k){return null;};if(typeof $0j==='undefined'){return e.data.tag;};var $0l=e.calendar.tagFields;var $0m=-1;for(var i=0;i<$0l.length;i++){if($0j===$0l[i])$0m=i;};if($0m===-1){throw "Field name not found.";};return $0k[$0m];};this.client={};this.client.innerHTML=function($0i){if(typeof $0i==='undefined'){if(e.cache&&typeof e.cache.html!=="undefined"){return e.cache.html;};if(typeof e.data.html!=="undefined"){return e.data.html;};return e.data.text;}else{e.data.html=$0i;}};this.client.html=this.client.innerHTML;this.client.header=function($0i){if(typeof $0i==='undefined'){return e.data.header;}else{e.data.header=$0i;}};this.client.cssClass=function($0i){if(typeof $0i==='undefined'){return e.data.cssClass;}else{e.data.cssClass=$0i;}};this.client.toolTip=function($0i){if(typeof $0i==='undefined'){if(e.cache&&typeof e.cache.toolTip!=="undefined"){return e.cache.toolTip;};return typeof e.data.toolTip!=='undefined'?e.data.toolTip:e.data.text;}else{e.data.toolTip=$0i;}};this.client.backColor=function($0i){if(typeof $0i==='undefined'){if(e.cache&&typeof e.cache.backColor!=="undefined"){return e.cache.backColor;};return typeof e.data.backColor!=="undefined"?e.data.backColor:e.calendar.eventBackColor;}else{e.data.backColor=$0i;}};this.client.borderColor=function($0i){if(typeof $0i==='undefined'){if(e.cache&&typeof e.cache.borderColor!=="undefined"){return e.cache.borderColor;};return typeof e.data.borderColor!=="undefined"?e.data.borderColor:e.calendar.eventBorderColor;}else{e.data.borderColor=$0i;}};this.client.barColor=function($0i){if(typeof $0i==='undefined'){if(e.cache&&typeof e.cache.barColor!=="undefined"){return e.cache.barColor;};return typeof e.data.barColor!=="undefined"?e.data.barColor:e.calendar.durationBarColor;}else{e.data.barColor=$0i;}};this.client.barVisible=function($0i){if(typeof $0i==='undefined'){return e.calendar.durationBarVisible&&!e.data.barHidden;}else{e.data.barHidden=!$0i;}};this.client.contextMenu=function($0i){if(typeof $0i==='undefined'){if(e.oContextMenu){return e.oContextMenu;};return(e.data.contextMenu)?eval(e.data.contextMenu):null;}else{e.oContextMenu=$0i;}};this.client.moveEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.eventMoveHandling!=='Disabled'&&!e.data.moveDisabled;}else{e.data.moveDisabled=!$0i;}};this.client.resizeEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.eventResizeHandling!=='Disabled'&&!e.data.resizeDisabled;}else{e.data.resizeDisabled=!$0i;}};this.client.rightClickEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.rightClickHandling!=='Disabled'&&!e.data.rightClickDisabled;}else{e.data.rightClickDisabled=!$0i;}};this.client.clickEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.clickHandling!=='Disabled'&&!e.data.clickDisabled;}else{e.data.clickDisabled=!$0i;}};this.client.deleteEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0i;}};this.client.doubleClickEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.doubleClickHandling!=='Disabled'&&!e.data.doubleClickDisabled;}else{e.data.doubleClickDisabled=!$0i;}};this.client.deleteClickEnabled=function($0i){if(typeof $0i==='undefined'){return e.calendar.eventDeleteHandling!=='Disabled'&&!e.data.deleteDisabled;}else{e.data.deleteDisabled=!$0i;}};this.toJSON=function($0e){var $0a={};$0a.value=this.id();$0a.id=this.id();$0a.text=this.text();$0a.start=this.start();$0a.end=this.end();$0a.resource=this.resource();$0a.isAllDay=false;$0a.recurrentMasterId=this.recurrentMasterId();$0a.tag={};if(e.calendar.tagFields){var $0l=e.calendar.tagFields;for(var i=0;i<$0l.length;i++){$0a.tag[$0l[i]]=this.tag($0l[i]);}};return $0a;};};DayPilot.EventData=function(e){this.value=function(){return id;};this.tag=function(){return null;};this.start=function(){return new Date(0);};this.end=function(){return new Date($0n*1000);};this.text=function(){return $0o;};this.isAllDay=function(){return false;};this.allday=this.isAllDay;};DayPilot.request=function($0p,$0q,$0r,$0s){var $0t=DayPilot.createXmlHttp();if(!$0t){return;};$0t.open("POST",$0p,true);$0t.setRequestHeader('Content-type','text/plain');$0t.onreadystatechange=function(){if($0t.readyState!==4)return;if($0t.status!==200&&$0t.status!==304){if($0s){$0s($0t);}else{DayPilot.debug('HTTP error '+$0t.status);};return;};$0q($0t);};if($0t.readyState===4){return;};if(typeof $0r==='object'){$0r=DayPilot.JSON.stringify($0r);};$0t.send($0r);};DayPilot.createXmlHttp=function(){var $0u;try{$0u=new XMLHttpRequest();}catch(e){try{$0u=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){}};return $0u;};DayPilot.Date=function($0v,$0w){if(typeof $0v==='undefined'){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal();this.ticks=this.d.getTime();return;};if($0v.isDayPilotDate){return $0v;};var $0x=DayPilot.Date.Cache.Ctor;if($0x[$0v]){return $0x[$0v];};if(typeof $0v==="string"){var $p=DayPilot.Date.fromStringSortable($0v);$0x[$0v]=$p;return $p;};if(!$0v.getFullYear){throw "date parameter is not a Date object: "+$0v;};if($0w){this.isDayPilotDate=true;this.d=DayPilot.Date.fromLocal($0v);this.ticks=this.d.getTime();}else{this.isDayPilotDate=true;this.d=$0v;this.ticks=this.d.getTime();}};DayPilot.Date.Cache={};DayPilot.Date.Cache.Parsing={};DayPilot.Date.Cache.Ctor={};DayPilot.Date.prototype.addDays=function($0y){return new DayPilot.Date(DayPilot.Date.addDays(this.d,$0y));};DayPilot.Date.prototype.addHours=function($0z){return this.addTime($0z*60*60*1000);};DayPilot.Date.prototype.addMilliseconds=function($0A){return this.addTime($0A);};DayPilot.Date.prototype.addMinutes=function($0B){return this.addTime($0B*60*1000);};DayPilot.Date.prototype.addMonths=function($0C){return new DayPilot.Date(DayPilot.Date.addMonths(this.d,$0C));};DayPilot.Date.prototype.addSeconds=function($0D){return this.addTime($0D*1000);};DayPilot.Date.prototype.addTime=function($0E){return new DayPilot.Date(DayPilot.Date.addTime(this.d,$0E));};DayPilot.Date.prototype.addYears=function($0F){var n=this.clone();n.d.setUTCFullYear(this.getYear()+$0F);return n;};DayPilot.Date.prototype.clone=function(){return new DayPilot.Date(DayPilot.Date.clone(this.d));};DayPilot.Date.prototype.dayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.getDayOfWeek=function(){return this.d.getUTCDay();};DayPilot.Date.prototype.daysInMonth=function(){return DayPilot.Date.daysInMonth(this.d);};DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/86400000)+1;};DayPilot.Date.prototype.equals=function($0G){if($0G===null){return false;};if($0G.isDayPilotDate){return DayPilot.Date.equals(this.d,$0G.d);}else{throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";}};DayPilot.Date.prototype.firstDayOfMonth=function(){var $0H=DayPilot.Date.firstDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0H);};DayPilot.Date.prototype.firstDayOfYear=function(){var $0I=this.getYear();var d=new Date();d.setUTCFullYear($0I,0,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};DayPilot.Date.prototype.firstDayOfWeek=function($0J){var $0H=DayPilot.Date.firstDayOfWeek(this.d,$0J);return new DayPilot.Date($0H);};DayPilot.Date.prototype.getDay=function(){return this.d.getUTCDate();};DayPilot.Date.prototype.getDatePart=function(){return new DayPilot.Date(DayPilot.Date.getDate(this.d));};DayPilot.Date.prototype.getYear=function(){return this.d.getUTCFullYear();};DayPilot.Date.prototype.getHours=function(){return this.d.getUTCHours();};DayPilot.Date.prototype.getMilliseconds=function(){return this.d.getUTCMilliseconds();};DayPilot.Date.prototype.getMinutes=function(){return this.d.getUTCMinutes();};DayPilot.Date.prototype.getMonth=function(){return this.d.getUTCMonth();};DayPilot.Date.prototype.getSeconds=function(){return this.d.getUTCSeconds();};DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime();};DayPilot.Date.prototype.getTime=function(){return this.ticks;};DayPilot.Date.prototype.getTimePart=function(){return DayPilot.Date.getTime(this.d);};DayPilot.Date.prototype.lastDayOfMonth=function(){var $0H=DayPilot.Date.lastDayOfMonth(this.getYear(),this.getMonth()+1);return new DayPilot.Date($0H);};DayPilot.Date.prototype.weekNumber=function(){var $0K=this.firstDayOfYear();var $0y=(this.getTime()-$0K.getTime())/86400000;return Math.ceil(($0y+$0K.dayOfWeek()+1)/7);};DayPilot.Date.prototype.local=function(){if(typeof this.offset==='undefined'){return new DayPilot.Date(this.d);};return this.addMinutes(this.offset);};DayPilot.Date.prototype.weekNumberISO=function(){var $0L=false;var $0M=this.dayOfYear();var $0N=this.firstDayOfYear().dayOfWeek();var $0O=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();if($0N===0){$0N=7;};if($0O===0){$0O=7;};var $0P=8-($0N);if($0N===4||$0O===4){$0L=true;};var $0Q=Math.ceil(($0M-($0P))/7.0);var $0R=$0Q;if($0P>=4){$0R=$0R+1;};if($0R>52&&!$0L){$0R=1;};if($0R===0){$0R=this.firstDayOfYear().addDays(-1).weekNumberISO();};return $0R;};DayPilot.Date.prototype.toDateLocal=function(){return DayPilot.Date.toLocal(this.d);};DayPilot.Date.prototype.toJSON=function(){return this.toStringSortable();};DayPilot.Date.prototype.toString=function($0S,$0T){if(typeof $0S==='undefined'){return this.toStringSortable();};return new $0U($0S,$0T).print(this);};DayPilot.Date.prototype.toStringSortable=function(){return DayPilot.Date.toStringSortable(this.d);};DayPilot.Date.parse=function(str,$0S){var p=new $0U($0S);return p.parse(str);};DayPilot.Date.fromStringSortable=function($0V){var $p;if(!$0V){throw "Can't create DayPilot.Date from empty string";};var $C=$0V.length;var $0v=$C===10;var $0W=$C=19;var $0X=$C===25;if(!$0v&&!$0W&&!$0X){throw "Invalid string format (use '2010-01-01', '2010-01-01T00:00:00', or '2010-01-01T00:00:00+00:00'.";};if(DayPilot.Date.Cache.Parsing[$0V]){return DayPilot.Date.Cache.Parsing[$0V];};var $0I=$0V.substring(0,4);var $0Y=$0V.substring(5,7);var $0Z=$0V.substring(8,10);var d=new Date();d.setUTCFullYear($0I,$0Y-1,$0Z);if($0v){d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);$p=new DayPilot.Date(d);DayPilot.Date.Cache.Parsing[$0V]=$p;return $p;};var $0z=$0V.substring(11,13);var $0B=$0V.substring(14,16);var $0D=$0V.substring(17,19);d.setUTCHours($0z);d.setUTCMinutes($0B);d.setUTCSeconds($0D);d.setUTCMilliseconds(0);var $p=new DayPilot.Date(d);if($0W){DayPilot.Date.Cache.Parsing[$0V]=$p;return $p;};var $10=$0V[20];var $11=$0V.substring(21,23);var $12=$0V.substring(24);var $13=$11*60+$12;if($10==="-"){$13=-$13;};$p=$p.addMinutes(-$13);$p.offset=$14;DayPilot.Date.Cache.Parsing[$0V]=$p;return $p;};DayPilot.Date.addDays=function($0v,$0y){var d=new Date();d.setTime($0v.getTime()+$0y*24*60*60*1000);return d;};DayPilot.Date.addMinutes=function($0v,$0B){var d=new Date();d.setTime($0v.getTime()+$0B*60*1000);return d;};DayPilot.Date.addMonths=function($0v,$0C){if($0C===0)return $0v;var y=$0v.getUTCFullYear();var m=$0v.getUTCMonth()+1;if($0C>0){while($0C>=12){$0C-=12;y++;};if($0C>12-m){y++;m=$0C-(12-m);}else{m+=$0C;}}else{while($0C<=-12){$0C+=12;y--;};if(m<=$0C){y--;m=12-($0C+m);}else{m=m+$0C;}};var d=DayPilot.Date.clone($0v);d.setUTCFullYear(y);d.setUTCMonth(m-1);return d;};DayPilot.Date.addTime=function($0v,$15){var d=new Date();d.setTime($0v.getTime()+$15);return d;};DayPilot.Date.clone=function($16){var d=new Date();return DayPilot.Date.dateFromTicks($16.getTime());};DayPilot.Date.daysDiff=function($0K,$17){if($0K.getTime()>$17.getTime()){return null;};var i=0;var $18=DayPilot.Date.getDate($0K);var $19=DayPilot.Date.getDate($17);while($18<$19){$18=DayPilot.Date.addDays($18,1);i++;};return i;};DayPilot.Date.daysInMonth=function($0I,$0Y){if($0I.getUTCFullYear){$0Y=$0I.getUTCMonth()+1;$0I=$0I.getUTCFullYear();};var m=[31,28,31,30,31,30,31,31,30,31,30,31];if($0Y!==2)return m[$0Y-1];if($0I%4!==0)return m[1];if($0I%100===0&&$0I%400!==0)return m[1];return m[1]+1;};DayPilot.Date.daysSpan=function($0K,$17){if($0K.getTime()===$17.getTime()){return 0;};var $1a=DayPilot.Date.daysDiff($0K,$17);if(DayPilot.Date.equals($17,DayPilot.Date.getDate($17))){$1a--;};return $1a;};DayPilot.Date.diff=function($0K,$17){if(!($0K&&$17&&$0K.getTime&&$17.getTime)){throw "Both compared objects must be Date objects (DayPilot.Date.diff).";};return $0K.getTime()-$17.getTime();};DayPilot.Date.equals=function($0K,$17){return $0K.getTime()===$17.getTime();};DayPilot.Date.fromLocal=function($1b){if(!$1b){$1b=new Date();};var d=new Date();d.setUTCFullYear($1b.getFullYear(),$1b.getMonth(),$1b.getDate());d.setUTCHours($1b.getHours());d.setUTCMinutes($1b.getMinutes());d.setUTCSeconds($1b.getSeconds());d.setUTCMilliseconds($1b.getMilliseconds());return d;};DayPilot.Date.firstDayOfMonth=function($0I,$0Y){var d=new Date();d.setUTCFullYear($0I,$0Y-1,1);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.firstDayOfWeek=function(d,$0J){var $0Z=d.getUTCDay();while($0Z!==$0J){d=DayPilot.Date.addDays(d,-1);$0Z=d.getUTCDay();};return d;};DayPilot.Date.dateFromTicks=function($0E){var d=new Date();d.setTime($0E);return d;};DayPilot.Date.getDate=function($16){var d=DayPilot.Date.clone($16);d.setUTCHours(0);d.setUTCMinutes(0);d.setUTCSeconds(0);d.setUTCMilliseconds(0);return d;};DayPilot.Date.getStart=function($0I,$0Y,$0J){var $1c=DayPilot.Date.firstDayOfMonth($0I,$0Y);d=DayPilot.Date.firstDayOfWeek($1c,$0J);return d;};DayPilot.Date.getTime=function($16){var $0v=DayPilot.Date.getDate($16);return DayPilot.Date.diff($16,$0v);};DayPilot.Date.hours=function($0v,$1d){var $1e=$0v.getUTCMinutes();if($1e<10)$1e="0"+$1e;var $1f=$0v.getUTCHours();if($1d){var am=$1f<12;var $1f=$1f%12;if($1f===0){$1f=12;};var $1g=am?"AM":"PM";return $1f+':'+$1e+' '+$1g;}else{return $1f+':'+$1e;}};DayPilot.Date.lastDayOfMonth=function($0I,$0Y){var d=DayPilot.Date.firstDayOfMonth($0I,$0Y);var length=DayPilot.Date.daysInMonth($0I,$0Y);d.setUTCDate(length);return d;};DayPilot.Date.max=function($0K,$17){if($0K.getTime()>$17.getTime()){return $0K;}else{return $17;}};DayPilot.Date.min=function($0K,$17){if($0K.getTime()<$17.getTime()){return $0K;}else{return $17;}};DayPilot.Date.today=function(){var $1h=new Date();var d=new Date();d.setUTCFullYear($1h.getFullYear());d.setUTCMonth($1h.getMonth());d.setUTCDate($1h.getDate());return d;};DayPilot.Date.toLocal=function($0v){if(!$0v){$0v=new Date();};var d=new Date();d.setFullYear($0v.getUTCFullYear(),$0v.getUTCMonth(),$0v.getUTCDate());d.setHours($0v.getUTCHours());d.setMinutes($0v.getUTCMinutes());d.setSeconds($0v.getUTCSeconds());d.setMilliseconds($0v.getUTCMilliseconds());return d;};DayPilot.Date.toStringSortable=function($0v){if($0v.isDayPilotDate){return $0v.toStringSortable();};var d=$0v;var $17=d.getUTCSeconds();if($17<10)$17="0"+$17;var $1e=d.getUTCMinutes();if($1e<10)$1e="0"+$1e;var $1f=d.getUTCHours();if($1f<10)$1f="0"+$1f;var $0Z=d.getUTCDate();if($0Z<10)$0Z="0"+$0Z;var $0Y=d.getUTCMonth()+1;if($0Y<10)$0Y="0"+$0Y;var $0I=d.getUTCFullYear();if($0I<=0){throw "The minimum year supported is 1.";};if($0I<10){$0I="000"+$0I;}else if($0I<100){$0I="00"+$0I;}else if($0I<1000){$0I="0"+$0I;};return $0I+"-"+$0Y+"-"+$0Z+'T'+$1f+":"+$1e+":"+$17;};var $0U=function($0S,$0T){if(typeof $0T==="string"){$0T=DayPilot.Locale.find($0T);};var $0T=$0T||DayPilot.Locale.US;var $1i=[{"seq":"yyyy","expr":"[0-9]{4,4};","str":function(d){return d.getYear();}},{"seq":"MMMM","expr":"[a-z]*","str":function(d){var r=$0T.monthNames[d.getMonth()];return r;}},{"seq":"MM","expr":"[0-9]{2,2};","str":function(d){var r=d.getMonth()+1;return r<10?"0"+r:r;}},{"seq":"M","expr":"[0-9]{1,2};","str":function(d){var r=d.getMonth()+1;return r;}},{"seq":"dddd","expr":"[a-z]*","str":function(d){var r=$0T.dayNames[d.getDayOfWeek()];return r;}},{"seq":"dd","expr":"[0-9]{2,2};","str":function(d){var r=d.getDay();return r<10?"0"+r:r;}},{"seq":"d","expr":"[0-9]{1,2};","str":function(d){var r=d.getDay();return r;}},{"seq":"m","expr":"[0-9]{1,2};","str":function(d){var r=d.getMinutes();return r;}},{"seq":"mm","expr":"[0-9]{2,2};","str":function(d){var r=d.getMinutes();return r<10?"0"+r:r;}},{"seq":"H","expr":"[0-9]{1,2};","str":function(d){var r=d.getHours();return r;}},{"seq":"HH","expr":"[0-9]{2,2};","str":function(d){var r=d.getHours();return r<10?"0"+r:r;}},{"seq":"h","expr":"[0-9]{1,2};","str":function(d){var $1f=d.getHours();var $1f=$1f%12;if($1f===0){$1f=12;};return $1f;}},{"seq":"hh","expr":"[0-9]{2,2};","str":function(d){var $1f=d.getHours();var $1f=$1f%12;if($1f===0){$1f=12;};var r=$1f;return r<10?"0"+r:r;}},{"seq":"tt","expr":"(AM|PM)","str":function(d){var $1f=d.getHours();var am=$1f<12;return am?"AM":"PM";}},{"seq":"s","expr":"[0-9]{1,2};","str":function(d){var r=d.getSeconds();return r;}},{"seq":"ss","expr":"[0-9]{2,2};","str":function(d){var r=d.getSeconds();return r<10?"0"+r:r;}}];var escape=function($0o){return $0o.replace(/[-[\]{};()*+?.,\\^$|#\s]/g,"\\$&");};this.init=function(){this.year=this.findSequence("yyyy");this.month=this.findSequence("MM")||this.findSequence("M");this.day=this.findSequence("dd")||this.findSequence("d");this.hours=this.findSequence("HH")||this.findSequence("H");this.minutes=this.findSequence("mm")||this.findSequence("m");this.seconds=this.findSequence("ss")||this.findSequence("s");};this.findSequence=function($1j){var $0m=$0S.indexOf($1j);if($0m===-1){return null;};return{"findValue":function($1k){var $1l=escape($0S);for(var i=0;i<$1i.length;i++){var $C=$1i[i].length;var $1m=($1j===$1i[i].seq);var $1n=$1i[i].expr;if($1m){$1n="("+$1n+")";};$1l=$1l.replace($1i[i].seq,$1n);};try{var r=new RegExp($1l);var $t=r.exec($1k);if(!$t){return null;};return parseInt($t[1]);}catch(e){alert("unable to create regex from: "+$1l);}}};};this.print=function($0v){var find=function(t){for(var i=0;i<$1i.length;i++){if($1i[i].seq===t){return $1i[i];}};return null;};var $1o=$0S.length<=0;var $1p=0;var $1q=[];while(!$1o){var $1r=$0S.substring($1p);var $1s=/(.)\1*/.exec($1r);if($1s&&$1s.length>0){var $1t=$1s[0];var q=find($1t);if(q){$1q.push(q);}else{$1q.push($1t);};$1p+=$1t.length;$1o=$0S.length<=$1p;}else{$1o=true;}};for(var i=0;i<$1q.length;i++){var c=$1q[i];if(typeof c!=='string'){$1q[i]=c.str($0v);}};return $1q.join("");};this.parse=function($1k){var $0I=this.year.findValue($1k);if(!$0I){return null;};var $0Y=this.month.findValue($1k);var $0Z=this.day.findValue($1k);var $0z=this.hours?this.hours.findValue($1k):0;var $0B=this.minutes?this.minutes.findValue($1k):0;var $0D=this.seconds?this.seconds.findValue($1k):0;var d=new Date();d.setUTCFullYear($0I,$0Y-1,$0Z);d.setUTCHours($0z);d.setUTCMinutes($0B);d.setUTCSeconds($0D);d.setUTCMilliseconds(0);return new DayPilot.Date(d);};this.init();};DayPilot.Action=function($06,$07,$08,$09){this.calendar=$06;this.isAction=true;this.action=$07;this.params=$08;this.data=$09;this.notify=function(){$06.invokeEvent("Immediate",this.action,this.params,this.data);};this.auto=function(){$06.invokeEvent("Notify",this.action,this.params,this.data);};this.queue=function(){$06.queue.add(this);};this.toJSON=function(){var $0a={};$0a.name=this.action;$0a.params=this.params;$0a.data=this.data;return $0a;};};DayPilot.Locale=function(id,$L){this.id=id;this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"];this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"];this.datePattern="M/d/yyyy";this.timePattern="H:mm";this.dateTimePattern="M/d/yyyy H:mm";this.timeFormat="Clock12Hours";this.weekStarts=0;if($L){for(var name in $L){this[name]=$L[name];}}};DayPilot.Locale.all={};DayPilot.Locale.find=function(id){if(!id){return null;};var $1u=id.toLowerCase();if($1u.length>2){$1u[2]='-';};return DayPilot.Locale.all[$1u];};DayPilot.Locale.register=function($0T){DayPilot.Locale.all[$0T.id]=$0T;};DayPilot.Locale.register(new DayPilot.Locale('de-de',{'dayNames':['Sonntag','Montag','Dienstag','Mittwoch','Donnerstag','Freitag','Samstag'],'dayNamesShort':['So','Mo','Di','Mi','Do','Fr','Sa'],'monthNames':['Januar','Februar','Mrz','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-au',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'d/MM/yyyy','dateTimePattern':'d/MM/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-ca',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('en-gb',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('en-us',{'dayNames':['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],'dayNamesShort':['Su','Mo','Tu','We','Th','Fr','Sa'],'monthNames':['January','February','March','April','May','June','July','August','September','October','November','December',''],'timePattern':'h:mm tt','datePattern':'M/d/yyyy','dateTimePattern':'M/d/yyyy h:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('es-es',{'dayNames':['domingo','lunes','martes','mircoles','jueves','viernes','sbado'],'dayNamesShort':['D','L','M','X','J','V','S'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'H:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('es-mx',{'dayNames':['domingo','lunes','martes','mircoles','jueves','viernes','sbado'],'dayNamesShort':['do.','lu.','ma.','mi.','ju.','vi.','s.'],'monthNames':['enero','febrero','marzo','abril','mayo','junio','julio','agosto','septiembre','octubre','noviembre','diciembre',''],'timePattern':'hh:mm tt','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy hh:mm tt','timeFormat':'Clock12Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('fr-fr',{'dayNames':['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'],'dayNamesShort':['di','lu','ma','me','je','ve','sa'],'monthNames':['janvier','fvrier','mars','avril','mai','juin','juillet','aot','septembre','octobre','novembre','dcembre',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('it-it',{'dayNames':['domenica','luned','marted','mercoled','gioved','venerd','sabato'],'dayNamesShort':['do','lu','ma','me','gi','ve','sa'],'monthNames':['gennaio','febbraio','marzo','aprile','maggio','giugno','luglio','agosto','settembre','ottobre','novembre','dicembre',''],'timePattern':'HH.mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH.mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('ja-jp',{'dayNames':['','','','','','',''],'dayNamesShort':['','','','','','',''],'monthNames':['1','2','3','4','5','6','7','8','9','10','11','12',''],'timePattern':'H:mm','datePattern':'yyyy/MM/dd','dateTimePattern':'yyyy/MM/dd H:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('pt-br',{'dayNames':['domingo','segunda-feira','tera-feira','quarta-feira','quinta-feira','sexta-feira','sbado'],'dayNamesShort':['D','S','T','Q','Q','S','S'],'monthNames':['janeiro','fevereiro','maro','abril','maio','junho','julho','agosto','setembro','outubro','novembro','dezembro',''],'timePattern':'HH:mm','datePattern':'dd/MM/yyyy','dateTimePattern':'dd/MM/yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':0}));DayPilot.Locale.register(new DayPilot.Locale('ru-ru',{'dayNames':['','','','','','',''],'dayNamesShort':['','','','','','',''],'monthNames':['','','','','','','','','','','','',''],'timePattern':'H:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('zh-cn',{'dayNames':['','','','','','',''],'dayNamesShort':['','','','','','',''],'monthNames':['','','','','','','','','','','','',''],'timePattern':'H:mm','datePattern':'yyyy/M/d','dateTimePattern':'yyyy/M/d H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('sv-se',{'dayNames':['sndag','mndag','tisdag','onsdag','torsdag','fredag','lrdag'],'dayNamesShort':['s','m','ti','on','to','fr','l'],'monthNames':['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'yyyy-MM-dd','dateTimePattern':'yyyy-MM-dd HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('da-dk',{'dayNames':['sndag','mandag','tirsdag','onsdag','torsdag','fredag','lrdag'],'dayNamesShort':['s','ma','ti','on','to','fr','l'],'monthNames':['januar','februar','marts','april','maj','juni','juli','august','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'dd-MM-yyyy','dateTimePattern':'dd-MM-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nb-no',{'dayNames':['sndag','mandag','tirsdag','onsdag','torsdag','fredag','lrdag'],'dayNamesShort':['s','ma','ti','on','to','fr','l'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nn-no',{'dayNames':['sndag','mndag','tysdag','onsdag','torsdag','fredag','laurdag'],'dayNamesShort':['s','m','ty','on','to','fr','la'],'monthNames':['januar','februar','mars','april','mai','juni','juli','august','september','oktober','november','desember',''],'timePattern':'HH:mm','datePattern':'dd.MM.yyyy','dateTimePattern':'dd.MM.yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('fi-fi',{'dayNames':['sunnuntai','maanantai','tiistai','keskiviikko','torstai','perjantai','lauantai'],'dayNamesShort':['su','ma','ti','ke','to','pe','la'],'monthNames':['tammikuu','helmikuu','maaliskuu','huhtikuu','toukokuu','keskuu','heinkuu','elokuu','syyskuu','lokakuu','marraskuu','joulukuu',''],'timePattern':'H:mm','datePattern':'d.M.yyyy','dateTimePattern':'d.M.yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('nl-nl',{'dayNames':['zondag','maandag','dinsdag','woensdag','donderdag','vrijdag','zaterdag'],'dayNamesShort':['zo','ma','di','wo','do','vr','za'],'monthNames':['januari','februari','maart','april','mei','juni','juli','augustus','september','oktober','november','december',''],'timePattern':'HH:mm','datePattern':'d-M-yyyy','dateTimePattern':'d-M-yyyy HH:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.register(new DayPilot.Locale('cs-cz',{'dayNames':['nedle','pondl','ter','steda','tvrtek','ptek','sobota'],'dayNamesShort':['ne','po','t','st','t','p','so'],'monthNames':['leden','nor','bezen','duben','kvten','erven','ervenec','srpen','z','jen','listopad','prosinec',''],'timePattern':'H:mm','datePattern':'d. M. yyyy','dateTimePattern':'d. M. yyyy H:mm','timeFormat':'Clock24Hours','weekStarts':1}));DayPilot.Locale.US=DayPilot.Locale.find("en-us");DayPilot.Switcher=function(){var $1v=this;this.views=[];this.switchers=[];this.navigator={};this.active=null;this.day=new DayPilot.Date();this.navigator.updateMode=function($1w){var $1x=$1v.navigator.control;if(!$1x){return;};$1x.selectMode=$1w;$1x.select($1v.day);};this.addView=function($1x){var $1y={};$1y.isView=true;$1y.id=$1x.id;$1y.control=$1x;$1y.hide=function(){if($1x.hide){$1x.hide();}else{$1x.nav.top.style.display='none';}};$1y.show=function(){if($1x.show){$1x.show();}else{$1x.nav.top.style.display='';}};$1y.selectMode=function(){if($1x.isCalendar){switch($1x.viewType){case "Day":return "day";case "Week":return "week";case "WorkWeek":return "week";default:return "day";}}else if($1x.isMonth){switch($1x.viewType){case "Month":return "month";case "Weeks":return "week";default:return "day";}};return "day";};this.views.push($1y);};this.addButton=function(id,$1x){var element;if(typeof id==='string'){element=document.getElementById(id);}else{element=id;};var $1y=this.$1R($1x);if(!$1y){throw "View not found";};var $1z={};$1z.element=element;$1z.view=$1y;$1z.onClick=function(ev){$1v.show($1z.view);var $1w=$1z.view.selectMode();$1v.navigator.updateMode($1w);ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;};DayPilot.re(element,'click',$1z.onClick);};this.addNavigator=function($1x){$1v.navigator.control=$1x;$1x.timeRangeSelectedHandling="JavaScript"
$1x.onTimeRangeSelected=function($0b,end,$0Z){$1v.day=$0Z;$1v.active.control.commandCallBack("navigate",{"day":$1v.day});};};this.show=function($1x){var $1y=$1x.isView?$1x:this.$1R($1x);if(this.active===$1y){return;};this.active=$1y;this.$1S();$1y.show();$1v.active.control.commandCallBack("navigate",{"day":this.day});};this.$1R=function($1x){for(var i=0;i<this.views.length;i++){if(this.views[i].control===$1x){return this.views[i];}};return null;};this.$1S=function(){for(var i=0;i<this.views.length;i++){this.views[i].hide();}};};var $1A=function(id){var $1v=this;this.id=id;this.widths=[];this.titles=[];this.splitterWidth=3;this.css={};this.css.title=null;this.css.titleInner=null;this.css.splitter=null;this.blocks=[];this.drag={};this.updated=function(){};this.updating=function(){};this.init=function(){var $J;if(!id){throw "error: id not provided";}else if(typeof id==='string'){$J=document.getElementById(id);}else if(typeof id.appendChild==='function'){$J=id;}else{throw "error: invalid object provided";};this.div=$J;this.blocks=[];for(var i=0;i<this.widths.length;i++){var s=document.createElement("div");s.style.float="left";s.style.height="100%";s.style.width=(this.widths[i]-this.splitterWidth)+"px";s.style.display.overflow='hidden';s.style.verticalAlign="top";s.style.position="relative";s.setAttribute("unselectable","on");s.className=this.css.title;$J.appendChild(s);var $1B=document.createElement("div");$1B.innerHTML=this.titles[i];$1B.setAttribute("unselectable","on");$1B.className=this.css.titleInner;s.appendChild($1B);var $1C=document.createElement("div");$1C.style.top="0px";$1C.style.float="left";$1C.style.height="100%";$1C.style.width=this.splitterWidth+"px";$1C.style.cursor="col-resize";$1C.setAttribute("unselectable","on");$1C.className=this.css.splitter;var $09={};$09.index=i;$09.width=this.widths[i];$1C.data=$09;$1C.onmousedown=function(ev){$1v.drag.start=DayPilot.page(ev);$1v.drag.data=this.data;$1v.div.style.cursor="col-resize";ev=ev||window.event;ev.preventDefault?ev.preventDefault():ev.returnValue=false;};$J.appendChild($1C);var $1D={};$1D.section=s;$1D.handle=$1C;this.blocks.push($1D);};this.registerGlobalHandlers();};this.updateWidths=function(){for(var i=0;i<this.blocks.length;i++){var $1D=this.blocks[i];var $W=this.widths[i];$1D.handle.data.width=$W;this.$1T(i);}};this.$1T=function(i){var $1D=this.blocks[i];var $W=this.widths[i];$1D.section.style.width=($W-this.splitterWidth)+"px";};this.totalWidth=function(){var t=0;for(var i=0;i<this.widths.length;i++){t+=this.widths[i];};return t;};this.gMouseMove=function(ev){if(!$1v.drag.start){return;};var $09=$1v.drag.data;var $1E=DayPilot.page(ev);var $1F=$1E.x-$1v.drag.start.x;var i=$09.index;$1v.widths[i]=$09.width+$1F;$1v.$1T(i);var $08={};$08.widths=this.widths;$08.index=$09.index;$1v.updating($08);};this.gMouseUp=function(ev){if(!$1v.drag.start){return;};$1v.drag.start=null;document.body.style.cursor="";$1v.div.style.cursor="";var $09=$1v.drag.data;$09.width=$1v.widths[$09.index];var $08={};$08.widths=this.widths;$08.index=$09.index;$1v.updated($08);};this.registerGlobalHandlers=function(){DayPilot.re(document,'mousemove',this.gMouseMove);DayPilot.re(document,'mouseup',this.gMouseUp);};};DayPilot.Splitter=$1A;})();DayPilot.JSON={};(function(){function f(n){return n<10?'0'+n:n;};if(typeof Date.prototype.toJSON2!=='function'){Date.prototype.toJSON2=function($0e){return this.getUTCFullYear()+'-'+f(this.getUTCMonth()+1)+'-'+f(this.getUTCDate())+'T'+f(this.getUTCHours())+':'+f(this.getUTCMinutes())+':'+f(this.getUTCSeconds())+'';};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function($0e){return this.valueOf();};};var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1G=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,$1H,$1I,$1J={'\b':'\\b','\t':'\\t','\n':'\\n','\f':'\\f','\r':'\\r','"':'\\"','\\':'\\\\'},$1K;function quote($0V){$1G.lastIndex=0;return $1G.test($0V)?'"'+$0V.replace($1G,function(a){var c=$1J[a];if(typeof c==='string'){return c;};return '\\u'+('0000'+a.charCodeAt(0).toString(16)).slice(-4);})+'"':'"'+$0V+'"';};function str($0e,$1L){var i,k,v,length,$1M=$1H,$1N,$1O=$1L[$0e];if($1O&&typeof $1O==='object'&&typeof $1O.toJSON2==='function'){$1O=$1O.toJSON2($0e);}else if($1O&&typeof $1O==='object'&&typeof $1O.toJSON==='function'&&!$1O.ignoreToJSON){$1O=$1O.toJSON($0e);};if(typeof $1K==='function'){$1O=$1K.call($1L,$0e,$1O);};switch(typeof $1O){case 'string':return quote($1O);case 'number':return isFinite($1O)?String($1O):'null';case 'boolean':case 'null':return String($1O);case 'object':if(!$1O){return 'null';};$1H+=$1I;$1N=[];if(typeof $1O.length==='number'&&!$1O.propertyIsEnumerable('length')){length=$1O.length;for(i=0;i<length;i+=1){$1N[i]=str(i,$1O)||'null';};v=$1N.length===0?'[]':$1H?'[\n'+$1H+$1N.join(',\n'+$1H)+'\n'+$1M+']':'['+$1N.join(',')+']';$1H=$1M;return v;};if($1K&&typeof $1K==='object'){length=$1K.length;for(i=0;i<length;i+=1){k=$1K[i];if(typeof k==='string'){v=str(k,$1O);if(v){$1N.push(quote(k)+($1H?': ':':')+v);}}}}else{for(k in $1O){if(Object.hasOwnProperty.call($1O,k)){v=str(k,$1O);if(v){$1N.push(quote(k)+($1H?': ':':')+v);}}}};v=($1N.length===0)?'{\u007D':$1H?'{\n'+$1H+$1N.join(',\n'+$1H)+'\n'+$1M+'\u007D':'{'+$1N.join(',')+'\u007D';$1H=$1M;return v;}};if(typeof DayPilot.JSON.stringify!=='function'){DayPilot.JSON.stringify=function($1O,$1P,$1Q){var i;$1H='';$1I='';if(typeof $1Q==='number'){for(i=0;i<$1Q;i+=1){$1I+=' ';}}else if(typeof $1Q==='string'){$1I=$1Q;};$1K=$1P;if($1P&&typeof $1P!=='function'&&(typeof $1P!=='object'||typeof $1P.length!=='number')){throw new Error('JSON.stringify');};return str('',{'':$1O});};};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};(function(){if(typeof DayPilot.DatePicker!=='undefined'){return;};DayPilot.DatePicker=function(id,$a,$b){this.v='308';var $c="navigator";var $d=this;var $e=$a||"M/d/yyyy";var element=(id&&id.nodeType&&id.nodeType===1)?id:document.getElementById(id);var navigator=new DayPilot.Navigator($c);navigator.timeRangeSelectedHandling="JavaScript";navigator.cssOnly=true;navigator.cssClassPrefix="navigator_white";navigator.weekStarts=1;navigator.onTimeRangeSelected=function($f){element.value=$f.toString($e);$d.close();if($b)$b($f);};this.navigator=navigator;this.close=function(){this.div.innerHTML='';document.body.removeChild(this.div);};this.show=function(){var $g=document.getElementById($c);if($g){$g.innerHTML='';document.body.removeChild($g);return;};var $h=DayPilot.abs(element);var $i=element.offsetHeight;var $j=document.createElement("div");$j.style.position="absolute";$j.style.left=$h.x+"px";$j.style.top=($h.y+$i)+"px";$j.id=$c;document.body.appendChild($j);this.div=$j;var $k=DayPilot.Date.parse(element.value,$e)||new DayPilot.Date().getDatePart();navigator.startDate=$k;navigator.selectionStart=$k;navigator.Init();};};})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMenu==='undefined'){var DayPilotMenu=DayPilot.MenuVisible={};};(function(){if(typeof DayPilot.Menu!=='undefined'){return;};var DayPilotMenu={};DayPilotMenu.mouse=null;DayPilotMenu.menu=null;DayPilotMenu.clickRegistered=false;DayPilot.Menu=function($a){var $b=this;this.v='308';this.zIndex=10;this.useShadow=true;this.cssClassPrefix=null;this.cssOnly=true;this.menuTitle=null;this.showMenuTitle=false;if($a&&DayPilot.isArray($a)){this.items=$a;};this.show=function(e,$c){var $d=(typeof e.value==='function')?e.value():null;if(typeof(DayPilot.Bubble)!=='undefined'){DayPilot.Bubble.hideActive();};if(!$c){DayPilotMenu.menuClean();};this.submenu=null;if(DayPilotMenu.mouse===null)return;var $e=document.createElement("div");$e.style.position="absolute";$e.style.top="0px";$e.style.left="0px";$e.style.display='none';$e.style.overflow='hidden';$e.style.zIndex=this.zIndex+1;$e.className=this.applyCssClass('main');$e.onclick=function(){this.parentNode.removeChild(this);};if(!this.items||this.items.length===0){throw "No menu items defined.";};if(this.showMenuTitle){var title=document.createElement("div");title.innerHTML=this.menuTitle;title.className=this.applyCssClass("title");$e.appendChild(title);};for(var i=0;i<this.items.length;i++){var mi=this.items[i];var $f=document.createElement("div");if(typeof mi==='undefined'){continue;};if(mi.text==='-'){var $g=document.createElement("div");$f.appendChild($g);}else{var $h=document.createElement("a");$h.style.position='relative';$h.style.display="block";if(mi.href){$h.href=mi.href.replace(/\x7B0\x7D/gim,$d);$h.setAttribute("target",mi.target);}else if(mi.onclick){$h.item=mi;$h.onclick=mi.onclick;}else if(mi.command){var $i=function(mi,$h){return function(){var $j=$h.source;var $f=mi;$f.action=$f.action?$f.action:'CallBack';var $k=$j.calendar||$j.root;switch($j.type){case 'resource':$k.internal.resourceHeaderMenuClick($f.command,$j,$f.action);return;case 'selection':$k.internal.timeRangeMenuClick($f.command,$j,$f.action);return;default:$k.internal.eventMenuClick($f.command,$j,$f.action);return;}};};$h.onclick=$i(mi,$h);};$h.source=e;var $l=document.createElement("span");$l.innerHTML=mi.text;$h.appendChild($l);if(mi.image){var $m=document.createElement("img");$m.src=mi.image;$m.style.position='absolute';$m.style.top='0px';$m.style.left='0px';$h.appendChild($m);};var $n=function(mi,$h){return function(){var $j=$h.source;var $f=mi;setTimeout(function(){if($b.submenu&&$b.submenu.item===$f){return;};if($b.submenu&&$b.submenu.item!==$f){$b.submenu.menu.hide();$b.submenu=null;};if(!$f.items){return;};var $o=$b.cloneOptions();$o.items=$f.items;$b.submenu={};$b.submenu.menu=new DayPilot.Menu($o);$b.submenu.menu.show($j,true);$b.submenu.item=$f;},500);};};$h.onmouseover=$n(mi,$h);$f.appendChild($h);};$e.appendChild($f);};$e.onclick=function(e){window.setTimeout(function(){DayPilotMenu.menuClean();},100);};$e.onmousedown=function(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation();};$e.oncontextmenu=function(){return false;};document.body.appendChild($e);$e.style.display='';var $p=$e.clientHeight;var $q=$e.offsetWidth;$e.style.display='none';var $r=document.documentElement.clientHeight;DayPilotMenu.mouse.x+=1;DayPilotMenu.mouse.y+=1;if(DayPilotMenu.mouse.clientY>$r-$p&&$r!==0){var $s=DayPilotMenu.mouse.clientY-($r-$p)+5;$e.style.top=(DayPilotMenu.mouse.y-$s)+'px';}else{$e.style.top=DayPilotMenu.mouse.y+'px';};var $t=document.documentElement.clientWidth;if(DayPilotMenu.mouse.clientX>$t-$q&&$t!==0){var $u=DayPilotMenu.mouse.clientX-($t-$q)+5;$e.style.left=(DayPilotMenu.mouse.x-$u)+'px';}else{$e.style.left=DayPilotMenu.mouse.x+'px';};$e.style.display='';this.addShadow($e);this.div=$e;if(!$c){DayPilot.Menu.active=this;};return;};this.applyCssClass=function($v){if(this.cssClassPrefix){return this.cssClassPrefix+(this.cssOnly?"_":"")+$v;}else{return "";}};this.cloneOptions=function(){var $o={};var $w=['cssOnly','cssClassPrefix','useShadow','zIndex'];for(var i=0;i<$w.length;i++){var p=$w[i];$o[p]=this[p];};return $o;};this.hide=function(){if(this.submenu){this.submenu.menu.hide();};this.removeShadow();document.body.removeChild(this.div);};this.addShadow=function($x){if(!this.useShadow||this.cssOnly){return;};if(!$x){return;};if(this.shadows&&this.shadows.length>0){this.removeShadow();};this.shadows=[];for(var i=0;i<5;i++){var $y=document.createElement('div');$y.style.position='absolute';$y.style.width=$x.offsetWidth+'px';$y.style.height=$x.offsetHeight+'px';$y.style.top=$x.offsetTop+i+'px';$y.style.left=$x.offsetLeft+i+'px';$y.style.zIndex=this.zIndex;$y.style.filter='alpha(opacity:10)';$y.style.opacity=0.1;$y.style.backgroundColor='#000000';document.body.appendChild($y);this.shadows.push($y);}};this.removeShadow=function(){if(!this.shadows){return;};for(var i=0;i<this.shadows.length;i++){document.body.removeChild(this.shadows[i]);};this.shadows=[];};var $o=DayPilot.isArray($a)?null:$a;if($o){for(var name in $o){this[name]=$o[name];}};DayPilot.re(document.body,'mousemove',DayPilotMenu.mouseMove);if(!DayPilotMenu.clickRegistered){DayPilot.re(document,'mousedown',DayPilotMenu.menuClean);DayPilotMenu.clickRegistered=true;}};DayPilotMenu.menuClean=function(ev){if(typeof(DayPilot.Menu.active)==='undefined')return;if(DayPilot.Menu.active){DayPilot.Menu.active.hide();DayPilot.Menu.active=null;}};DayPilotMenu.mouseMove=function(ev){if(typeof(DayPilotMenu)==='undefined')return;DayPilotMenu.mouse=DayPilotMenu.mousePosition(ev);};DayPilotMenu.mousePosition=function(e){var $z=0;var $A=0;if(!e)var e=window.event;if(e.pageX||e.pageY){$z=e.pageX;$A=e.pageY;}else if(e.clientX||e.clientY){$z=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;$A=e.clientY+document.body.scrollTop+document.documentElement.scrollTop;};var $B={};$B.x=$z;$B.y=$A;$B.clientY=e.clientY;$B.clientX=e.clientX;return $B;};DayPilot.MenuVisible.Menu=DayPilotMenu.Menu;if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof(DayPilot)==='undefined'){DayPilot={};};(function(){DayPilot.ModalStatic={};DayPilot.ModalStatic.list=[];DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var $a=this.list.pop();if($a){$a.hide();}}};DayPilot.ModalStatic.remove=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){$c.splice(i,1);return;}}};DayPilot.ModalStatic.close=function($d){DayPilot.ModalStatic.result($d);DayPilot.ModalStatic.hide();};DayPilot.ModalStatic.result=function(r){var $c=DayPilot.ModalStatic.list;if($c.length>0){$c[$c.length-1].result=r;}};DayPilot.ModalStatic.displayed=function($b){var $c=DayPilot.ModalStatic.list;for(var i=0;i<$c.length;i++){if($c[i]===$b){return true;}};return false;};var $e=(navigator&&navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!==-1);DayPilot.Modal=function(){this.autoStretch=true;this.autoStretchFirstLoadOnly=false;this.border="10px solid #ccc";this.corners='Rounded';this.className=null;this.dragDrop=true;this.height=200;this.maxHeight=null;this.opacity=30;this.scrollWithPage=true;this.top=20;this.useIframe=true;this.width=500;this.zIndex=null;this.closed=null;var $f=this;this.id='_'+new Date().getTime()+'n'+(Math.random()*10);this.registered=false;this.start=null;this.coords=null;this.showHtml=function($g){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};if(!this.div){this.create();};this.update();if(this.useIframe){var $h=function(p,$i){return function(){p.setInnerHTML(p.id+"iframe",$i);};};window.setTimeout($h(this,$g),0);}else{this.div.innerHTML=$g;};this.update();this.register();};this.rounded=function(){return this.corners&&this.corners.toLowerCase()==='rounded';};this.showUrl=function($j){if(DayPilot.ModalStatic.displayed(this)){throw "This modal dialog is already displayed.";};this.useIframe=true;if(!this.div){this.create();};this.re(this.iframe,"load",this.onIframeLoad);this.iframe.src=$j;this.update();this.register();};this.update=function(){var $k=window;var $l=document;var scrollY=$k.pageYOffset?$k.pageYOffset:(($l.documentElement&&$l.documentElement.scrollTop)?$l.documentElement.scrollTop:$l.body.scrollTop);var $m=function(){return $f.windowRect().y;};this.hideDiv.style.filter="alpha(opacity="+this.opacity+")";this.hideDiv.style.opacity="0."+this.opacity;this.hideDiv.style.backgroundColor="black";if(this.zIndex){this.hideDiv.style.zIndex=this.zIndex;};this.hideDiv.style.display='';window.setTimeout(function(){$f.hideDiv.onclick=function(){$f.hide();};},500);this.div.className=this.className;this.div.style.border=this.border;if(this.rounded()){this.div.style.MozBorderRadius="5px";this.div.style.webkitBorderRadius="5px";this.div.style.borderRadius="5px";};this.div.style.marginLeft='-'+Math.floor(this.width/2)+"px";this.div.style.position='absolute';this.div.style.top=(scrollY+this.top)+'px';this.div.style.width=this.width+'px';if(this.zIndex){this.div.style.zIndex=this.zIndex;};if(this.height){this.div.style.height=this.height+'px';};if(this.useIframe&&this.height){this.iframe.style.height=(this.height)+'px';};this.div.style.display='';DayPilot.ModalStatic.list.push(this);};this.onIframeLoad=function(){$f.iframe.contentWindow.modal=$f;if($f.autoStretch){$f.stretch();}};this.stretch=function(){var $m=function(){return $f.windowRect().y;};var $n=this.maxHeight||$m()-2*this.top;for(var h=this.height;h<$n&&this.hasScrollbar();h+=10){this.iframe.style.height=(h)+'px';this.div.style.height=h+'px';};if(this.autoStretchFirstLoadOnly){this.ue(this.iframe,"load",this.onIframeLoad);}};this.hasScrollbar=function(){var document=this.iframe.contentWindow.document;var $o=document.compatMode==='BackCompat'?document.body:document.documentElement;var $p=$o.scrollHeight>$o.clientHeight;var $q=$o.scrollWidth>$o.clientWidth;return $p;};this.windowRect=function(){var $l=document;if($l.compatMode==="CSS1Compat"&&$l.documentElement&&$l.documentElement.clientWidth){var x=$l.documentElement.clientWidth;var y=$l.documentElement.clientHeight;return{x:x,y:y};}else{var x=$l.body.clientWidth;var y=$l.body.clientHeight;return{x:x,y:y};}};this.register=function(){if(this.registered){return;};this.re(window,'resize',this.resize);this.re(window,'scroll',this.resize);if(this.dragDrop){this.re(document,'mousemove',this.drag);this.re(document,'mouseup',this.drop);};this.registered=true;};this.drag=function(e){if(!$f.coords){return;};var e=e||window.event;var $r=$f.mc(e);var x=$r.x-$f.coords.x;var y=$r.y-$f.coords.y;$f.div.style.marginLeft='0px';$f.div.style.top=($f.start.y+y)+"px";$f.div.style.left=($f.start.x+x)+"px";};this.drop=function(e){if(!$f.coords){return;};$f.unmaskIframe();$f.coords=null;};this.maskIframe=function(){if(!this.useIframe){return;};var $s=80;var $t=document.createElement("div");$t.style.backgroundColor="#ffffff";$t.style.filter="alpha(opacity="+$s+")";$t.style.opacity="0."+$s;$t.style.width="100%";$t.style.height=this.height+"px";$t.style.position="absolute";$t.style.left='0px';$t.style.top='0px';this.div.appendChild($t);this.mask=$t;};this.unmaskIframe=function(){if(!this.useIframe){return;};this.div.removeChild(this.mask);this.mask=null;};this.resize=function(){if(!$f.hideDiv){return;};if(!$f.div){return;};if($f.hideDiv.style.display==='none'){return;};if($f.div.style.display==='none'){return;};var scrollY=window.pageYOffset?window.pageYOffset:((document.documentElement&&document.documentElement.scrollTop)?document.documentElement.scrollTop:document.body.scrollTop);if(!$f.scrollWithPage){$f.div.style.top=(scrollY+$f.top)+'px';}};this.re=function(el,ev,$u){if(el.addEventListener){el.addEventListener(ev,$u,false);}else if(el.attachEvent){el.attachEvent("on"+ev,$u);}};this.ue=function(el,ev,$u){if(el.removeEventListener){el.removeEventListener(ev,$u,false);}else if(el.detachEvent){el.detachEvent("on"+ev,$u);}};this.mc=function(ev){if(ev.pageX||ev.pageY){return{x:ev.pageX,y:ev.pageY};};return{x:ev.clientX+document.documentElement.scrollLeft,y:ev.clientY+document.documentElement.scrollTop};};this.abs=function(element){var r={x:element.offsetLeft,y:element.offsetTop};while(element.offsetParent){element=element.offsetParent;r.x+=element.offsetLeft;r.y+=element.offsetTop;};return r;};this.create=function(){var $v=document.createElement("div");$v.id=this.id+"hide";$v.style.position='fixed';$v.style.left="0px";$v.style.top="0px";$v.style.right="0px";$v.style.bottom="0px";$v.style.backgroundColor="black";$v.style.opacity=0.50;$v.oncontextmenu=function(){return false;};document.body.appendChild($v);var $w=document.createElement("div");$w.id=this.id+'popup';$w.style.position='fixed';$w.style.left='50%';$w.style.top='0px';$w.style.backgroundColor='white';$w.style.width="50px";$w.style.height="50px";if(this.dragDrop){$w.onmousedown=this.dragStart;};var $x=50;var $y=null;if(this.useIframe){$y=document.createElement("iframe");$y.id=this.id+"iframe";$y.name=this.id+"iframe";$y.frameBorder='0';$y.style.width='100%';$y.style.height=$x+'px';$w.appendChild($y);};document.body.appendChild($w);this.div=$w;this.iframe=$y;this.hideDiv=$v;};this.dragStart=function(e){$f.maskIframe();$f.coords=$f.mc(e||window.event);$f.start={x:$f.div.offsetLeft,y:$f.div.offsetTop};};this.setInnerHTML=function(id,$i){var $z=window.frames[id];var $l=$z.contentWindow||$z.document||$z.contentDocument;if($l.document){$l=$l.document;};$l.body.innerHTML=$i;};this.close=function($d){this.result=$d;this.hide();};this.hide=function(){if(this.div){this.div.style.display='none';this.hideDiv.style.display='none';if(!this.useIframe){this.div.innerHTML=null;}};DayPilot.ModalStatic.remove(this);if(this.closed){this.closed();}};};})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotMonth==='undefined'){var DayPilotMonth=DayPilot.MonthVisible={};};(function(){var $a=function(){};if(typeof DayPilot.Month!=='undefined'){return;};var DayPilotMonth={};DayPilot.Month=function($b){this.v='308';this.nav={};this.nav.top=document.getElementById($b);var $c=this;this.id=$b;this.isMonth=true;this.api=2;this.hideUntilInit=true;this.startDate=new DayPilot.Date();this.width='100%';this.cellHeight=100;this.cellMarginBottom=0;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.eventFontColor="#000000";this.eventFontFamily="Tahoma";this.eventFontSize="11px";this.headerBackColor='#ECE9D8';this.headerFontColor='#000000';this.headerFontFamily="Tahoma";this.headerFontSize="10pt";this.headerHeight=20;this.weekStarts=1;this.innerBorderColor='#cccccc';this.borderColor='black';this.eventHeight=25;this.cellHeaderHeight=16;this.numberFormat="0.00";this.clientState={};this.afterRender=function(){};this.backColor='#FFFFD5';this.nonBusinessBackColor='#FFF4BC';this.cellHeaderBackColor='';this.cellHeaderFontColor='#000000';this.cellHeaderFontFamily='Tahoma';this.cellHeaderFontSize='10pt';this.cssOnly=true;this.eventBackColor='White';this.eventBorderColor='Black';this.eventCorners="Regular";this.eventFontColor='#000000';this.eventFontFamily='Tahoma';this.eventFontSize='11px';this.cellWidth=14.285;this.lineSpace=1;this.locale="en-us";this.messageHideAfter=5000;this.notifyCommit='Immediate';this.eventMoveToPosition=false;this.eventTextLayer='Top';this.eventStartTime=true;this.eventEndTime=true;this.eventTextAlignment='Center';this.eventTextLeftIndent=20;this.showWeekend=true;this.cellMode=false;this.shadowType="Fill";this.eventTimeFontColor='gray';this.eventTimeFontFamily='Tahoma';this.eventTimeFontSize='8pt';this.viewType='Month';this.weeks=1;this.eventClickHandling='Enabled';this.eventDoubleClickHandling='Enabled';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.headerClickHandling="Enabled";this.timeRangeSelectedHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.backendUrl=null;this.cellEvents=[];this.elements={};this.elements.events=[];this.$1E={};this.$1E.events={};this.events={};this.autoRefreshCount=0;this.$1F=function($d,$e){var $d=eval("("+$d+")");if($d.BubbleGuid){var $f=$d.BubbleGuid;var $g=this.bubbles[$f];delete this.bubbles[$f];$c.$1G();if(typeof $d.Result.BubbleHTML!=='undefined'){$g.updateView($d.Result.BubbleHTML,$g);};return;};if($d.CallBackRedirect){document.location.href=$d.CallBackRedirect;return;};if(typeof $d.ClientState!=='undefined'){$c.clientState=$d.ClientState;};if($d.UpdateType==="None"){$c.$1H($d.CallBackData,true);if($d.Message){$c.message($d.Message);};return;};if($d.VsUpdate){var $h=document.createElement("input");$h.type='hidden';$h.name=$c.id+"_vsupdate";$h.id=$h.name;$h.value=$d.VsUpdate;$c.vsph.innerHTML='';$c.vsph.appendChild($h);};$c.events.list=$d.Events;if(typeof $d.TagFields!=='undefined'){$c.tagFields=$d.TagFields;};if(typeof $d.SortDirections!=='undefined'){$c.sortDirections=$d.SortDirections;};if($d.UpdateType==="Full"){$c.cellProperties=$d.CellProperties;$c.headerProperties=$d.HeaderProperties;$c.startDate=$d.StartDate;if(typeof $d.ShowWeekend!=='undefined'){$c.showWeekend=$d.ShowWeekend;};$c.headerBackColor=$d.HeaderBackColor?$d.HeaderBackColor:$c.headerBackColor;$c.backColor=$d.BackColor?$d.BackColor:$c.backColor;$c.nonBusinessBackColor=$d.NonBusinessBackColor?$d.NonBusinessBackColor:$c.nonBusinessBackColor;$c.locale=$d.Locale?$d.Locale:$c.locale;$c.timeFormat=$d.TimeFormat?$d.TimeFormat:$c.timeFormat;if(typeof $d.WeekStarts!=='undefined'){$c.weekStarts=$d.WeekStarts;};$c.hashes=$d.Hashes;};$c.multiselect.clear(true);$c.multiselect.initList=$d.SelectedEvents;$c.$1I();$c.$1J();$c.$1K();if($d.UpdateType==="Full"){$c.$1L();$c.$1M();};$c.$1N();$c.$1O();$c.$1P();$c.$1H($d.CallBackData,true);$c.$1Q();if($d.Message){$c.message($d.Message);}};this.$1H=function($i,$j){var $k=function($i,$l){return function(){if($c.$1R()){if(typeof $c.onAfterRender==='function'){var $m={};$m.isCallBack=$l;$m.data=$i;$c.onAfterRender($m);}}else{if($c.afterRender){$c.afterRender($i,$l);}}};};window.setTimeout($k($i,$j),0);};this.$1R=function(){return $c.api===2;};this.$1S=function($n){if(this.cssClassPrefix){return this.cssClassPrefix+$n;}else{return "";}};this.$1K=function(){if(typeof this.onBeforeEventRender==='function'){var length=this.events.list.length;for(var i=0;i<length;i++){this.$1T(i);}};if(this.cellMode){this.$1U();}else{this.$1V();}};this.$1G=function(){};this.$1V=function(){if(!this.events.list){return;};for(var x=0;x<this.events.list.length;x++){var e=this.events.list[x];e.start=new DayPilot.Date(e.start).d;e.end=new DayPilot.Date(e.end).d;if(e.start.getTime()>e.end.getTime()){continue;};for(var i=0;i<this.rows.length;i++){var $o=this.rows[i];if($o.belongsHere(e)){var ep=new DayPilot.Event(e,$c);$o.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1E.events[x];}}}};for(var ri=0;ri<this.rows.length;ri++){var $o=this.rows[ri];$o.events.sort(this.$1W);for(var ei=0;ei<this.rows[ri].events.length;ei++){var ev=$o.events[ei];var $p=$o.getStartColumn(ev);var $q=$o.getWidth(ev);$o.putIntoLine(ev,$p,$q,ri);}}};this.$1U=function(){this.cellEvents=[];for(var x=0;x<this.$1X();x++){this.cellEvents[x]=[];for(var y=0;y<this.rows.length;y++){var $r={};var d=DayPilot.Date.addDays(this.firstDate,y*7+x);$r.start=d;$r.end=DayPilot.Date.addDays(d,1);$r.events=[];this.cellEvents[x][y]=$r;}};for(var i=0;i<this.events.list.length;i++){var e=this.events.list[i];e.start=new DayPilot.Date(e.start);e.end=new DayPilot.Date(e.start);if(e.start.getTime()>e.end.getTime()){continue;};for(var x=0;x<this.$1X();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];if(e.start.getTime()>=$r.start.getTime()&&e.start.getTime()<$r.end.getTime()){var ep=new DayPilot.Event(e,$c);$r.events.push(ep);if(typeof this.onBeforeEventRender==='function'){ep.cache=this.$1E.events[i];}}}}};for(var x=0;x<this.$1X();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];$r.events.sort(this.$1W);}}};this.$1I=function(){for(var i=0;i<this.elements.events.length;i++){var e=this.elements.events[i];e.event=null;e.click=null;e.parentNode.removeChild(e);};this.elements.events=[];};this.$1P=function(){this.$1E.events={};if(this.cellMode){this.$1Y();}else{this.$1Z();};this.multiselect.redraw();};this.$1Y=function(){this.elements.events=[];for(var x=0;x<this.$1X();x++){for(var y=0;y<this.rows.length;y++){var $r=this.cellEvents[x][y];var $s=this.cells[x][y];for(var i=0;i<$r.events.length;i++){var ep=$r.events[i];ep.part.colStart=x;ep.part.colWidth=1;ep.part.row=y;ep.part.line=i;ep.part.startsHere=true;ep.part.endsHere=true;this.$20(ep);}}}};this.$1Z=function(){this.elements.events=[];for(var ri=0;ri<this.rows.length;ri++){var $o=this.rows[ri];for(var li=0;li<$o.lines.length;li++){var $t=$o.lines[li];for(var pi=0;pi<$t.length;pi++){this.$20($t[pi]);}}}};this.$21=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $u=a.start().ticks-b.start().ticks;if($u!==0){return $u;};var $v=b.end().ticks-a.end().ticks;return $v;};this.$1W=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $c.$21(a,b);};var $d=0;var i=0;while($d===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$d=0;}else{$d=$c.$22(a.data.sort[i],b.data.sort[i],$c.sortDirections[i]);};i++;};return $d;};this.$22=function(a,b,$w){var $x=($w!=="desc");var $y=$x?-1:1;var $z=-$y;if(a===null&&b===null){return 0;};if(b===null){return $z;};if(a===null){return $y;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$y:$z;};this.$23=function(x,y,$t,$A,$B,e){if(!$B){$B=0;};var $C=$A;this.shadow={};this.shadow.list=[];this.shadow.start={x:x,y:y};this.shadow.width=$A;if(this.eventMoveToPosition){$C=1;this.shadow.position=$t;};var $D=y*7+x-$B;if($D<0){$C+=$D;x=0;y=0;};var $E=$B;while($E>=7){y--;$E-=7;};if($E>x){var $F=7-this.$1X();if($E>(x+$F)){y--;x=x+7-$E;}else{$C=$C-$E+x;x=0;}}else{x-=$E;};if(y<0){y=0;x=0;};var $G=null;if(DayPilotMonth.resizingEvent){$G='w-resize';}else if(DayPilotMonth.movingEvent){$G="move";};this.nav.top.style.cursor=$G;while($C>0&&y<this.rows.length){var $H=Math.min(this.$1X()-x,$C);var $o=this.rows[y];var top=this.$24(y);var $I=$o.getHeight();if(this.eventMoveToPosition){top=this.$25(y,$t);$I=2;};var $J=document.createElement("div");$J.setAttribute("unselectable","on");$J.style.position='absolute';$J.style.left=(this.$26()*x)+'%';$J.style.width=(this.$26()*$H)+'%';$J.style.top=(top)+'px';$J.style.height=($I)+'px';$J.style.cursor=$G;var $K=document.createElement("div");$K.setAttribute("unselectable","on");$J.appendChild($K);if(this.cssOnly){$J.className=this.$1S("_shadow");$K.className=this.$1S("_shadow_inner");};if(!this.cssOnly){$K.style.position="absolute";$K.style.top="0px";$K.style.right="0px";$K.style.left="0px";$K.style.bottom="0px";if(this.shadowType==='Fill'){$K.style.backgroundColor="#aaaaaa";$K.style.opacity=0.5;$K.style.filter="alpha(opacity=50)";if(e&&e.event){$K.style.overflow='hidden';$K.style.fontSize=this.eventFontSize;$K.style.fontFamily=this.eventFontFamily;$K.style.color=this.eventFontColor;$K.innerHTML=e.event.client.innerHTML()?e.event.client.innerHTML():e.event.text();}}else{$K.style.border='2px dotted #666666';}};this.nav.top.appendChild($J);this.shadow.list.push($J);$C-=($H+7-this.$1X());x=0;y++;}};this.$27=function(){if(this.shadow){for(var i=0;i<this.shadow.list.length;i++){this.nav.top.removeChild(this.shadow.list[i]);};this.shadow=null;this.nav.top.style.cursor='';}};this.$25=function($o,$t){var top=this.headerHeight;for(var i=0;i<$o;i++){top+=this.rows[i].getHeight();};top+=this.cellHeaderHeight;top+=$t*$L.lineHeight();return top;};this.$28=function(x,y){return DayPilot.Date.addDays(this.firstDate,y*7+x);};this.$1T=function(i){var $M=this.$1E.events;var $i=this.events.list[i];var $N={};for(var name in $i){$N[name]=$i[name];};if(typeof this.onBeforeEventRender==='function'){var $m={};$m.e=$N;this.onBeforeEventRender($m);};$M[i]=$N;};this.$20=function(ep,$O){var $O=this.cellMode;var $o=ep.part.row;var $t=ep.part.line;var $p=ep.part.colStart;var $q=ep.part.colWidth;var $M=ep.cache||ep.data;var $P=$O?0:this.$26()*($p);var $A=$O?100:this.$26()*($q);var top=$O?$t*$L.lineHeight():this.$25($o,$t);var e=document.createElement("div");e.setAttribute("unselectable","on");e.style.height=this.eventHeight+'px';if(!this.cssOnly){e.style.fontFamily=this.eventFontFamily;}else{e.style.position="relative";e.style.overflow="hidden";e.className=this.$1S("_event");};if($M.cssClass){DayPilot.Util.addClass(e,$M.cssClass);};e.event=ep;if($O){e.style.marginRight="2px";e.style.marginBottom="2px";}else{e.style.width=$A+'%';e.style.position='absolute';e.style.left=$P+'%';e.style.top=top+'px';};if(this.showToolTip&&$M.toolTip){e.title=$M.toolTip;};e.onclick=this.$29;;e.ondblclick=this.$2a;e.oncontextmenu=this.$2b;e.onmousedown=this.$2c;e.onmousemove=this.$2d;e.onmouseout=this.$2e;e.ontouchstart=$Q.onEventTouchStart;e.ontouchmove=$Q.onEventTouchMove;e.ontouchend=$Q.onEventTouchEnd;if(!this.cssOnly){var back=(ep.client.backColor())?ep.client.backColor():this.eventBackColor;var $R=document.createElement("div");$R.setAttribute("unselectable","on");$R.style.height=(this.eventHeight-2)+'px';$R.style.overflow='hidden';$R.style.position="absolute";$R.style.left="2px";$R.style.right="2px";$R.style.paddingLeft='2px';$R.style.border='1px solid '+$c.eventBorderColor;$R.style.backgroundColor=back;$R.style.fontFamily="";$R.className=this.$1S("event");if($L.rounded()){$R.style.MozBorderRadius="5px";$R.style.webkitBorderRadius="5px";$R.style.borderRadius="5px";};var $K=[];var $S=this.eventTextLayer==='Top';var $T=this.eventStartTime;var $U=this.eventEndTime;var $V=this.eventTextAlignment;var $W=this.eventTextLeftIndent;var $X=this.eventTextLayer==='Floats';if($X){if($T){$K.push("<div unselectable='on' style='float:left; font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push("'>");$K.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));$K.push("</div>");};if($U){$K.push("<div unselectable='on' style='float:right;font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push("'>");$K.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));$K.push("</div>");};$K.push("<div unselectable='on' style='");$K.push("font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);if($V==='Center'){$K.push(";text-align:center;");};$K.push("'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}else{if($T){if($V==='Left'){$K.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";text-align:right;");$K.push("width:");$K.push($W-4);$K.push("px;");$K.push("><span style='background-color:");}else{$K.push("<div unselectable='on' style='position:absolute;text-align:left;height:1px;font-size:1px;width:100%'><div unselectable='on' style='font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";'><span style='background-color:");};$K.push(back);$K.push("' unselectable='on'>");if(ep.part.startsHere){$K.push(DayPilot.Date.hours(ep.start().d,$c.timeFormat==='Clock12Hours'));}else{$K.push("~");};$K.push("</span></div></div>");};if($U){$K.push("<div unselectable='on' style='position:absolute;text-align:right;height:1px;font-size:1px;width:100%'><div unselectable='on' style='margin-right:4px;font-size:");$K.push(this.eventTimeFontSize);$K.push(";color:");$K.push(this.eventTimeFontColor);$K.push(";font-family:");$K.push(this.eventTimeFontFamily);$K.push(";'><span style='background-color:");$K.push(back);$K.push("' unselectable='on'>");if(ep.part.endsHere){$K.push(DayPilot.Date.hours(ep.end().d,$c.timeFormat==='Clock12Hours'));}else{$K.push("~");};$K.push("</span></div></div>");};if($V==='Left'){var $P=$T?$W:0;$K.push("<div style='margin-top:0px;height:");$K.push(this.eventHeight-2);$K.push("px;");$K.push(";overflow:hidden;text-align:left;padding-left:");$K.push($P);$K.push("px;font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}else if($V==='Center'){if($S){$K.push("<div style='position:absolute; text-align:center; width: 98%; height:1px; font-size: 1px;'>");$K.push("<span style='background-color:");$K.push(back);$K.push(";font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</span>");$K.push("</div>");}else{$K.push("<div style='margin-top:0px;height:");$K.push(this.eventHeight-2);$K.push("px;");$K.push(";overflow:hidden;text-align:center;font-size:");$K.push(this.eventFontSize);$K.push(";color:");$K.push(this.eventFontColor);$K.push(";font-family:");$K.push(this.eventFontFamily);$K.push("' unselectable='on'>");if(ep.client.innerHTML()){$K.push(ep.client.innerHTML());}else{$K.push(ep.text());};$K.push("</div>");}}};$R.innerHTML=$K.join('');e.appendChild($R);}else{if(!ep.part.startsHere){DayPilot.Util.addClass(e,this.$1S("_event_continueleft"));};if(!ep.part.endsHere){DayPilot.Util.addClass(e,this.$1S("_event_continueright"));};var $R=document.createElement("div");$R.setAttribute("unselectable","on");$R.className=this.$1S("_event_inner");if(ep.client.innerHTML()){$R.innerHTML=ep.client.innerHTML();}else{$R.innerHTML=ep.text();};if($M.backColor){$R.style.background=$M.backColor;};e.appendChild($R);};if($M.areas){var $Y=$M.areas;for(var i=0;i<$Y.length;i++){var $Z=$Y[i];if($Z.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea(e,ep,$Z);e.appendChild(a);}};this.elements.events.push(e);if($O){this.cells[$p][$o].body.appendChild(e);}else{this.nav.events.appendChild(e);};if($c.multiselect.$2f(e.event)){$c.multiselect.add(e.event,true);};var $s=e;if($c.$1R()){if(typeof $c.onAfterEventRender==='function'){var $m={};$m.e=$s.event;$m.div=$s;$c.onAfterEventRender($m);}}else{if($c.afterEventRender){$c.afterEventRender($s.event,$s);}}};this.$29=function(ev){if($Q.start){return;};$c.$2g(this,ev);};this.$2a=function(ev){$c.$2h(this,ev);};this.$2d=function(ev){var e=this;var ep=e.event;if(typeof(DayPilotMonth)==='undefined'){return;};if(DayPilotMonth.movingEvent||DayPilotMonth.resizingEvent){return;};var $B=DayPilot.mo3(e,ev);if(!$B){return;};DayPilot.Areas.showAreas(e,e.event);if($c.cssOnly){$c.$2i(e.event).each(function($s){DayPilot.Util.addClass($s,$c.$1S("_event_hover"));});};var $00=6;if(!$c.cellMode&&$B.x<=$00&&ep.client.resizeEnabled()){if(ep.part.startsHere){e.style.cursor="w-resize";e.dpBorder='left';}else{e.style.cursor='not-allowed';}}else if(!$c.cellMode&&e.clientWidth-$B.x<=$00&&ep.client.resizeEnabled()){if(ep.part.endsHere){e.style.cursor="e-resize";e.dpBorder='right';}else{e.style.cursor='not-allowed';}}else{e.style.cursor='default';};if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble&&$c.eventHoverHandling!=='Disabled'){if(!DayPilotMonth.movingEvent&&!DayPilotMonth.resizingEvent){var $01=this.$2j&&$B.x===this.$2j.x&&$B.y===this.$2j.y;if(!$01){this.$2j=$B;$c.bubble.showEvent(e.event);}}else{DayPilotBubble.hideActive();}}};this.$2e=function(ev){var e=this;if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){$c.bubble.hideOnMouseOut();};e.style.cursor='';if($c.cssOnly){$c.$2i(e.event).each(function($s){DayPilot.Util.removeClass($s,$c.$1S("_event_hover"));});};DayPilot.Areas.hideAreas(e,ev);};this.$2b=function(){var e=this;$c.$2k(e.event);return false;};this.$2c=function(ev){if($Q.start){return;};var e=this;var ep=e.event;var $o=ep.part.row;var $p=ep.part.colStart;var $t=ep.part.line;var $q=ep.part.colWidth;ev=ev||window.event;var $02=ev.which||ev.button;ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};if($02===1){if(typeof(DayPilotBubble)!=='undefined'&&$c.bubble){DayPilotBubble.hideActive();};DayPilotMonth.movingEvent=null;if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){var $03={};$03.start={};$03.start.x=$p;$03.start.y=$o;$03.event=e.event;$03.width=DayPilot.Date.daysSpan($03.event.start().d,$03.event.end().d)+1;$03.direction=this.style.cursor;DayPilotMonth.resizingEvent=$03;}else if(this.style.cursor==='move'||ep.client.moveEnabled()){$c.$27();var $04=DayPilot.mo2($c.nav.top,ev);if(!$04){return;};var $r=$c.$2l($04.x,$04.y);if(!$r){return;};var $D=DayPilot.Date.daysDiff(ep.start(),$c.rows[$o].start);var $B=($r.y*7+$r.x)-($o*7+$p);if($D){$B+=$D;};var $05={};$05.start={};$05.start.x=$p;$05.start.y=$o;$05.start.line=$t;$05.offset=$c.eventMoveToPosition?0:$B;$05.colWidth=$q;$05.event=e.event;$05.coords=$04;DayPilotMonth.movingEvent=$05;}}};this.temp={};this.temp.getPosition=function(){if(!$c.coords){return null;};var $r=$c.$2l($c.coords.x,$c.coords.y);if(!$r){return null;};var d=new DayPilot.Date($c.$28($r.x,$r.y));var $r={};$r.start=d;$r.end=d.addDays(1);return $r;};this.$2m={};var $Q=$c.$2m;$Q.active=false;$Q.start=false;$Q.timeouts=[];$Q.onEventTouchStart=function(ev){if($Q.active||$Q.start){return;};$Q.clearTimeouts();$Q.start=true;$Q.active=false;var $s=this;var $06=500;$Q.timeouts.push(window.setTimeout(function(){$Q.active=true;$Q.start=false;var $04=$Q.relativeCoords(ev);$Q.startMoving($s,$04);ev.preventDefault();},$06));ev.stopPropagation();};$Q.onEventTouchMove=function(ev){$Q.clearTimeouts();$Q.start=false;};$Q.onEventTouchEnd=function(ev){$Q.clearTimeouts();if($Q.start){$c.$2n(this,false);};window.setTimeout(function(){$Q.start=false;$Q.active=false;},500);};$Q.onMainTouchStart=function(ev){if($Q.active||$Q.start){return;};$Q.clearTimeouts();$Q.start=true;$Q.active=false;var $06=500;$Q.timeouts.push(window.setTimeout(function(){$Q.active=true;$Q.start=false;ev.preventDefault();var $04=$Q.relativeCoords(ev);$Q.startRange($04);},$06));};$Q.onMainTouchMove=function(ev){$Q.clearTimeouts();$Q.start=false;if($Q.active){ev.preventDefault();var $04=$Q.relativeCoords(ev);if($Q.moving){$Q.updateMoving($04);return;};if($Q.range){$Q.updateRange($04);}}};$Q.onMainTouchEnd=function(ev){$Q.clearTimeouts();if($Q.active){if($Q.moving){var $07=$Q.moving;var e=$Q.moving.event;var $08=$c.shadow.start;var $09=$c.shadow.position;var $B=$Q.moving.offset;$c.$27();$Q.moving=null;$c.$2o(e,$08.x,$08.y,$B,ev,$09);};if($Q.range){var $0a=$Q.range;var $08=new DayPilot.Date($c.$28($0a.from.x,$0a.from.y));var end=$08.addDays($0a.width);$Q.range=null;$c.$2p($08,end);}};window.setTimeout(function(){$Q.start=false;$Q.active=false;},500);};$Q.clearTimeouts=function(){for(var i=0;i<$Q.timeouts.length;i++){clearTimeout($Q.timeouts[i]);};$Q.timeouts=[];};$Q.relativeCoords=function(ev){var $0b=$c.nav.top;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $04={x:x,y:y};var $0c=DayPilot.abs($0b);var $04={x:x-$0c.x,y:y-$0c.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $04;};$Q.startMoving=function($s,$04){$c.$27();ep=$s.event;var $r=$c.$2l($04.x,$04.y);if(!$r){return;};var $D=DayPilot.Date.daysDiff(ep.start(),$c.rows[ep.part.row].start);var $B=($r.y*7+$r.x)-(ep.part.row*7+ep.part.colStart);if($D){$B+=$D;};var $05={};$05.start={};$05.start.x=ep.part.colStart;$05.start.y=ep.part.row;$05.start.line=ep.part.line;$05.offset=$c.eventMoveToPosition?0:$B;$05.colWidth=ep.part.colWidth;$05.event=ep;$05.coords=$04;$Q.moving=$05;$Q.updateMoving($04);};$Q.updateMoving=function($04){var $r=$c.$2l($04.x,$04.y);if(!$r){return;};var $0d=$c.$2q($r);$c.$27();var event=$Q.moving.event;var $B=$Q.moving.offset;var $A=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($A<1){$A=1;};$c.$23($r.x,$r.y,$0d,$A,$B,event);};$Q.startRange=function($04){var $r=$c.$2l($04.x,$04.y);if(!$r){return;};$c.$27();var $0e={};$0e.start={};$0e.start.x=$r.x;$0e.start.y=$r.y;$0e.x=$r.x;$0e.y=$r.y;$0e.width=1;$Q.range=$0e;$Q.updateRange($04);};$Q.updateRange=function($04){var $r=$c.$2l($04.x,$04.y);if(!$r){return;};$c.$27();var $08=$Q.range.start;var $0f=$08.y*7+$08.x;var $0g=$r.y*7+$r.x;var $A=Math.abs($0g-$0f)+1;if($A<1){$A=1;};var $0h=$0f<$0g?$08:$r;$Q.range.width=$A;$Q.range.from={x:$0h.x,y:$0h.y};$c.$23($0h.x,$0h.y,0,$A,0,null);};this.isWeekend=function($0i){var $0j=0;var $0k=6;if($0i.dayOfWeek()===$0j){return true;};if($0i.dayOfWeek()===$0k){return true;};return false;};this.$2r=function(){var $0l=this.startDate.lastDayOfMonth();if(this.showWeekend){return $0l;}while(this.isWeekend($0l)){$0l=$0l.addDays(-1);};return $0l;};this.$1J=function(){if(typeof this.startDate==='string'){this.startDate=DayPilot.Date.fromStringSortable(this.startDate);};if(this.viewType==='Month'){this.startDate=this.startDate.firstDayOfMonth();}else{this.startDate=this.startDate.getDatePart();};this.firstDate=this.startDate.firstDayOfWeek($L.getWeekStart());if(!this.showWeekend){var $0m=this.startDate.addMonths(-1).getMonth();var $0n=new DayPilot.Date(this.firstDate).addDays(6);while(this.isWeekend($0n)){$0n=$0n.addDays(-1);};if($0n.getMonth()===$0m){this.firstDate=DayPilot.Date.addDays(this.firstDate,7);}};var $0o=this.startDate;var $0p;if(this.viewType==='Month'){var $0q=this.$2r().d;var $0r=DayPilot.Date.daysDiff(this.firstDate,$0q)+1;$0p=Math.ceil($0r/7);}else{$0p=this.weeks;};this.days=$0p*7;this.rows=[];for(var x=0;x<$0p;x++){var r={};r.start=DayPilot.Date.addDays(this.firstDate,x*7);r.end=DayPilot.Date.addDays(r.start,this.$1X());r.events=[];r.lines=[];r.index=x;r.minHeight=this.cellHeight;r.calendar=this;r.belongsHere=function(ev){if(ev.end.getTime()===ev.start.getTime()&&ev.start.getTime()===this.start.getTime()){return true;};return !(ev.end.getTime()<=this.start.getTime()||ev.start.getTime()>=this.end.getTime());};r.getPartStart=function(ep){return DayPilot.Date.max(this.start,ep.start());};r.getPartEnd=function(ep){return DayPilot.Date.min(this.end,ep.end());};r.getStartColumn=function(ep){var $0s=this.getPartStart(ep);return DayPilot.Date.daysDiff(this.start,$0s);};r.getWidth=function(ep){return DayPilot.Date.daysSpan(this.getPartStart(ep),this.getPartEnd(ep))+1;};r.putIntoLine=function(ep,$p,$q,$o){var $0t=this;for(var i=0;i<this.lines.length;i++){var $t=this.lines[i];if($t.isFree($p,$q)){$t.addEvent(ep,$p,$q,$o,i);return i;}};var $t=[];$t.isFree=function($p,$q){var $0u=true;for(var i=0;i<this.length;i++){var ep=this[i];if(!($p+$q-1<ep.part.colStart||$p>ep.part.colStart+ep.part.colWidth-1)){$0u=false;}};return $0u;};$t.addEvent=function(ep,$p,$q,$o,$0v){ep.part.colStart=$p;ep.part.colWidth=$q;ep.part.row=$o;ep.part.line=$0v;ep.part.startsHere=$0t.start.getTime()<=ep.start().getTime();ep.part.endsHere=$0t.end.getTime()>=ep.end().getTime();this.push(ep);};$t.addEvent(ep,$p,$q,$o,this.lines.length);this.lines.push($t);return this.lines.length-1;};r.getStart=function(){var $08=0;for(var i=0;i<$c.rows.length&&i<this.index;i++){$08+=$c.rows[i].getHeight();}};r.getHeight=function(){return Math.max(this.lines.length*$L.lineHeight()+$c.cellHeaderHeight+$c.cellMarginBottom,this.calendar.cellHeight);};this.rows.push(r);};this.endDate=DayPilot.Date.addDays(this.firstDate,$0p*7);};this.$2s=function(){var $I=this.headerHeight;for(var i=0;i<this.rows.length;i++){$I+=this.rows[i].getHeight();};return $I;};this.$2t=function($08,end){var $0w=(end.y*7+end.x)-($08.y*7+$08.x);return $0w+1;};this.$2u=function(){var $0x=this.nav.top;this.nav.top.dp=this;$0x.setAttribute("unselectable","on");$0x.style.MozUserSelect='none';$0x.style.KhtmlUserSelect='none';$0x.style.WebkitUserSelect='none';$0x.style.position='relative';if(this.width){$0x.style.width=this.width;};$0x.style.height=this.$2s()+'px';$0x.onselectstart=function(e){return false;};if(this.cssOnly){$0x.className=this.$1S("_main");}else{$0x.style.border="1px solid "+this.borderColor;};if(this.hideUntilInit){$0x.style.visibility='hidden';};var $0y=document.createElement("div");this.nav.cells=$0y;$0y.style.position="absolute";$0y.style.left="0px";$0y.style.right="0px";$0y.setAttribute("unselectable","on");$0x.appendChild($0y);var $0z=document.createElement("div");this.nav.events=$0z;$0z.style.position="absolute";$0z.style.left="0px";$0z.style.right="0px";$0z.setAttribute("unselectable","on");$0x.appendChild($0z);$0x.onmousemove=this.$2v;$0x.ontouchstart=$Q.onMainTouchStart;$0x.ontouchmove=$Q.onMainTouchMove;$0x.ontouchend=$Q.onMainTouchEnd;this.vsph=document.createElement("div");this.vsph.style.display='none';this.nav.top.appendChild(this.vsph);};this.$2v=function(ev){$c.coords=DayPilot.mo2($c.nav.top,ev);var $04=$c.coords;if(!$04){return;};var $r=$c.$2l($04.x,$04.y);if(!$r){return;};if(DayPilotMonth.resizingEvent){$c.$27();var $03=DayPilotMonth.resizingEvent;var $0A=$03.start;var $A,$08;if($03.direction==='w-resize'){$08=$r;var $0B=$03.event.end().d;if(DayPilot.Date.getDate($0B).getTime()===$0B.getTime()){$0B=DayPilot.Date.addDays($0B,-1);};var end=$c.$2w($0B);$A=$c.$2t($r,end);}else{$08=$c.$2w($03.event.start().d);$A=$c.$2t($08,$r);};if($A<1){$A=1;};$c.$23($08.x,$08.y,0,$A);}else if(DayPilotMonth.movingEvent){if($04.x===DayPilotMonth.movingEvent.coords.x&&$04.y===DayPilotMonth.movingEvent.coords.y){return;};var $0d=$c.$2q($r);$c.$27();var event=DayPilotMonth.movingEvent.event;var $B=DayPilotMonth.movingEvent.offset;var $A=$c.cellMode?1:DayPilot.Date.daysSpan(event.start().d,event.end().d)+1;if($A<1){$A=1;};$c.$23($r.x,$r.y,$0d,$A,$B,event);}else if(DayPilotMonth.timeRangeSelecting){DayPilotMonth.cancelCellClick=true;$c.$27();var $08=DayPilotMonth.timeRangeSelecting;var $0f=$08.y*7+$08.x;var $0g=$r.y*7+$r.x;var $A=Math.abs($0g-$0f)+1;if($A<1){$A=1;};var $0h=$0f<$0g?$08:$r;DayPilotMonth.timeRangeSelecting.from={x:$0h.x,y:$0h.y};DayPilotMonth.timeRangeSelecting.width=$A;DayPilotMonth.timeRangeSelecting.moved=true;$c.$23($0h.x,$0h.y,0,$A,0,null);}};this.$2q=function($r){var y=$r.relativeY;var $o=$c.rows[$r.y];var top=$c.cellHeaderHeight;var lh=$L.lineHeight();var $0C=$o.lines.length;for(var i=0;i<$o.lines.length;i++){var $t=$o.lines[i];if($t.isFree($r.x,1)){$0C=i;break;}};var $0D=Math.floor((y-top+lh/ 2)/ lh);var $0D=Math.min($0C,$0D);var $0D=Math.max(0,$0D);return $0D;};this.message=function($0E,$0F,$0G,$0H){if($0E===null){return;};var $0F=$0F||this.messageHideAfter||2000;var $0G=$0G||"#ffffff";var $0H=$0H||"#000000";var $0I=0.8;var top=this.headerHeight;var $P=1;var $0J=0;var $s;if(!this.nav.message){$s=document.createElement("div");$s.setAttribute("unselectable","on");$s.style.position="absolute";$s.style.right="0px";$s.style.left="0px";$s.style.top=top+"px";$s.style.opacity=$0I;$s.style.filter="alpha(opacity="+($0I*100)+")";$s.style.display='none';if(!this.cssOnly){$s.style.textAlign="left";};var $R=document.createElement("div");$R.setAttribute("unselectable","on");$R.onclick=function(){$c.nav.message.style.display='none';};if(!this.cssOnly){$R.style.padding="5px";}else{$R.className=this.$1S("_message");};$s.appendChild($R);var close=document.createElement("div");close.setAttribute("unselectable","on");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($c.nav.scroll)+5)+"px";close.style.color=$0G;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$1S("_message_close");};close.onclick=function(){$c.nav.message.style.display='none';};$s.appendChild(close);this.nav.top.appendChild($s);this.nav.message=$s;};var $0K=function(){$c.nav.message.style.opacity=$0I;var $R=$c.nav.message.firstChild;if(!$c.cssOnly){$R.style.backgroundColor=$0H;$R.style.color=$0G;};$R.innerHTML=$0E;var end=function(){$c.messageTimeout=setTimeout($c.$2x,$0F);};DayPilot.fade($c.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($c.messageTimeout);DayPilot.fade($c.nav.message,-0.2,$0K);}else{$0K();}};this.message.show=function($0E){$c.message($0E);};this.message.hide=function(){$c.$2x();};this.$2x=function(){var end=function(){$c.nav.message.style.display='none';};DayPilot.fade($c.nav.message,-0.2,end);};this.$1N=function(){this.nav.top.style.height=this.$2s()+'px';for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].style.top=this.$24(y)+'px';this.cells[x][y].style.height=this.rows[y].getHeight()+'px';}}};this.$2l=function(x,y){var $0L=Math.floor(this.nav.top.clientWidth/this.$1X());var $0M=Math.min(Math.floor(x/$0L),this.$1X()-1);var $o=null;var $I=this.headerHeight;var $0N=0;if(y<$I){return null;};for(var i=0;i<this.rows.length;i++){var $0O=$I;$I+=this.rows[i].getHeight();if(y<$I){$0N=y-$0O;$o=i;break;}};if($o===null){$o=this.rows.length-1;};var $r={};$r.x=$0M;$r.y=$o;$r.relativeY=$0N;return $r;};this.$2w=function($0i){var $A=DayPilot.Date.daysDiff(this.firstDate,$0i);var $r={x:0,y:0};while($A>=7){$r.y++;$A-=7;};$r.x=$A;return $r;};this.$1M=function(){var $0P=document.createElement("div");$0P.oncontextmenu=function(){return false;};this.nav.cells.appendChild($0P);this.cells=[];for(var x=0;x<this.$1X();x++){this.cells[x]=[];var $0Q=this.headerProperties?this.headerProperties[x]:null;var $0R=x+$L.getWeekStart();if($0R>6){$0R-=7;};if(!$0Q){var $0Q={};$0Q.html=$L.locale().dayNames[$0R];if(!this.cssOnly){$0Q.backColor=this.headerBackColor;}};if(typeof $c.onBeforeHeaderRender==='function'){var $m={};$m.header={};$m.header.dayOfWeek=$0R;DayPilot.Util.copyProps($0Q,$m.header,['html','backColor']);$c.onBeforeHeaderRender($m);DayPilot.Util.copyProps($m.header,$0Q,['html','backColor']);};var $0S=document.createElement("div");$0S.setAttribute("unselectable","on");$0S.style.position='absolute';$0S.style.left=(this.$26()*x)+'%';$0S.style.width=(this.$26())+'%';$0S.style.top='0px';$0S.style.height=(this.headerHeight)+'px';(function(x){$0S.onclick=function(){$c.$2y(x);};})($0R);var $R=document.createElement("div");$R.setAttribute("unselectable","on");$R.className=this.$1S("_header_inner");$R.innerHTML=$0Q.html;$0S.appendChild($R);if(!this.cssOnly){$R.style.position="absolute";$R.style.top="0px";$R.style.bottom="0px";$R.style.left="0px";$R.style.right="0px";$R.style.backgroundColor=$0Q.backColor;$R.style.fontFamily=this.headerFontFamily;$R.style.fontSize=this.headerFontSize;$R.style.color=this.headerFontColor;$R.style.textAlign='center';$R.style.cursor='default';$R.className=this.$1S("header");if(x!==this.$1X()-1){$R.style.borderRight='1px solid '+this.borderColor;}}else{$0S.className=this.$1S("_header");if($0Q){$R.style.background=$0Q.backColor;}};$0P.appendChild($0S);for(var y=0;y<this.rows.length;y++){this.$2z(x,y,$0P);}};var $s=document.createElement("div");$s.style.position='absolute';$s.style.padding='2px';$s.style.top='0px';$s.style.left='0px';$s.style.backgroundColor="#FF6600";$s.style.color="white";$s.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)this.nav.top.appendChild($s);};this.$1L=function(){for(var x=0;x<this.cells.length;x++){for(var y=0;y<this.cells[x].length;y++){this.cells[x][y].onclick=null;}};this.nav.cells.innerHTML='';};this.$2z=function(x,y,$0P){var $o=this.rows[y];var d=DayPilot.Date.addDays(this.firstDate,y*7+x);var $0T=this.cellProperties?this.cellProperties[y*this.$1X()+x]:null;var $0U=null;if($0T){$0U=$0T["headerHtml"];}else{var $0i=d.getUTCDate();if($0i===1){$0U=$L.locale().monthNames[d.getUTCMonth()]+' '+$0i;}else{$0U=$0i+"";}};if(typeof $c.onBeforeCellRender==='function'){if(!$0T){var $0T={};};var $m={};$m.cell={};$m.cell.backColor=null;$m.cell.backImage=null;$m.cell.backRepeat=null;$m.cell.business=false;$m.cell.headerHtml=$0U;$m.cell.headerBackColor=null;$m.cell.cssClass=null;$m.cell.html=null;$m.cell.start=new DayPilot.Date(d);$m.cell.end=$m.cell.start.addDays(1);DayPilot.Util.copyProps($0T,$m.cell);$c.onBeforeCellRender($m);DayPilot.Util.copyProps($m.cell,$0T,['backColor','backImage','backRepeat','business','headerHtml','headerBackColor','cssClass','html']);};var $r=document.createElement("div");$r.setAttribute("unselectable","on");$r.style.position='absolute';$r.style.cursor='default';$r.style.left=(this.$26()*x)+'%';$r.style.width=(this.$26())+'%';$r.style.top=(this.$24(y))+'px';$r.style.height=($o.getHeight())+'px';$r.d=d;$r.x=x;$r.y=y;$r.properties=$0T;var $0m=this.startDate.addMonths(-1).getMonth();var $0V=this.startDate.addMonths(1).getMonth();var $0W=this.startDate.getMonth();var $R=document.createElement("div");$R.setAttribute("unselectable","on");$r.appendChild($R);if(this.cssOnly){$R.className=this.$1S("_cell_inner");};if(!this.cssOnly){$R.style.position="absolute";$R.style.left="0px";$R.style.right="0px";$R.style.top="0px";$R.style.bottom="0px";if(d.getUTCMonth()===$0W){$r.className=this.$1S("cell");}else if(d.getUTCMonth()===$0m){$r.className=this.$1S("cell")+" "+this.$1S("previous");}else if(d.getUTCMonth()===$0V){$r.className=this.$1S("cell")+" "+this.$1S("next");};if($0T){$R.style.background=$0T["backColor"];$R.className+=" "+this.$1S($0T["cssClass"]);if($0T["backImage"]){$R.style.backgroundImage="url('"+$0T["backImage"]+"')";};if($0T["backRepeat"]){$R.style.backgroundRepeat=$0T["backRepeat"];}}else{$R.style.background=this.$2A(d);};if(x!==this.$1X()-1){$R.style.borderRight='1px solid '+this.innerBorderColor;};if(y===0){$R.style.borderTop='1px solid '+this.borderColor;};$R.style.borderBottom='1px solid '+this.innerBorderColor;}else{$R.className=this.$1S("_cell_inner");if(d.getUTCMonth()===$0W){$r.className=this.$1S("_cell");}else if(d.getUTCMonth()===$0m){$r.className=this.$1S("_cell")+" "+this.$1S("_previous");}else if(d.getUTCMonth()===$0V){$r.className=this.$1S("_cell")+" "+this.$1S("_next");}else{$a();};if($0T){if($0T["cssClass"]){DayPilot.Util.addClass($r,$0T.cssClass);};if($0T["business"]){DayPilot.Util.addClass($r,this.$1S("_cell_business"));};if($0T["backColor"]){$R.style.backgroundColor=$0T["backColor"];};if($0T["backImage"]){$R.style.backgroundImage="url('"+$0T["backImage"]+"')";};if($0T["backRepeat"]){$R.style.backgroundRepeat=$0T["backRepeat"];}}};$r.onmousedown=this.$2B;$r.onmousemove=this.$2C;$r.onmouseout=this.$2D;$r.oncontextmenu=this.$2E;$r.onclick=this.$2F;$r.ondblclick=this.$2G;var $0X=document.createElement("div");$0X.setAttribute("unselectable","on");$0X.style.height=this.cellHeaderHeight+"px";if(!this.cssOnly){if($0T&&$0T["headerBackColor"]){$0X.style.backgroundColor=$0T["headerBackColor"];}else if(this.cellHeaderBackColor){$0X.style.backgroundColor=this.cellHeaderBackColor;};$0X.style.paddingRight='2px';$0X.style.textAlign="right";$0X.style.fontFamily=this.cellHeaderFontFamily;$0X.style.fontSize=this.cellHeaderFontSize;$0X.style.color=this.cellHeaderFontColor;$0X.className=this.$1S("cellheader");}else{if($0T&&$0T["headerBackColor"]){$0X.style.background=$0T["headerBackColor"];};$0X.className=this.$1S("_cell_header");};$0X.innerHTML=$0U;$R.appendChild($0X);if($0T&&$0T["html"]){var $0E=document.createElement("div");$0E.setAttribute("unselectable","on");$0E.style.height=($o.getHeight()-this.cellHeaderHeight)+'px';$0E.style.overflow='hidden';$0E.innerHTML=$0T["html"];$R.appendChild($0E);};if(this.cellMode){var $0Y=document.createElement("div");$0Y.setAttribute("unselectable","on");$0Y.style.height=(this.cellHeight-this.cellHeaderHeight)+"px";$0Y.style.overflow='auto';$0Y.style.position='relative';var $K=document.createElement('div');$K.setAttribute("unselectable","on");$K.style.paddingTop="1px";$K.style.paddingBottom="1px";$0Y.appendChild($K);$R.appendChild($0Y);$r.body=$K;$r.scrolling=$0Y;};if($r.properties){var $Y=$r.properties.areas||[];for(var i=0;i<$Y.length;i++){var $Z=$Y[i];if($Z.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($r,$r.properties,$Z);$r.appendChild(a);}};this.cells[x][y]=$r;$0P.appendChild($r);};this.$2C=function(){var c=this;if(c.properties){DayPilot.Areas.showAreas(c,c.properties);}};this.$2D=function(ev){var c=this;if(c.properties){DayPilot.Areas.hideAreas(c,ev);}};this.$2E=function(){var d=this.d;var go=function(d){var $08=new DayPilot.Date(d);var end=$08.addDays(1);var $0Z=new DayPilot.Selection($08,end,null,$c);if($c.contextMenuSelection){$c.contextMenuSelection.show($0Z);}};go(d);};this.$2G=function(){var d=this.d;if($c.timeouts){for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=null;};if($c.timeRangeDoubleClickHandling!=='Disabled'){var $08=new DayPilot.Date(d);var end=$08.addDays(1);$c.$2H($08,end);}};this.$2F=function(){if(DayPilotMonth.cancelCellClick){return;};var d=this.d;var $11=function(d){var $08=new DayPilot.Date(d);var end=$08.addDays(1);$c.$2p($08,end);};if($c.timeRangeSelectedHandling!=='Disabled'&&$c.timeRangeDoubleClickHandling==='Disabled'){$11(d);return;};if(!$c.timeouts){$c.timeouts=[];};var $12=function(d){return function(){$11(d);};};$c.timeouts.push(window.setTimeout($12(d),300));};this.$2B=function(e){var $r=this;var x=$r.x;var y=$r.y;DayPilotMonth.cancelCellClick=false;if($r.scrolling){var $B=DayPilot.mo3($r.scrolling,e);var sw=DayPilot.sw($r.scrolling);var $A=$r.scrolling.offsetWidth;if($B.x>$A-sw){return;}};if($c.timeRangeSelectedHandling!=='Disabled'){$c.$27();DayPilotMonth.timeRangeSelecting={"root":$c,"x":x,"y":y,"from":{x:x,y:y},"width":1};}};this.$1X=function(){if(this.showWeekend){return 7;}else{return 5;}};this.$26=function(){if(this.showWeekend){return 14.285;}else{return 20;}};this.$2A=function(d){if(d.getUTCDay()===6||d.getUTCDay()===0){return this.nonBusinessBackColor;};return this.backColor;};this.$24=function($0v){var top=this.headerHeight;for(var i=0;i<$0v;i++){top+=this.rows[i].getHeight();};return top;};this.clearSelection=function(){this.$27();};this.$2I=function($13,$i,$14){var $15={};$15.action=$13;$15.parameters=$14;$15.data=$i;$15.header=this.$2J();var $16="JSON"+DayPilot.JSON.stringify($15);__doPostBack($c.uniqueID,$16);};this.$2K=function($13,$14,$i,$17){if(typeof $17==='undefined'){$17="CallBack";};var $15={};$15.action=$13;$15.type=$17;$15.parameters=$14;$15.data=$i;$15.header=this.$2J();var $16="JSON"+DayPilot.JSON.stringify($15);if(this.backendUrl){DayPilot.request(this.backendUrl,this.$2L,$16,this.$2M);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$16,this.$1F,null,this.callbackError,true);}};this.$2M=function($18){if(typeof $c.onAjaxError==='function'){var $m={};$m.request=$18;$c.onAjaxError($m);}else if(typeof $c.ajaxError==='function'){$c.ajaxError($18);}};this.$2L=function($19){$c.$1F($19.responseText);};this.$2J=function(){var h={};h.v=this.v;h.control="dpm";h.id=this.id;h.visibleStart=new DayPilot.Date(this.firstDate);h.visibleEnd=h.visibleStart.addDays(this.days);h.clientState=this.clientState;h.cssOnly=$c.cssOnly;h.cssClassPrefix=$c.cssClassPrefix;h.startDate=$c.startDate;h.showWeekend=this.showWeekend;h.headerBackColor=this.headerBackColor;h.backColor=this.backColor;h.nonBusinessBackColor=this.nonBusinessBackColor;h.locale=this.locale;h.timeFormat=this.timeFormat;h.weekStarts=this.weekStarts;h.viewType=this.viewType;h.weeks=this.weeks;h.selected=$c.multiselect.events();h.hashes=$c.hashes;return h;};this.$2N=function($17,$13,$1a,$i){if($17==='PostBack'){$c.postBack2($13,$1a,$i);}else if($17==='CallBack'){$c.$2K($13,$1a,$i,"CallBack");}else if($17==='Immediate'){$c.$2K($13,$1a,$i,"Notify");}else if($17==='Queue'){$c.queue.add(new DayPilot.Action(this,$13,$1a,$i));}else if($17==='Notify'){if($L.notifyType()==='Notify'){$c.$2K($13,$1a,$i,"Notify");}else{$c.queue.add(new DayPilot.Action($c,$13,$1a,$i));}}else{throw "Invalid event invocation type";}};this.$2O=function($m,$g){var $f=$c.$2P($g);var $1a={};$1a.args=$m;$1a.guid=$f;$c.$2K("Bubble",$1a);};this.$2P=function($g){var $f=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$f]=$g;return $f;};this.eventClickPostBack=function(e,$i){this.$2I("EventClick",$i,e);};this.eventClickCallBack=function(e,$i){this.$2K('EventClick',e,$i);};this.$2g=function($s,e){DayPilotMonth.movingEvent=null;DayPilotMonth.resizingEvent=null;var e=e||window.event;var $1b=e.ctrlKey;e.cancelBubble=true;if(e.stopPropagation){e.stopPropagation();};if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.eventDoubleClickHandling==='Disabled'){$c.$2n($s,$1b);return;};if(!$c.timeouts){$c.timeouts=[];}else{for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=[];};var $1c=function($s,$1b){return function(){$c.$2n($s,$1b);};};$c.timeouts.push(window.setTimeout($1c($s,$1b),300));};this.$2n=function($s,$1b){var e=$s.event;if(!e.client.clickEnabled()){return;};if($c.$1R()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventClick==='function'){$c.onEventClick($m);if($m.preventDefault.value){return;}};switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'Select':$c.$2Q($s,e,$1b);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventClicked==='function'){$c.onEventClicked($m);}}else{switch($c.eventClickHandling){case 'PostBack':$c.eventClickPostBack(e);break;case 'CallBack':$c.eventClickCallBack(e);break;case 'JavaScript':$c.onEventClick(e);break;case 'Select':$c.$2Q($s,e,$1b);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(e);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.eventDoubleClickPostBack=function(e,$i){this.$2I('EventDoubleClick',$i,e);};this.eventDoubleClickCallBack=function(e,$i){this.$2K('EventDoubleClick',e,$i);};this.$2h=function($s,ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($c.timeouts){for(var $10 in $c.timeouts){window.clearTimeout($c.timeouts[$10]);};$c.timeouts=null;};var ev=ev||window.event;var e=$s.event;if($c.$1R()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventDoubleClick==='function'){$c.onEventDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'Select':$c.$2Q($s,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventDoubleClicked==='function'){$c.onEventDoubleClicked($m);}}else{switch($c.eventDoubleClickHandling){case 'PostBack':$c.eventDoubleClickPostBack(e);break;case 'CallBack':$c.eventDoubleClickCallBack(e);break;case 'JavaScript':$c.onEventDoubleClick(e);break;case 'Select':$c.$2Q($s,e,ev.ctrlKey);break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}}};this.$2Q=function($s,e,$1b){$c.$2R($s,e,$1b);};this.eventSelectPostBack=function(e,$1e,$i){var $1a={};$1a.e=e;$1a.change=$1e;this.$2I('EventSelect',$i,$1a);};this.eventSelectCallBack=function(e,$1e,$i){var $1a={};$1a.e=e;$1a.change=$1e;this.$2K('EventSelect',$1a,$i);};this.$2R=function($s,e,$1b){if($c.$1R()){var m=$c.multiselect;m.previous=m.events();var $m={};$m.e=e;$m.selected=m.isSelected(e);$m.ctrl=$1b;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventSelect==='function'){$c.onEventSelect($m);if($m.preventDefault.value){return;}};switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1e);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1e);break;case 'Update':m.$2S($s,$1b);break;};if(typeof $c.onEventSelected==='function'){$m.change=m.isSelected(e)?"selected":"deselected";$m.selected=m.isSelected(e);$c.onEventSelected($m);}}else{var m=$c.multiselect;m.previous=m.events();m.$2S($s,$1b);var $1e=m.isSelected(e)?"selected":"deselected";switch($c.eventSelectHandling){case 'PostBack':$c.eventSelectPostBack(e,$1e);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$c.eventSelectCallBack(e,$1e);break;case 'JavaScript':$c.onEventSelect(e,$1e);break;}}};this.eventRightClickPostBack=function(e,$i){this.$2I("EventRightClick",$i,e);};this.eventRightClickCallBack=function(e,$i){this.$2K('EventRightClick',e,$i);};this.$2k=function(e){this.event=e;if(!e.client.rightClickEnabled()){return false;};if($c.$1R()){var $m={};$m.e=e;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventRightClick==='function'){$c.onEventRightClick($m);if($m.preventDefault.value){return;}};switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;};if(typeof $c.onEventRightClicked==='function'){$c.onEventRightClicked($m);}}else{switch($c.eventRightClickHandling){case 'PostBack':$c.eventRightClickPostBack(e);break;case 'CallBack':$c.eventRightClickCallBack(e);break;case 'JavaScript':$c.onEventRightClick(e);break;case 'ContextMenu':var $1d=e.client.contextMenu();if($1d){$1d.show(e);}else{if($c.contextMenu){$c.contextMenu.show(this.event);}};break;case 'Bubble':if($c.bubble){$c.bubble.showEvent(e);};break;}};return false;};this.eventMenuClickPostBack=function(e,$1f,$i){var $1a={};$1a.e=e;$1a.command=$1f;this.$2I('EventMenuClick',$i,$1a);};this.eventMenuClickCallBack=function(e,$1f,$i){var $1a={};$1a.e=e;$1a.command=$1f;this.$2K('EventMenuClick',$1a,$i);};this.$2T=function($1f,e,$1g){switch($1g){case 'PostBack':$c.eventMenuClickPostBack(e,$1f);break;case 'CallBack':$c.eventMenuClickCallBack(e,$1f);break;}};this.eventMovePostBack=function(e,$1h,$1i,$i,$09){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$09;this.$2I('EventMove',$i,$1a);};this.eventMoveCallBack=function(e,$1h,$1i,$i,$09){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$09;this.$2K('EventMove',$1a,$i);};this.$2o=function(e,x,y,$B,ev,$09){var $1j=DayPilot.Date.getTime(e.start().d);var $0B=DayPilot.Date.getDate(e.end().d);if($0B.getTime()!==e.end().d.getTime()){$0B=DayPilot.Date.addDays($0B,1);};var $1k=DayPilot.Date.diff(e.end().d,$0B);var $1l=this.$28(x,y);$1l=DayPilot.Date.addDays($1l,-$B);var $A=DayPilot.Date.daysSpan(e.start().d,e.end().d)+1;var $1m=DayPilot.Date.addDays($1l,$A);var $1h=new DayPilot.Date(DayPilot.Date.addTime($1l,$1j));var $1i=new DayPilot.Date(DayPilot.Date.addTime($1m,$1k));if($c.$1R()){var $m={};$m.e=e;$m.newStart=$1h;$m.newEnd=$1i;$m.ctrl=false;if(ev){$m.ctrl=ev.ctrlKey;};$m.shift=false;if(ev){$m.shift=ev.shiftKey;};$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventMove==='function'){$c.onEventMove($m);if($m.preventDefault.value){return;}};switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1h,$1i,null,$09);break;case 'CallBack':$c.eventMoveCallBack(e,$1h,$1i,null,$09);break;case 'Notify':$c.eventMoveNotify(e,$1h,$1i,null,$09);break;case 'Update':e.start($1h);e.end($1i);$c.events.update(e);break;};if(typeof $c.onEventMoved==='function'){$c.onEventMoved($m);}}else{switch($c.eventMoveHandling){case 'PostBack':$c.eventMovePostBack(e,$1h,$1i,null,$09);break;case 'CallBack':$c.eventMoveCallBack(e,$1h,$1i,null,$09);break;case 'JavaScript':$c.onEventMove(e,$1h,$1i,ev.ctrlKey,ev.shiftKey,$09);break;case 'Notify':$c.eventMoveNotify(e,$1h,$1i,null,$09);break;}}};this.eventMoveNotify=function(e,$1h,$1i,$i,$t){var $1n=new DayPilot.Event(e.copy(),this);e.start($1h);e.end($1i);e.commit();$c.update();this.$2U("Notify",$1n,$1h,$1i,$i,$t);};this.$2U=function($17,e,$1h,$1i,$i,$t){var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;$1a.position=$t;this.$2N($17,"EventMove",$1a,$i);};this.eventResizePostBack=function(e,$1h,$1i,$i){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2I('EventResize',$i,$1a);};this.eventResizeCallBack=function(e,$1h,$1i,$i){if(!$1h)throw 'newStart is null';if(!$1i)throw 'newEnd is null';var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2K('EventResize',$1a,$i);};this.$2V=function(e,$08,$A){var $1j=DayPilot.Date.getTime(e.start().d);var $0B=DayPilot.Date.getDate(e.end().d);if(!DayPilot.Date.equals($0B,e.end().d)){$0B=DayPilot.Date.addDays($0B,1);};var $1k=DayPilot.Date.diff(e.end().d,$0B);var $1l=this.$28($08.x,$08.y);var $1m=DayPilot.Date.addDays($1l,$A);var $1h=new DayPilot.Date(DayPilot.Date.addTime($1l,$1j));var $1i=new DayPilot.Date(DayPilot.Date.addTime($1m,$1k));if($c.$1R()){var $m={};$m.e=e;$m.newStart=$1h;$m.newEnd=$1i;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onEventResize==='function'){$c.onEventResize($m);if($m.preventDefault.value){return;}};switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1h,$1i);break;case 'CallBack':$c.eventResizeCallBack(e,$1h,$1i);break;case 'Notify':$c.eventResizeNotify(e,$1h,$1i);break;case 'Update':e.start($1h);e.end($1i);$c.events.update(e);break;};if(typeof $c.onEventResized==='function'){$c.onEventResized($m);}}else{switch($c.eventResizeHandling){case 'PostBack':$c.eventResizePostBack(e,$1h,$1i);break;case 'CallBack':$c.eventResizeCallBack(e,$1h,$1i);break;case 'JavaScript':$c.onEventResize(e,$1h,$1i);break;case 'Notify':$c.eventResizeNotify(e,$1h,$1i);break;}}};this.eventResizeNotify=function(e,$1h,$1i,$i){var $1n=new DayPilot.Event(e.copy(),this);e.start($1h);e.end($1i);e.commit();$c.update();this.$2W("Notify",$1n,$1h,$1i,$i);};this.$2W=function($17,e,$1h,$1i,$i){var $1a={};$1a.e=e;$1a.newStart=$1h;$1a.newEnd=$1i;this.$2N($17,"EventResize",$1a,$i);};this.timeRangeSelectedPostBack=function($08,end,$i){var $0e={};$0e.start=$08;$0e.end=end;this.$2I('TimeRangeSelected',$i,$0e);};this.timeRangeSelectedCallBack=function($08,end,$i){var $0e={};$0e.start=$08;$0e.end=end;this.$2K('TimeRangeSelected',$0e,$i);};this.$2p=function($08,end){if($c.$1R()){var $m={};$m.start=$08;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeSelect==='function'){$c.onTimeRangeSelect($m);if($m.preventDefault.value){return;}};switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($08,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($08,end);$c.clearSelection();break;};if(typeof $c.onTimeRangeSelected==='function'){$c.onTimeRangeSelected($m);}}else{switch($c.timeRangeSelectedHandling){case 'PostBack':$c.timeRangeSelectedPostBack($08,end);$c.clearSelection();break;case 'CallBack':$c.timeRangeSelectedCallBack($08,end);$c.clearSelection();break;case 'JavaScript':$c.onTimeRangeSelected($08,end);break;}}};this.timeRangeMenuClickPostBack=function(e,$1f,$i){var $1a={};$1a.selection=e;$1a.command=$1f;this.$2I("TimeRangeMenuClick",$i,$1a);};this.timeRangeMenuClickCallBack=function(e,$1f,$i){var $1a={};$1a.selection=e;$1a.command=$1f;this.$2K("TimeRangeMenuClick",$1a,$i);};this.$2X=function($1f,e,$1g){switch($1g){case 'PostBack':$c.timeRangeMenuClickPostBack(e,$1f);break;case 'CallBack':$c.timeRangeMenuClickCallBack(e,$1f);break;}};this.headerClickPostBack=function(c,$i){this.$2I('HeaderClick',$i,c);};this.headerClickCallBack=function(c,$i){this.$2K('HeaderClick',c,$i);};this.$2y=function(x){var $i=this.data;var c={$0X:x};if($c.$1R()){var $m={};$m.header={};$m.header.dayOfWeek=x;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onHeaderClick==='function'){$c.onHeaderClick($m);if($m.preventDefault.value){return;}};switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;};if(typeof $c.onHeaderClicked==='function'){$c.onHeaderClicked($m);}}else{switch($c.headerClickHandling){case 'PostBack':$c.headerClickPostBack(c);break;case 'CallBack':$c.headerClickCallBack(c);break;case 'JavaScript':$c.onHeaderClick(c);break;}}};this.timeRangeDoubleClickPostBack=function($08,end,$i){var $0e={};$0e.start=$08;$0e.end=end;this.$2I('TimeRangeDoubleClick',$i,$0e);};this.timeRangeDoubleClickCallBack=function($08,end,$i){var $0e={};$0e.start=$08;$0e.end=end;this.$2K('TimeRangeDoubleClick',$0e,$i);};this.$2H=function($08,end){if($c.$1R()){var $m={};$m.start=$08;$m.end=end;$m.preventDefault=function(){this.preventDefault.value=true;};if(typeof $c.onTimeRangeDoubleClick==='function'){$c.onTimeRangeDoubleClick($m);if($m.preventDefault.value){return;}};switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($08,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($08,end);break;};if(typeof $c.onTimeRangeDoubleClicked==='function'){$c.onTimeRangeDoubleClicked($m);}}else{switch($c.timeRangeDoubleClickHandling){case 'PostBack':$c.timeRangeDoubleClickPostBack($08,end);break;case 'CallBack':$c.timeRangeDoubleClickCallBack($08,end);break;case 'JavaScript':$c.onTimeRangeDoubleClick($08,end);break;}}};this.commandCallBack=function($1f,$i){this.$2Y();var $1a={};$1a.command=$1f;this.$2K('Command',$1a,$i);};this.$2Z=function(e){for(var i=0;i<$c.elements.events.length;i++){var $s=$c.elements.events[i];if($s.event===e){return $s;}};return null;};this.$2i=function(e){var $d={};$d.list=[];$d.each=function(m){if(!m){return;};for(var i=0;i<this.list.length;i++){m(this.list[i]);}};for(var i=0;i<this.elements.events.length;i++){var $s=this.elements.events[i];if($s.event.data===e.data){$d.list.push($s);}};return $d;};this.$30={};var $L=this.$30;$L.lineHeight=function(){return $c.eventHeight+$c.lineSpace;};$L.rounded=function(){return $c.eventCorners==="Rounded";};$L.loadFromServer=function(){if($c.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $c.events.list==='undefined')||(!$c.events.list);}else{return false;}};$L.locale=function(){return DayPilot.Locale.find($c.locale);};$L.getWeekStart=function(){if($c.showWeekend){return $c.weekStarts;}else{return 1;}};$L.notifyType=function(){var $17;if($c.notifyCommit==='Immediate'){$17="Notify";}else if($c.notifyCommit==='Queue'){$17="Queue";}else{throw "Invalid notifyCommit value: "+$c.notifyCommit;};return $17;};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$31=function(){var m=$c.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$c.multiselect;var $0z=[];$0z.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0z.push(m.list[i]);};return $0z;};this.multiselect.$32=function(){};this.multiselect.$2S=function($s,$1o){var m=$c.multiselect;if(m.isSelected($s.event)){if($c.allowMultiSelect){if($1o){m.remove($s.event,true);}else{var $0r=m.list.length;m.clear(true);if($0r>1){m.add($s.event,true);}}}else{m.clear(true);}}else{if($c.allowMultiSelect){if($1o){m.add($s.event,true);}else{m.clear(true);m.add($s.event,true);}}else{m.clear(true);m.add($s.event,true);}};m.redraw();m.$32();};this.multiselect.$2f=function(ev){var m=$c.multiselect;return m.$33(ev,m.initList);};this.multiselect.$34=function(){var m=$c.multiselect;var $1p=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$1p.push(event.value());};alert($1p.join("\n"));};this.multiselect.add=function(ev,$1q){var m=$c.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($1q){return;};m.redraw();};this.multiselect.remove=function(ev,$1q){var m=$c.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);}};this.multiselect.clear=function($1q){var m=$c.multiselect;m.list=[];if($1q){return;};m.redraw();};this.multiselect.redraw=function(){var m=$c.multiselect;for(var i=0;i<$c.elements.events.length;i++){var $s=$c.elements.events[i];if(m.isSelected($s.event)){m.$35($s);}else{m.$36($s);}}};this.multiselect.$35=function($s){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1S("_selected"):$c.$1S("selected");var $s=m.$37($s);DayPilot.Util.addClass($s,cn);m.divs.push($s);};this.multiselect.$37=function($s){if($c.cssOnly){return $s;};return $s.firstChild;};this.multiselect.$38=function(){var m=$c.multiselect;for(var i=0;i<m.divs.length;i++){var $s=m.divs[i];m.$36($s,true);};m.divs=[];};this.multiselect.$36=function($s,$1r){var m=$c.multiselect;var cn=$c.cssOnly?$c.$1S("_selected"):$c.$1S("selected");var c=m.$37($s);if(c&&c.className&&c.className.indexOf(cn)!==-1){c.className=c.className.replace(cn,"");};if($1r){return;};var i=DayPilot.indexOf(m.divs,$s);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $c.multiselect.$33(ev,$c.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($c.multiselect.list,ev);};this.multiselect.$33=function(e,$1p){if(!$1p){return false;};for(var i=0;i<$1p.length;i++){var ei=$1p[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.events.find=function(id){var $1s=$c.events.list.length;for(var i=0;i<$1s;i++){if($c.events.list[i].id===id){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.findRecurrent=function($1t,$1u){var $1s=$c.events.list.length;for(var i=0;i<$1s;i++){if($c.events.list[i].recurrentMasterId===$1t&&$c.events.list[i].start.getTime()===$1u.getTime()){return new DayPilot.Event($c.events.list[i],$c);}};return null;};this.events.update=function(e,$i){var $1a={};$1a.oldEvent=new DayPilot.Event(e.copy(),$c);$1a.newEvent=new DayPilot.Event(e.temp(),$c);var $13=new DayPilot.Action($c,"EventUpdate",$1a,$i);e.commit();$c.update();return $13;};this.events.remove=function(e,$i){var $1a={};$1a.e=new DayPilot.Event(e.data,$c);var $13=new DayPilot.Action($c,"EventRemove",$1a,$i);var $0v=DayPilot.indexOf($c.events.list,e.data);$c.events.list.splice($0v,1);$c.update();return $13;};this.events.add=function(e,$i){e.calendar=$c;if(!$c.events.list){$c.events.list=[];};$c.events.list.push(e.data);var $1a={};$1a.e=e;var $13=new DayPilot.Action($c,"EventAdd",$1a,$i);$c.update();return $13;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($13){if(!$13){return;};if($13.isAction){$c.queue.list.push($13);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($i){var $1a={};$1a.actions=$c.queue.list;$c.$2K('Notify',$1a,$i,"Notify");$c.queue.list=[];};this.queue.clear=function(){$c.queue.list=[];};this.queue.pop=function(){return $c.queue.list.pop();};this.$1Q=function($1v){if($1v){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$2Y();var $1w=this.autoRefreshInterval;if(!$1w||$1w<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$c.$39();},this.autoRefreshInterval*1000);};this.$2Y=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$39=function(){if(!DayPilotMonth.eventResizing&&!DayPilotMonth.eventMoving&&!DayPilotMonth.timeRangeSelecting){this.autoRefreshCount++;this.commandCallBack(this.autoRefreshCommand);};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$c.$39();},this.autoRefreshInterval*1000);}};this.$3a=function($1x,$1y){if(!this.debuggingEnabled){return;};if(!$c.debugMessages){$c.debugMessages=[];};$c.debugMessages.push($1x);if(typeof console!=='undefined'){console.log($1x);}};this.update=function(){if(!this.cells){return;};var $1z=true;$c.$1I();$c.$1J();$c.$1K();if($1z){$c.$1L();$c.$1M();};$c.$1N();$c.$1O();$c.$1P();};this.dispose=function(){var c=$c;if(!c.nav.top){return;};c.$2Y();c.$1I();c.nav.top.removeAttribute("style");c.nav.top.removeAttribute("class");c.nav.top.innerHTML='';c.nav.top.dp=null;c.nav.top=null;DayPilotMonth.unregister(c);};this.$3b=function(){if(!DayPilotMonth.globalHandlers){DayPilotMonth.globalHandlers=true;DayPilot.re(document,'mouseup',DayPilotMonth.gMouseUp);}};this.$1O=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.show=function(){$c.nav.top.style.display='';};this.hide=function(){$c.nav.top.style.display='none';};this.$3c=function(){this.$1J();this.$2u();this.$1M();this.$3b();this.$1Q();this.$2K('Init');DayPilotMonth.register(this);};this.init=function(){this.nav.top=document.getElementById($b);if(this.nav.top.dp){return;};var $1A=$L.loadFromServer();if($1A){this.$3c();return;};this.$1J();this.$1K();this.$2u();this.$1M();this.$1O();this.$1P();this.$3b();if(this.messageHTML){this.message(this.messageHTML);};this.$1H(null,false);this.$1Q();DayPilotMonth.register(this);};this.internal={};this.internal.invokeEvent=this.$2N;this.internal.eventMenuClick=this.$2T;this.internal.timeRangeMenuClick=this.$2X;this.internal.bubbleCallBack=this.$2O;this.internal.findEventDiv=this.$2Z;this.Init=this.init;};DayPilotMonth.register=function($c){if(!DayPilotMonth.registered){DayPilotMonth.registered=[];};for(var i=0;i<DayPilotMonth.registered.length;i++){if(DayPilotMonth.registered[i]===$c){return;}};DayPilotMonth.registered.push($c);};DayPilotMonth.unregister=function($c){var a=DayPilotMonth.registered;if(a){var i=DayPilot.indexOf(a,$c);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mouseup',DayPilotMonth.gMouseUp);DayPilotMonth.globalHandlers=false;}};DayPilotMonth.gMouseUp=function(ev){if(DayPilotMonth.movingEvent){var $07=DayPilotMonth.movingEvent;if(!$07.event||!$07.event.calendar||!$07.event.calendar.shadow||!$07.event.calendar.shadow.start){return;};var $c=DayPilotMonth.movingEvent.event.calendar;var e=DayPilotMonth.movingEvent.event;var $08=$c.shadow.start;var $09=$c.shadow.position;var $B=DayPilotMonth.movingEvent.offset;$c.$27();DayPilotMonth.movingEvent=null;var ev=ev||window.event;$c.$2o(e,$08.x,$08.y,$B,ev,$09);ev.cancelBubble=true;if(ev.stopPropagation){ev.stopPropagation();};DayPilotMonth.movingEvent=null;return false;}else if(DayPilotMonth.resizingEvent){var $07=DayPilotMonth.resizingEvent;if(!$07.event||!$07.event.calendar||!$07.event.calendar.shadow||!$07.event.calendar.shadow.start){return;};var $c=DayPilotMonth.resizingEvent.event.calendar;var e=DayPilotMonth.resizingEvent.event;var $08=$c.shadow.start;var $A=$c.shadow.width;$c.$27();DayPilotMonth.resizingEvent=null;$c.$2V(e,$08,$A);ev.cancelBubble=true;DayPilotMonth.resizingEvent=null;return false;}else if(DayPilotMonth.timeRangeSelecting){if(DayPilotMonth.timeRangeSelecting.moved){var $0a=DayPilotMonth.timeRangeSelecting;var $c=$0a.root;var $08=new DayPilot.Date($c.$28($0a.from.x,$0a.from.y));var end=$08.addDays($0a.width);$c.$2p($08,end);};DayPilotMonth.timeRangeSelecting=null;}};DayPilot.MonthVisible.Month=DayPilotMonth.Month;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotMonth=function($1B){var $1C=null;var j=this.each(function(){if(this.daypilot){return;};var $1D=new DayPilot.Month(this.id);this.daypilot=$1D;for(var name in $1B){$1D[name]=$1B[name];};$1D.Init();if(!$1C){$1C=$1D;}});if(this.length===1){return $1C;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotNavigator==='undefined'){var DayPilotNavigator=DayPilot.NavigatorVisible={};};(function(){if(typeof DayPilot.Navigator!=='undefined'){return;};DayPilotNavigator={};DayPilot.Navigator=function(id){this.v='308';var $a=this;this.id=id;this.api=2;this.weekStarts='Auto';this.selectMode='day';this.titleHeight=20;this.dayHeaderHeight=20;this.cellWidth=20;this.cellHeight=20;this.cssOnly=true;this.selectionStart=new DayPilot.Date().getDatePart();this.selectionEnd=null;this.selectionDay=null;this.showMonths=1;this.skipMonths=1;this.command="navigate";this.year=new DayPilot.Date().getYear();this.month=new DayPilot.Date().getMonth()+1;this.showWeekNumbers=false;this.weekNumberAlgorithm='Auto';this.rowsPerMonth='Six';this.orientation="Vertical";this.locale="en-us";this.timeRangeSelectedHandling="Enabled";this.visibleRangeChangedHandling="Enabled";this.$05=function(){this.root.dp=this;if(this.cssOnly){this.root.className=this.$06('_main');}else{this.root.className=this.$06('main');};if(this.orientation==="Horizontal"){this.root.style.width=this.showMonths*(this.cellWidth*7+this.$07())+'px';}else{this.root.style.width=(this.cellWidth*7+this.$07())+'px';};var $b=document.createElement("input");$b.type='hidden';$b.name=$a.id+"_state";$b.id=$b.name;this.root.appendChild($b);this.state=$b;if(!this.startDate){this.startDate=new DayPilot.Date(DayPilot.Date.firstDayOfMonth(this.year,this.month));}else{this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth();};this.calendars=[];this.selected=[];this.months=[];};this.$08=function(){return $a.api===2;};this.$09=function(){this.root.innerHTML='';};this.$06=function($c){if(this.cssClassPrefix){return this.cssClassPrefix+$c;}else{return "";}};this.$0a=function($d,name){var $e=this.cssOnly?this.$06("_"+name):this.$06(name);DayPilot.Util.addClass($d,$e);};this.$0b=function($d,name){var $e=this.cssOnly?this.$06("_"+name):this.$06(name);DayPilot.Util.removeClass($d,$e);};this.$0c=function($f,$g){var $h={};$h.cells=[];$h.days=[];$h.weeks=[];var $i=$g.before;var $j=$g.after;var $k=$f.firstDayOfMonth();var $l=$k.firstDayOfWeek($m.weekStarts());var $n=$k.addMonths(1);var $o=DayPilot.Date.daysDiff($l.d,$n.d);var $p=(this.rowsPerMonth==="Auto")?Math.ceil($o/7):6;var $q=(new DayPilot.Date()).getDatePart();var $r=document.createElement("div");$r.style.width=(this.cellWidth*7+this.$07())+'px';$r.style.height=(this.cellHeight*$p+this.titleHeight+this.dayHeaderHeight)+'px';if(this.orientation==="Horizontal"){$r.style.float="left";};if(this.cssOnly){$r.className=this.$06('_month');}else{$r.className=this.$06('month');};$r.style.position='relative';$r.style.cursor='default';$r.style.MozUserSelect='none';$r.style.KhtmlUserSelect='none';$r.style.WebkitUserSelect='none';$r.month=$h;this.root.appendChild($r);var $s=this.titleHeight+this.dayHeaderHeight;var tl=document.createElement("div");tl.style.position='absolute';tl.style.left='0px';tl.style.top='0px';tl.style.width=this.cellWidth+'px';tl.style.height=this.titleHeight+'px';tl.style.lineHeight=this.titleHeight+'px';tl.style.textAlign='left';tl.setAttribute("unselectable","on");if(this.cssOnly){tl.className=this.$06('_titleleft');}else{tl.className=this.$06('titleleft');};if($g.left){tl.style.cursor='pointer';tl.innerHTML="<span style='margin-left:2px;'>&lt;</span>";tl.onclick=this.$0d;};$r.appendChild(tl);this.tl=tl;var ti=document.createElement("div");ti.style.position='absolute';ti.style.left=this.cellWidth+'px';ti.style.top='0px';ti.style.width=(this.cellWidth*5+this.$07())+'px';ti.style.height=this.titleHeight+'px';ti.style.lineHeight=this.titleHeight+'px';ti.style.textAlign='center';ti.setAttribute("unselectable","on");if(this.cssOnly){ti.className=this.$06('_title');}else{ti.className=this.$06('title');};ti.innerHTML=$m.locale().monthNames[$f.getMonth()]+' '+$f.getYear();$r.appendChild(ti);this.ti=ti;var tr=document.createElement("div");tr.style.position='absolute';tr.style.left=(this.cellWidth*6+this.$07())+'px';tr.style.top='0px';tr.style.width=this.cellWidth+'px';tr.style.height=this.titleHeight+'px';tr.style.lineHeight=this.titleHeight+'px';tr.style.textAlign='right';tr.setAttribute("unselectable","on");if(this.cssOnly){tr.className=this.$06('_titleright');}else{tr.className=this.$06('titleright');};if($g.right){tr.style.cursor='pointer';tr.innerHTML="<span style='margin-right:2px;'>&gt;</span>";tr.onclick=this.$0e;};$r.appendChild(tr);this.tr=tr;var $t=this.$07();if(this.showWeekNumbers){for(var y=0;y<$p;y++){var $u=$l.addDays(y*7);var $v=null;switch(this.weekNumberAlgorithm){case "Auto":$v=($m.weekStarts()===0)?$u.weekNumber():$u.weekNumberISO();break;case "US":$v=$u.weekNumber();break;case "ISO8601":$v=$u.weekNumberISO();break;default:throw "Unknown weekNumberAlgorithm value.";};var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(0)+'px';dh.style.top=(y*this.cellHeight+$s)+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.cellHeight+'px';dh.style.lineHeight=this.cellHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$06('_weeknumber');}else{dh.className=this.$06('weeknumber');};dh.innerHTML="<span style='margin-right: 2px'>"+$v+"</span>";$r.appendChild(dh);$h.weeks.push(dh);}};for(var x=0;x<7;x++){$h.cells[x]=[];var dh=document.createElement("div");dh.style.position='absolute';dh.style.left=(x*this.cellWidth+$t)+'px';dh.style.top=this.titleHeight+'px';dh.style.width=this.cellWidth+'px';dh.style.height=this.dayHeaderHeight+'px';dh.style.lineHeight=this.dayHeaderHeight+'px';dh.style.textAlign='right';dh.setAttribute("unselectable","on");if(this.cssOnly){dh.className=this.$06('_dayheader');}else{dh.className=this.$06('dayheader');};dh.innerHTML="<span style='margin-right: 2px'>"+this.$0f(x)+"</span>";$r.appendChild(dh);$h.days.push(dh);for(var y=0;y<$p;y++){var $u=$l.addDays(y*7+x);var $w=this.$0g($u)&&this.selectMode!=='none';var $x=$u.getMonth()===$f.getMonth();var $y=$u.getTime()<$f.getTime();var $z=$u.getTime()>$f.getTime();var $A;var dc=document.createElement("div");dc.day=$u;dc.x=x;dc.y=y;dc.isCurrentMonth=$x;if(this.cssOnly){dc.className=this.$06(($x?'_day':'_dayother'));}else{dc.className=this.$06(($x?'day':'dayother'));};if($u.getTime()===$q.getTime()&&$x){this.$0a(dc,'today');};if($u.dayOfWeek()===0||$u.dayOfWeek()===6){this.$0a(dc,'weekend');};dc.style.position='absolute';dc.style.left=(x*this.cellWidth+$t)+'px';dc.style.top=(y*this.cellHeight+$s)+'px';dc.style.width=this.cellWidth+'px';dc.style.height=this.cellHeight+'px';dc.style.lineHeight=this.cellHeight+'px';dc.style.textAlign='right';var $B=document.createElement("div");$B.style.position='absolute';if(this.cssOnly){$B.className=($u.getTime()===$q.getTime()&&$x)?this.$06('_todaybox'):this.$06('_daybox');}else{$B.className=($u.getTime()===$q.getTime()&&$x)?this.$06('todaybox'):this.$06('daybox');};$B.style.left='0px';$B.style.top='0px';$B.style.width=(this.cellWidth-2)+'px';$B.style.height=(this.cellHeight-2)+'px';dc.appendChild($B);var $C=null;if(this.cells&&this.cells[$u.toStringSortable()]){$C=this.cells[$u.toStringSortable()];if($C.css){this.$0a(dc,$C.css);}};var $D=null;if($x||($i&&$y)||($j&&$z)){$D=document.createElement("span");$D.innerHTML=$u.getDay();dc.style.cursor='pointer';dc.isClickable=true;if($w){this.$0a(dc,'select');};if($C&&$C.html){$D.innerHTML=$C.html;};$D.style.marginRight='2px';dc.appendChild($D);};dc.setAttribute("unselectable","on");dc.onclick=this.$0h;dc.onmousedown=this.$0i;dc.onmousemove=this.$0j;if($w){this.selected.push(dc);};$r.appendChild(dc);$h.cells[x][y]=dc;}};var $E=document.createElement("div");$E.style.position='absolute';$E.style.left='0px';$E.style.top=($s-2)+'px';$E.style.width=(this.cellWidth*7+this.$07())+'px';$E.style.height='1px';$E.style.fontSize='1px';$E.style.lineHeight='1px';if(this.cssOnly){$E.className=this.$06("_line");}else{$E.className=this.$06("line");};$r.appendChild($E);this.months.push($h);};this.$07=function(){if(this.showWeekNumbers){return this.cellWidth;};return 0;};this.$0k=function(){if(!this.items){return;};for(var j=0;j<this.showMonths;j++){for(var x=0;x<7;x++){for(var y=0;y<6;y++){var $C=this.months[j].cells[x][y];if(!$C){continue;};if(this.items[$C.day.toStringSortable()]===1){this.$0a($C,'busy');}else{this.$0b($C,'busy');}}}}};this.$0l=function(){var s={};s.startDate=$a.startDate;s.selectionStart=$a.selectionStart;s.selectionEnd=$a.selectionEnd.addDays(1);$a.state.value=DayPilot.JSON.stringify(s);};this.$0m=function(){switch(this.selectMode){case 'day':this.selectionEnd=this.selectionStart;break;case 'week':this.selectionStart=this.selectionStart.firstDayOfWeek($m.weekStarts());this.selectionEnd=this.selectionStart.addDays(6);break;case 'month':this.selectionStart=this.selectionStart.firstDayOfMonth();this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case 'none':this.selectionEnd=this.selectionStart;break;default:throw "Unkown selectMode value.";}};this.select=function($F){var $G=true;var $H=this.selectionStart;var $I=this.selectionEnd;this.selectionStart=new DayPilot.Date($F).getDatePart();this.selectionDay=this.selectionStart;var $J=false;if($G){var $K=this.startDate;if(this.selectionStart.getTime()<this.visibleStart().getTime()||this.selectionStart.getTime()>this.visibleEnd().getTime()){$K=this.selectionStart.firstDayOfMonth();};if($K.toStringSortable()!==this.startDate.toStringSortable()){$J=true;};this.startDate=$K;};this.$0m();this.$09();this.$05();this.$0n();this.$0k();this.$0l();if(!$H.equals(this.selectionStart)||!$I.equals(this.selectionEnd)){this.$0o();};if($J){this.$0p();}};this.update=function(){this.$09();this.$05();this.$0n();this.$0k();this.$0l();};this.$0q=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.$0r();var $P="JSON"+DayPilot.JSON.stringify($O);var $Q=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$0s,$P,this.$0t);}else{WebForm_DoCallback(this.uniqueID,$P,this.$0u,$Q,this.callbackError,true);}};this.$0t=function($R){if(typeof $a.onAjaxError==='function'){var $S={};$S.request=$R;$a.onAjaxError($S);}else if(typeof $a.ajaxError==='function'){$a.ajaxError($R);}};this.$0s=function($T){$a.$0u($T.responseText);};this.$0v=function($L,$M,$N){var $O={};$O.action=$L;$O.parameters=$N;$O.data=$M;$O.header=this.$0r();var $P="JSON"+DayPilot.JSON.stringify($O);__doPostBack($a.uniqueID,$P);};this.$0r=function(){var h={};h.v=this.v;h.startDate=this.startDate;h.selectionStart=this.selectionStart;return h;};this.$0w=function($L,$M){if($L==='refresh'){this.$0p();}};this.$0f=function(i){var x=i+$m.weekStarts();if(x>6){x-=7;};return $m.locale().dayNamesShort[x];};this.$0g=function($F){if(this.selectionStart===null||this.selectionEnd===null){return false;};if(this.selectionStart.getTime()<=$F.getTime()&&$F.getTime()<=this.selectionEnd.getTime()){return true;};return false;};this.$0i=function(ev){};this.$0j=function(ev){};this.$0h=function(ev){var $h=this.parentNode.month;var x=this.x;var y=this.y;var $u=$h.cells[x][y].day;if(!$h.cells[x][y].isClickable){return;};$a.clearSelection();$a.selectionDay=$u;var $u=$a.selectionDay;switch($a.selectMode){case 'none':$a.selectionStart=$u;$a.selectionEnd=$u;break;case 'day':var s=$h.cells[x][y];$a.$0a(s,'select');$a.selected.push(s);$a.selectionStart=s.day;$a.selectionEnd=s.day;break;case 'week':for(var j=0;j<7;j++){$a.$0a($h.cells[j][y],'select');$a.selected.push($h.cells[j][y]);};$a.selectionStart=$h.cells[0][y].day;$a.selectionEnd=$h.cells[6][y].day;break;case 'month':var $U=null;var end=null;for(var y=0;y<6;y++){for(var x=0;x<7;x++){var s=$h.cells[x][y];if(!s){continue;};if(s.day.getYear()===$u.getYear()&&s.day.getMonth()===$u.getMonth()){$a.$0a(s,'select');$a.selected.push(s);if($U===null){$U=s.day;};end=s.day;}}};$a.selectionStart=$U;$a.selectionEnd=end;break;default:throw 'unknown selectMode';};$a.$0l();$a.$0o();};this.$0o=function(){var $U=$a.selectionStart;var end=$a.selectionEnd.addDays(1);var $o=DayPilot.Date.daysDiff($U.d,end.d);var $u=$a.selectionDay;if($a.$08()){var $S={};$S.start=$U;$S.end=end;$S.day=$u;$S.days=$o;$S.preventDefault=function(){this.preventDefault.value=true;};if(typeof $a.onTimeRangeSelect==='function'){$a.onTimeRangeSelect($S);if($S.preventDefault.value){return;}};switch($a.timeRangeSelectedHandling){case 'Bind':var $V=eval($a.bound);if($V){var $W={};$W.start=$U;$W.end=end;$W.days=$o;$W.day=$u;$V.commandCallBack($a.command,$W);};break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($U,end,$u);break;};if(typeof $a.onTimeRangeSelected==='function'){$a.onTimeRangeSelected($S);}}else{switch($a.timeRangeSelectedHandling){case 'Bind':var $V=eval($a.bound);if($V){var $W={};$W.start=$U;$W.end=end;$W.days=$o;$W.day=$u;$V.commandCallBack($a.command,$W);};break;case 'JavaScript':$a.onTimeRangeSelected($U,end,$u);break;case 'None':break;case 'PostBack':$a.timeRangeSelectedPostBack($U,end,$u);break;}}};this.timeRangeSelectedPostBack=function($U,end,$M,$u){var $X={};$X.start=$U;$X.end=end;$X.day=$u;this.$0v('TimeRangeSelected',$M,$X);};this.$0e=function(ev){$a.$0x($a.skipMonths);};this.$0d=function(ev){$a.$0x(-$a.skipMonths);};this.$0x=function(i){this.startDate=this.startDate.addMonths(i);this.$09();this.$05();this.$0n();this.$0l();this.$0p();};this.visibleStart=function(){return $a.startDate.firstDayOfMonth().firstDayOfWeek($m.weekStarts());};this.visibleEnd=function(){return $a.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek($m.weekStarts()).addDays(42);};this.$0p=function(){var $U=this.visibleStart();var end=this.visibleEnd();if($a.$08()){var $S={};$S.start=$U;$S.end=end;$S.preventDefault=function(){this.preventDefault.value=true;};if(typeof $a.onVisibleRangeChange==='function'){$a.onVisibleRangeChange($S);if($S.preventDefault.value){return;}};switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "Disabled":break;};if(typeof $a.onVisibleRangeChanged==='function'){$a.onVisibleRangeChanged($S);}}else{switch(this.visibleRangeChangedHandling){case "CallBack":this.visibleRangeChangedCallBack(null);break;case "PostBack":this.visibleRangeChangedPostBack(null);break;case "JavaScript":this.onVisibleRangeChanged($U,end);break;case "Disabled":break;}}};this.visibleRangeChangedCallBack=function($M){var $N={};this.$0q("Visible",$M,$N);};this.visibleRangeChangedPostBack=function($M){var $N={};this.$0v("Visible",$M,$N);};this.$0u=function($Y,$Q){var $Y=eval("("+$Y+")");$a.items=$Y.Items;$a.cells=$Y.Cells;$a.$0k();};this.$0n=function(){for(var j=0;j<this.showMonths;j++){var $g=this.$0y(j);this.$0c(this.startDate.addMonths(j),$g);};var $Z=document.createElement("div");$Z.style.clear="left";this.root.appendChild($Z);};this.$0y=function(j){if(this.internal.showLinks){return this.internal.showLinks;};var $g={};$g.left=(j===0);$g.right=(j===0);$g.before=j===0;$g.after=j===this.showMonths-1;if(this.orientation==="Horizontal"){$g.right=(j===this.showMonths-1);};return $g;};this.internal={};this.$0z={};var $m=this.$0z;$m.locale=function(){return DayPilot.Locale.find($a.locale);};$m.weekStarts=function(){if($a.weekStarts==='Auto'){var $00=$m.locale();if($00){return $00.weekStarts;}else{return 0;}}else{return $a.weekStarts;}};this.clearSelection=function(){for(var j=0;j<this.selected.length;j++){this.$0b(this.selected[j],'select');};this.selected=[];};this.$0A=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $a.items==='undefined')||(!$a.items);}else{return false;}};this.init=function(){this.root=document.getElementById(id);if(this.root.dp){return;};this.$0m();this.$05();this.$0n();this.$0k();this.$0B();var $01=this.$0A();if($01){this.$0p();}};this.dispose=function(){var c=$a;if(!c.root){return;};c.root.removeAttribute("style");c.root.removeAttribute("class");c.root.dp=null;c.root.innerHTML=null;c.root=null;};this.$0B=function(){var $02=document.getElementById(id);$02.dispose=this.dispose;};this.Init=this.init;};DayPilot.NavigatorVisible.Navigator=DayPilotNavigator.Navigator;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotNavigator=function($03){var $l=null;var j=this.each(function(){if(this.daypilot){return;};var $04=new DayPilot.Navigator(this.id);this.daypilot=$04;for(var name in $03){$04[name]=$03[name];};$04.Init();if(!$l){$l=$04;}});if(this.length===1){return $l;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();


if(typeof DayPilot==='undefined'){var DayPilot={};};if(typeof DayPilotScheduler==='undefined'){var DayPilotScheduler=DayPilot.SchedulerVisible={};};if(typeof DayPilot.Global==='undefined'){DayPilot.Global={};};(function(){if(typeof DayPilot.Scheduler!=='undefined'){return;};var DayPilotScheduler={};var $a=function(){};DayPilot.Scheduler=function(id){this.v='308';var $b=this;this.id=id;this.isScheduler=true;this.hideUntilInit=true;this.api=2;this.allowMultiSelect=true;this.autoRefreshCommand='refresh';this.autoRefreshEnabled=false;this.autoRefreshInterval=60;this.autoRefreshMaxCount=20;this.autoScroll="Drag";this.borderColor="#000000";this.businessBeginsHour=9;this.businessEndsHour=18;this.cellBackColor="#FFFFD5";this.cellBackColorNonBusiness="#FFF4BC";this.cellBorderColor="#EAD098";this.cellDuration=60;this.cellGroupBy='Day';this.cellSelectColor="#316AC5";this.cellWidth=20;this.clientSide=true;this.crosshairColor='Gray';this.crosshairOpacity=20;this.crosshairType='Header';this.debuggingEnabled=false;this.dragOutAllowed=false;this.durationBarColor='blue';this.durationBarHeight=3;this.durationBarVisible=true;this.durationBarMode="Duration";this.durationBarDetached=false;this.days=1;this.dynamicEventRendering='Progressive';this.dynamicEventRenderingMargin=50;this.dynamicLoading=false;this.eventBorderColor="#000000";this.eventBorderVisible=true;this.eventBackColor="#FFFFFF";this.eventFontFamily="Tahoma, Arial";this.eventFontSize='8pt';this.eventFontColor='#000000';this.eventHeight=20;this.eventMoveMargin=5;this.eventMoveToPosition=false;this.eventResizeMargin=5;this.headerFontColor="#000000";this.headerFontFamily="Tahoma, Arial";this.headerFontSize='8pt';this.headerHeight=20;this.heightSpec='Auto';this.hourFontFamily="Tahoma, Arial";this.hourFontSize='10pt';this.hourNameBackColor="#ECE9D8";this.hourNameBorderColor="#ACA899";this.layout='Auto';this.locale="en-us";this.loadingLabelText="Loading...";this.loadingLabelVisible=true;this.loadingLabelBackColor="orange";this.loadingLabelFontColor="#ffffff";this.loadingLabelFontFamily="Tahoma";this.loadingLabelFontSize="10pt";this.messageHideAfter=5000;this.moveBy='Top';this.notifyCommit='Immediate';this.numberFormat="0.00";this.treePreventParentUsage=true;this.rowHeaderWidth=80;this.rowHeaderCols=null;this.rowMarginBottom=0;this.rowMinHeight=0;this.scrollX=0;this.scrollY=0;this.shadow="Fill";this.showBaseTimeHeader=true;this.showNonBusiness=true;this.showToolTip=true;this.snapToGrid=true;this.startDate=new DayPilot.Date().getDatePart();this.syncResourceTree=true;this.timeBreakColor='#000000';this.treeEnabled=false;this.treeIndent=20;this.treeImageMarginLeft=2;this.treeImageMarginTop=2;this.timeFormat="Auto";this.useEventBoxes='Always';this.viewType='Resources';this.weekStarts='Auto';this.width=null;this.eventCorners='Regular';;this.separators=[];this.afterRender=function(){};this.cornerHTML='';this.crosshairLastY=-1;this.crosshairLastX=-1;this.eventClickHandling='Enabled';this.eventHoverHandling='Bubble';this.eventDoubleClickHandling='Enabled';this.eventEditHandling='Update';this.eventMoveHandling='Update';this.eventResizeHandling='Update';this.eventRightClickHandling='ContextMenu';this.eventSelectHandling='Update';this.resourceHeaderClickHandling='Enabled';this.timeRangeDoubleClickHandling='Enabled';this.timeRangeSelectedHandling='Enabled';this.cssOnly=true;this.backendUrl=null;if($b.api===1){this.onEventMove=function(){};this.onEventResize=function(){};this.onResourceExpand=function(){};this.onResourceCollapse=function(){};};this.debugMessages=[];this.autoRefreshCount=0;this.innerHeightTree=0;this.rows=[];this.timeline=[];this.groupline=[];this.events={};this.elements={};this.elements.events=[];this.elements.bars=[];this.elements.cells=[];this.elements.linesVertical=[];this.elements.separators=[];this.elements.range=[];this.elements.breaks=[];this.cache={};this.cache.cells=[];this.cache.linesVertical=[];this.cache.timeHeaderGroups=[];this.cache.pixels=[];this.cache.breaks=[];this.cache.events=[];this.clientState={};this.nav={};this.$4k=function($c,$d){var $c=eval("("+$c+")");if($c.BubbleGuid){var $e=$c.BubbleGuid;var $f=this.bubbles[$e];delete this.bubbles[$e];$b.$4l();if(typeof $c.Result.BubbleHTML!=='undefined'){$f.updateView($c.Result.BubbleHTML,$f);};return;};if($c.CallBackRedirect){document.location.href=$c.CallBackRedirect;return;};if(typeof DayPilot.Bubble!=="undefined"){DayPilot.Bubble.hideActive();};if(typeof $c.ClientState!=='undefined'){$b.clientState=$c.ClientState;};if($c.UpdateType==="None"){$b.$4l();$b.$4m($c.CallBackData,true);if($c.Message){$b.message($c.Message);};return;};if($c.VsUpdate){var $g=document.createElement("input");$g.type='hidden';$g.name=$b.id+"_vsupdate";$g.id=$g.name;$g.value=$c.VsUpdate;$b.vsph.innerHTML='';$b.vsph.appendChild($g);};if(typeof $c.TagFields!=='undefined'){$b.tagFields=$c.TagFields;};if(typeof $c.SortDirections!=='undefined'){$b.sortDirections=$c.SortDirections;};if($c.UpdateType==="Full"){$b.resources=$c.Resources;$b.colors=$c.Colors;$b.palette=$c.Palette;$b.dirtyColors=$c.DirtyColors;$b.cellProperties=$c.CellProperties;$b.cellConfig=$c.CellConfig;$b.separators=$c.Separators;$b.timeHeader=$c.TimeHeader;$b.timeHeaders=$c.TimeHeaders;if(typeof $c.RowHeaderColumns!=='undefined')$b.rowHeaderColumns=$c.RowHeaderColumns;$b.startDate=$c.StartDate?new DayPilot.Date($c.StartDate):$b.startDate;$b.days=$c.Days?$c.Days:$b.days;$b.cellDuration=$c.CellDuration?$c.CellDuration:$b.cellDuration;$b.cellGroupBy=$c.CellGroupBy?$c.CellGroupBy:$b.cellGroupBy;$b.cellWidth=$c.CellWidth?$c.CellWidth:$b.cellWidth;$b.viewType=$c.ViewType?$c.ViewType:$b.viewType;$b.hourNameBackColor=$c.HourNameBackColor?$c.HourNameBackColor:$b.hourNameBackColor;$b.showNonBusiness=$c.ShowNonBusiness?$c.ShowNonBusiness:$b.showNonBusiness;$b.businessBeginsHour=$c.BusinessBeginsHour?$c.BusinessBeginsHour:$b.businessBeginsHour;$b.businessEndsHour=$c.BusinessEndsHour?$c.BusinessEndsHour:$b.businessEndsHour;if(typeof $c.DynamicLoading!=='undefined')$b.dynamicLoading=$c.DynamicLoading;if(typeof $c.TreeEnabled!=='undefined')$b.treeEnabled=$c.TreeEnabled;$b.backColor=$c.BackColor?$c.BackColor:$b.backColor;$b.nonBusinessBackColor=$c.NonBusinessBackColor?$c.NonBusinessBackColor:$b.nonBusinessBackColor;$b.locale=$c.Locale?$c.Locale:$b.locale;if(typeof $c.TimeZone!=='undefined')$b.timeZone=$c.TimeZone;$b.timeFormat=$c.TimeFormat?$c.TimeFormat:$b.timeFormat;$b.rowHeaderCols=$c.RowHeaderCols?$c.RowHeaderCols:$b.rowHeaderCols;if(typeof $c.DurationBarMode!=="undefined")$b.durationBarMode=$c.DurationBarMode;if(typeof $c.ShowBaseTimeHeader!=="undefined")$b.showBaseTimeHeader=$c.ShowBaseTimeHeader;$b.cornerBackColor=$c.CornerBackColor?$c.CornerBackColor:$b.cornerBackColor;$b.cornerHTML=$c.CornerHTML?$c.CornerHTML:$b.cornerHTML;$b.hashes=$c.Hashes;$b.$4n();$b.$4o();$b.$4p();$b.$4q();$b.$4r();};var $h=$b.$4s($c.Events,$c.Action==="Scroll");if($c.UpdateType==='Full'){$b.$4t();$b.$4u();};$b.$4v();$b.$4w();if($c.Action!=="Scroll"){$b.$4x();$b.$4y();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4z();};$b.$4A();$b.$4B();$b.$4C();$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4D();$b.$4E();$b.$4F();}else{$b.multiselect.clear(true);$b.multiselect.initList=$c.SelectedEvents;$b.$4G($h,true);$b.$4D();};if($b.timeRangeSelectedHandling!=="HoldForever"){$b.$4H();};if($c.UpdateType==="Full"){$b.setScroll($c.ScrollX,$c.ScrollY);$b.$4I();};if($b.todo){if($b.todo.del){var $i=$b.todo.del;$i.parentNode.removeChild($i);$b.todo.del=null;}};$b.$4m($c.CallBackData,true);$b.$4l();if($c.UpdateType==='Full'&&navigator.appVersion.indexOf("MSIE 7.")!==-1){window.setTimeout(function(){$b.$4t();$b.$4z();},0);};$b.$4J();if($c.Message){if($b.message){$b.message($c.Message);}}};this.$4m=function($j,$k){var $l=function($j,$m){return function(){if($b.$4K()){if(typeof $b.onAfterRender==='function'){var $n={};$n.isCallBack=$m;$n.data=$j;$b.onAfterRender($n);}}else{if($b.afterRender){$b.afterRender($j,$m);}}};};window.setTimeout($l($j,$k),0);};this.scrollTo=function($o){var $p=this.getPixels(new DayPilot.Date($o)).left;this.setScroll($p,scrollY);};this.scrollToResource=function(id){var $q=this.$4L(id);if(!$q){return;};var x=this.getScrollX();this.setScroll(x,$q.Top);};this.setScrollX=function(scrollX){this.setScroll(scrollX,$b.scrollY);};this.setScrollY=function(scrollY){this.setScroll($b.scrollX,scrollY);};this.setScroll=function(scrollX,scrollY){var scroll=$b.nav.scroll;var $r=$b.innerHeightTree;var $s=$b.$4M()*$b.cellWidth;if(scroll.clientWidth+scrollX>$s){scrollX=$s-scroll.clientWidth;};if(scroll.clientHeight+scrollY>$r){scrollY=$r-scroll.clientHeight;};$b.divTimeScroll.scrollLeft=scrollX;$b.divResScroll.scrollTop=scrollY;scroll.scrollLeft=scrollX;scroll.scrollTop=scrollY;};this.message=function($t,$u,$v,$w){if($t===null){return;};var $u=$u||this.messageHideAfter||2000;var $v=$v||"#ffffff";var $w=$w||"#000000";var $x=0.8;var top=this.$4N()+1;var $y=this.$4O()+1;var $z=DayPilot.sw($b.nav.scroll)+1;var $A;if(!this.nav.message){$A=document.createElement("div");$A.style.position="absolute";$A.style.left=$y+"px";$A.style.top=top+"px";$A.style.right=$z+"px";$A.style.display='none';var $B=document.createElement("div");$B.onclick=function(){$b.nav.message.style.display='none';};if(!this.cssOnly){$B.style.padding="5px";$B.style.opacity=$x;$B.style.filter="alpha(opacity="+($x*100)+")";}else{$B.className=this.$4P("_message");};$A.appendChild($B);var close=document.createElement("div");close.style.position="absolute";if(!this.cssOnly){close.style.top="5px";close.style.right=(DayPilot.sw($b.nav.scroll)+5)+"px";close.style.color=$v;close.style.lineHeight="100%";close.style.cursor="pointer";close.style.fontWeight="bold";close.innerHTML="X";}else{close.className=this.$4P("_message_close");};close.onclick=function(){$b.nav.message.style.display='none';};$A.appendChild(close);this.nav.top.appendChild($A);this.nav.message=$A;};var $C=function(){var $B=$b.nav.message.firstChild;if(!$b.cssOnly){$B.style.backgroundColor=$w;$B.style.color=$v;};$B.innerHTML=$t;var $z=DayPilot.sw($b.nav.scroll)+1;$b.nav.message.style.right=$z+"px";var end=function(){$b.messageTimeout=setTimeout($b.$4Q,$u);};DayPilot.fade($b.nav.message,0.2,end);};if(this.nav.message.style.display!=='none'){clearTimeout($b.messageTimeout);DayPilot.fade($b.nav.message,-0.2,$C);}else{$C();}};this.$4Q=function(){var end=function(){$b.nav.message.style.display='none';};DayPilot.fade($b.nav.message,-0.2,end);};this.message.show=function($t){$b.message($t);};this.message.hide=function(){$b.$4Q();};this.$4z=function(){if(this.nav.scroll){if(this.heightSpec==='Parent100Pct'){this.height=parseInt(this.nav.top.clientHeight,10)-(this.$4N()+2);};var $D=this.$4R();var $E=1;var $F=$D+this.$4N()+$E;if($D>0){this.nav.scroll.style.height=($D)+'px';this.scrollRes.style.height=($D)+'px';};if(this.nav.divider){this.nav.divider.style.height=($F)+"px";};if(this.heightSpec!=="Parent100Pct"){this.nav.top.style.height=($F)+"px";};for(var i=0;i<this.elements.separators.length;i++){this.elements.separators[i].style.height=this.innerHeightTree+'px';};for(var i=0;i<this.elements.linesVertical.length;i++){this.elements.linesVertical[i].style.height=this.innerHeightTree+'px';}}};this.$4n=function(){this.endDate=(this.viewType!=='Days')?this.startDate.addDays(this.days):this.startDate.addDays(1);this.timeline=[];this.cache.pixels=[];if(this.timeHeader){var $G=this.startDate.getTime();var $q=this.timeHeader[this.timeHeader.length-1];for(var i=0;i<$q.length;i++){var h=$q[i];var $H={};$H.start=new DayPilot.Date(h.start);if(h.end){$H.end=new DayPilot.Date(h.end);}else{$H.end=$H.start.addMinutes(this.cellDuration);};$H.breakBefore=$H.start.ticks!==$G;this.timeline.push($H);$G=$H.end.ticks;}}else{this.timeHeader=[];var $I=this.startDate;var end=$I.addMinutes(this.cellDuration);var $J=false;var $K=this.timeHeaders;if(!$K){$K=[{$L:this.cellGroupBy}];};var $M=[];while(end.ticks<=this.endDate.ticks){if(this.$4S($I,end)){var $H={};$H.start=$I;$H.end=end;$H.breakBefore=$J;this.timeline.push($H);var h={};h.start=$I;h.end=end;h.innerHTML=this.$4T($I);if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.tooltip=h.innerHTML;$N.backColor=null;$N.level=$K.length;var $n={};$n.header=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.backColor;h.toolTip=$N.tooltip;};$M.push(h);$J=false;}else{$J=true;};$I=end;end=$I.addMinutes(this.cellDuration);};for(var i=0;i<$K.length;i++){var $L=$K[i].groupBy;var $I=this.startDate;var $O=[];var $I=this.startDate;while($I.ticks<this.endDate.ticks){var h={};h.start=$I;h.end=this.$4U(h.start,$L);h.left=this.getPixels(h.start).left;var $P=this.getPixels(h.end).left-h.left;h.colspan=Math.ceil($P/(1.0*this.cellWidth));h.innerHTML=this.$4V($I,$L);if($P>0){if(typeof this.onBeforeTimeHeaderRender==='function'){var $N={};$N.start=$I;$N.end=end;$N.html=h.innerHTML;$N.toolTip=h.innerHTML;$N.color=null;$N.level=this.timeHeader.length;var $n={};$n.header=$N;this.onBeforeTimeHeaderRender($n);h.innerHTML=$N.html;h.backColor=$N.color;h.toolTip=$N.toolTip;};$O.push(h);};$I=h.end;};this.timeHeader.push($O);};this.timeHeader.push($M);}};this.$4o=function(){this.groupline=[];var $Q=this.endDate;var $N={};var $I=this.startDate;while($I.ticks<$Q.ticks){var $N={};$N.start=$I;$N.end=this.$4U($N.start);$N.left=this.getPixels($N.start).left;$N.width=this.getPixels($N.end).left-$N.left;if($N.width>0){this.groupline.push($N);};$I=$N.end;}};this.$4S=function($I,end){if(typeof this.onIncludeTimeCell==='function'){var $N={};$N.start=$I;$N.end=end;$N.visible=true;var $n={};$n.cell=$N;this.onIncludeTimeCell($n);return $N.visible;};if(this.showNonBusiness){return true;};if($I.d.getUTCDay()===0){return false;};if($I.d.getUTCDay()===6){return false;};if(this.cellDuration<60*24){var $R=$I.d.getUTCHours();$R+=$I.d.getUTCMinutes()/60.0;$R+=$I.d.getUTCSeconds()/3600.0;$R+=$I.d.getUTCMilliseconds()/3600000.0;if($R<this.businessBeginsHour){return false;};if(this.businessEndsHour>=24){return true;};if($R>=this.businessEndsHour){return false;}};return true;};this.getPixels=function($o){var $S=$o.ticks;var $T=this.cache.pixels[$S];if($T){return $T;};var $U=null;var $V=221876841600000;if(this.timeline.length===0||$S<this.timeline[0].start.ticks){var $c={};$c.cut=false;$c.left=0;$c.boxLeft=$c.left;$c.boxRight=$c.left;return $c;};for(var i=0;i<this.timeline.length;i++){var $W=false;var $N=this.timeline[i];var $X=$N.start.ticks;var $Y=$N.end.ticks;if($X<$S&&$S<$Y){var $Z=$S-$X;var $c={};$c.cut=false;$c.left=i*this.cellWidth+this.$4W($Z);$c.boxLeft=i*this.cellWidth;$c.boxRight=(i+1)*this.cellWidth;break;}else if($X===$S){var $c={};$c.cut=false;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($Y===$S){var $c={};$c.cut=false;$c.left=(i+1)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;}else if($S<$X&&$S>$V){var $c={};$c.cut=true;$c.left=i*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;break;};$V=$Y;};if(!$c){var $c={};$c.cut=true;$c.left=(this.timeline.length)*this.cellWidth;$c.boxLeft=$c.left;$c.boxRight=$c.left;};this.cache.pixels[$S]=$c;return $c;};this.getDate=function($y,$00,$01){var x=Math.floor($y/this.cellWidth);var $02=($01&&x>0)?x-1:x;if(this.timeline[$02]===null){return null;};var $I=($01&&x>0)?this.timeline[x-1].end:this.timeline[x].start;if(!$00){return $I;}else{var $Z=$y%this.cellWidth;return $I.addTime(this.$4X($Z));}};this.$4W=function($S){return Math.floor((this.cellWidth*$S)/(1000*60*this.cellDuration));};this.$4X=function($p){return Math.floor($p*(this.cellDuration/this.cellWidth)*60*1000);};this.$4Y=function(ev){if($03.start){return;};$04={};$b.$4Z(this,ev);};this.eventClickPostBack=function(e,$j){this.$50('EventClick',e,$j);};this.eventClickCallBack=function(e,$j){this.$51('EventClick',e,$j);};this.$4Z=function($A,ev){var e=$A.event;var ev=ev||window.event;if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if(!e.client.doubleClickEnabled()){$b.$52($A,ev.ctrlKey);return;};if(!$b.timeouts){$b.timeouts=[];};var $05=function($A,$06){return function(){$b.$52($A,$06);};};$b.timeouts.push(window.setTimeout($05($A,ev.ctrlKey),300));};this.$52=function($A,$06){var e=$A.event;if(!e.client.clickEnabled()){return;};if($b.$4K()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventClick==='function'){$b.onEventClick($n);if($n.preventDefault.value){return;}};switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'Edit':$b.$53($A);break;case 'Select':$b.$54($A,e,$06);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventClicked==='function'){$b.onEventClicked($n);}}else{switch($b.eventClickHandling){case 'PostBack':$b.eventClickPostBack(e);break;case 'CallBack':$b.eventClickCallBack(e);break;case 'JavaScript':$b.onEventClick(e);break;case 'Edit':$b.$53($A);break;case 'Select':$b.$54($A,e,$06);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(e);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.setHScrollPosition=function($p){this.nav.scroll.scrollLeft=$p;};this.getScrollX=function(){return this.nav.scroll.scrollLeft;};this.getHScrollPosition=this.getScrollX;this.getScrollY=function(){return this.nav.scroll.scrollTop;};this.$54=function($A,e,$06){$b.$55($A,e,$06);};this.eventSelectPostBack=function(e,$08,$j){var $09={};$09.e=e;$09.change=$08;this.$50('EventSelect',$09,$j);};this.eventSelectCallBack=function(e,$08,$j){var $09={};$09.e=e;$09.change=$08;this.$51('EventSelect',$09,$j);};this.$55=function($A,e,$06){if($b.$4K()){var m=$b.multiselect;m.previous=m.events();var $n={};$n.e=e;$n.selected=m.isSelected(e);$n.ctrl=$06;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventSelect==='function'){$b.onEventSelect($n);if($n.preventDefault.value){return;}};switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$08);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$08);break;case 'Update':m.$56($A,$06);break;};if(typeof $b.onEventSelected==='function'){$n.change=m.isSelected(e)?"selected":"deselected";$n.selected=m.isSelected(e);$b.onEventSelected($n);}}else{var m=$b.multiselect;m.previous=m.events();m.$56($A,$06);var $08=m.isSelected(e)?"selected":"deselected";switch($b.eventSelectHandling){case 'PostBack':$b.eventSelectPostBack(e,$08);break;case 'CallBack':if(typeof WebForm_InitCallback!=='undefined'){__theFormPostData="";__theFormPostCollection=[];WebForm_InitCallback();};$b.eventSelectCallBack(e,$08);break;case 'JavaScript':$b.onEventSelect(e,$08);break;}}};this.eventRightClickPostBack=function(e,$j){this.$50('EventRightClick',e,$j);};this.eventRightClickCallBack=function(e,$j){this.$51('EventRightClick',e,$j);};this.$57=function(ev){var e=this.event;ev=ev||window.event;ev.cancelBubble=true;if(!this.event.client.rightClickEnabled()){return false;};if($b.$4K()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventRightClick==='function'){$b.onEventRightClick($n);if($n.preventDefault.value){return;}};switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventRightClicked==='function'){$b.onEventRightClicked($n);}}else{switch($b.eventRightClickHandling){case 'PostBack':$b.eventRightClickPostBack(e);break;case 'CallBack':$b.eventRightClickCallBack(e);break;case 'JavaScript':$b.onEventRightClick(e);break;case 'ContextMenu':var $07=e.client.contextMenu();if($07){$07.show(e);}else{if($b.contextMenu){$b.contextMenu.show(this.event);}};break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}};return false;};this.eventDoubleClickPostBack=function(e,$j){this.$50('EventDoubleClick',e,$j);};this.eventDoubleClickCallBack=function(e,$j){this.$51('EventDoubleClick',e,$j);};this.$58=function(ev){if(typeof(DayPilotBubble)!=='undefined'){DayPilotBubble.hideActive();};if($b.timeouts){for(var $0a in $b.timeouts){window.clearTimeout($b.timeouts[$0a]);};$b.timeouts=null;};var ev=ev||window.event;var e=this.event;if($b.$4K()){var $n={};$n.e=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventDoubleClick==='function'){$b.onEventDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'Edit':$b.$53(this);break;case 'Select':$b.$54($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;};if(typeof $b.onEventDoubleClicked==='function'){$b.onEventDoubleClicked($n);}}else{switch($b.eventDoubleClickHandling){case 'PostBack':$b.eventDoubleClickPostBack(e);break;case 'CallBack':$b.eventDoubleClickCallBack(e);break;case 'JavaScript':$b.onEventDoubleClick(e);break;case 'Edit':$b.$53(this);break;case 'Select':$b.$54($A,e,ev.ctrlKey);break;case 'Bubble':if($b.bubble){$b.bubble.showEvent(e);};break;}}};this.eventResizePostBack=function(e,$0b,$0c,$j){this.$59("PostBack",e,$0b,$0c,$j);};this.eventResizeCallBack=function(e,$0b,$0c,$j){this.$59("CallBack",e,$0b,$0c,$j);};this.$59=function($0d,e,$0b,$0c,$j){var $09={};$09.e=e;$09.newStart=$0b;$09.newEnd=$0c;this.$5a($0d,"EventResize",$09,$j);};this.$5b=function(e,$0b,$0c){if(this.eventResizeHandling==='Disabled'){return;};if($b.$4K()){var $n={};$n.e=e;$n.newStart=$0b;$n.newEnd=$0c;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventResize==='function'){$b.onEventResize($n);if($n.preventDefault.value){return;}};switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0b,$0c);break;case 'CallBack':$b.eventResizeCallBack(e,$0b,$0c);break;case 'Notify':$b.eventResizeNotify(e,$0b,$0c);break;case 'Update':e.start($0b);e.end($0c);$b.events.update(e);break;};if(typeof $b.onEventResized==='function'){$b.onEventResized($n);}}else{switch($b.eventResizeHandling){case 'PostBack':$b.eventResizePostBack(e,$0b,$0c);break;case 'CallBack':$b.eventResizeCallBack(e,$0b,$0c);break;case 'JavaScript':$b.onEventResize(e,$0b,$0c);break;case 'Notify':$b.eventResizeNotify(e,$0b,$0c);break;case 'Update':e.start($0b);e.end($0c);$b.events.update(e);break;}}};this.eventMovePostBack=function(e,$0b,$0c,$0e,$j,$O){this.$5c("PostBack",e,$0b,$0c,$0e,$j,$O);};this.eventMoveCallBack=function(e,$0b,$0c,$0e,$j,$O){this.$5c("CallBack",e,$0b,$0c,$0e,$j,$O);};this.$5c=function($0d,e,$0b,$0c,$0e,$j,$O){var $09={};$09.e=e;$09.newStart=$0b;$09.newEnd=$0c;$09.newResource=$0e;$09.position=$O;this.$5a($0d,"EventMove",$09,$j);};this.$5a=function($0d,$0f,$09,$j){if($0d==='PostBack'){$b.$50($0f,$09,$j);}else if($0d==='CallBack'){$b.$51($0f,$09,$j,"CallBack");}else if($0d==='Immediate'){$b.$51($0f,$09,$j,"Notify");}else if($0d==='Queue'){$b.queue.add(new DayPilot.Action(this,$0f,$09,$j));}else if($0d==='Notify'){if($0g.notifyType()==='Notify'){$b.$51($0f,$09,$j,"Notify");}else{$b.queue.add(new DayPilot.Action($b,$0f,$09,$j));}}else{throw "Invalid event invocation type";}};this.eventMoveNotify=function(e,$0b,$0c,$0e,$j,$O){var $0h=new DayPilot.Event(e.copy(),this);var $0i=$b.events.$5d(e.data);e.start($0b);e.end($0c);e.resource($0e);e.commit();$0i=$0i.concat($b.events.$5e(e.data));$b.$5f($0i);$b.$5g();$b.$4G($0i);this.$5c("Notify",$0h,$0b,$0c,$0e,$j,$O);};this.eventResizeNotify=function(e,$0b,$0c,$j){var $0h=new DayPilot.Event(e.copy(),this);var $0i=$b.events.$5d(e.data);e.start($0b);e.end($0c);e.commit();$0i=$0i.concat($b.events.$5e(e.data));$b.$5f($0i);$b.$5g();$b.$4G($0i);this.$59("Notify",$0h,$0b,$0c,$j);};this.multiselect={};this.multiselect.initList=[];this.multiselect.list=[];this.multiselect.divs=[];this.multiselect.previous=[];this.multiselect.$5h=function(){var m=$b.multiselect;return DayPilot.JSON.stringify(m.events());};this.multiselect.events=function(){var m=$b.multiselect;var $0j=[];$0j.ignoreToJSON=true;for(var i=0;i<m.list.length;i++){$0j.push(m.list[i]);};return $0j;};this.multiselect.$5i=function(){};this.multiselect.$56=function($A,$0k){var m=$b.multiselect;if(m.isSelected($A.event)){if($b.allowMultiSelect){if($0k){m.remove($A.event,true);}else{var $0l=m.list.length;m.clear();if($0l>1){m.add($A.event,true);}}}else{m.clear();}}else{if($b.allowMultiSelect){if($0k){m.add($A.event,true);}else{m.clear();m.add($A.event,true);}}else{m.clear();m.add($A.event,true);}};m.$5j($A);m.$5i();};this.multiselect.$5k=function(ev){var m=$b.multiselect;return m.$5l(ev,m.initList);};this.multiselect.$5m=function(){var m=$b.multiselect;var $0m=[];for(var i=0;i<m.list.length;i++){var event=m.list[i];$0m.push(event.value());};alert($0m.join("\n"));};this.multiselect.add=function(ev,$0n){var m=$b.multiselect;if(m.indexOf(ev)===-1){m.list.push(ev);};if($0n){return;};m.redraw();};this.multiselect.remove=function(ev,$0n){var m=$b.multiselect;var i=m.indexOf(ev);if(i!==-1){m.list.splice(i,1);};if($0n){return;};m.redraw();};this.multiselect.clear=function($0n){var m=$b.multiselect;m.list=[];if($0n){return;};m.redraw();};this.multiselect.redraw=function(){var m=$b.multiselect;for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if(m.isSelected($A.event)){m.$5n($A);}else{m.$5o($A);}}};this.multiselect.$5p=function(ev){var m=$b.multiselect;var $A=null;for(var i=0;i<$b.elements.events.length;i++){if(m.isSelected($b.elements.events[i].event)){$A=$b.elements.events[i];break;}};m.$5j($A);};this.multiselect.$5j=function($A){if(!$A){return;};var m=$b.multiselect;if(m.isSelected($A.event)){m.$5n($A);}else{m.$5o($A);}};this.multiselect.$5n=function($A){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4P("_selected"):$b.$4P("selected");var $A=m.$5q($A);DayPilot.Util.addClass($A,cn);m.divs.push($A);};this.multiselect.$5q=function($A){return $A;};this.multiselect.$5r=function(){var m=$b.multiselect;for(var i=0;i<m.divs.length;i++){var $A=m.divs[i];m.$5o($A,true);};m.divs=[];};this.multiselect.$5o=function($A,$0o){var m=$b.multiselect;var cn=$b.cssOnly?$b.$4P("_selected"):$b.$4P("selected");DayPilot.Util.removeClass($A,cn);if($0o){return;};var i=DayPilot.indexOf(m.divs,$A);if(i!==-1){m.divs.splice(i,1);}};this.multiselect.isSelected=function(ev){return $b.multiselect.$5l(ev,$b.multiselect.list);};this.multiselect.indexOf=function(ev){return DayPilot.indexOf($b.multiselect.list,ev);};this.multiselect.$5l=function(e,$0m){if(!$0m){return false;};for(var i=0;i<$0m.length;i++){var ei=$0m[i];if(e===ei){return true;};if(typeof ei.value==='function'){if(ei.value()!==null&&e.value()!==null&&ei.value()===e.value()){return true;};if(ei.value()===null&&e.value()===null&&ei.recurrentMasterId()===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start()){return true;}}else{if(ei.value!==null&&e.value()!==null&&ei.value===e.value()){return true;};if(ei.value===null&&e.value()===null&&ei.recurrentMasterId===e.recurrentMasterId()&&e.start().toStringSortable()===ei.start){return true;}}};return false;};this.update=function(){var $0p=true;if($0p){$b.timeHeader=null;$b.$4n();$b.$4o();$b.$4p();$b.$4q();};this.$4s();if($0p){$b.$4t();$b.$4u();};$b.$4w();$b.$4x();$b.$4y();if($b.heightSpec==='Auto'||$b.heightSpec==='Max'){$b.$4z();};this.$4B();this.$4C();this.$4A();this.$4D();this.$4E();this.$4F();};this.$4G=function($0i,$0q){var $I,end;$0i=DayPilot.ua($0i);if(this.rowsDirty){var $0r=this.$4x();this.$4w();this.$4A();this.$4C();for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5s(ri);};for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5t(ri);};this.$4D();this.$4E();this.$5u();}else{var $0s=true;if($0s){var $0t=function(i){if(i>=$0i.length){return;};var ri=$0i[i];if(!$0q){$b.$5s(ri);};$b.$5t(ri);if(i+1<$0i.length){setTimeout(function(){$0t(i+1);},10);}};$0t(0);}else{for(var i=0;i<$0i.length;i++){var ri=$0i[i];if(!$0q){this.$5s(ri);};this.$5t(ri);}}}};this.$5v=function(e,$0b,$0c,$0e,external,ev,$O){if($b.eventMoveHandling==='Disabled'){return;};if($b.$4K()){var $n={};$n.e=e;$n.newStart=$0b;$n.newEnd=$0c;$n.newResource=$0e;$n.external=external;$n.ctrl=false;if(ev){$n.ctrl=ev.ctrlKey;};$n.shift=false;if(ev){$n.shift=ev.shiftKey;};$n.position=$O;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventMove==='function'){$b.onEventMove($n);if($n.preventDefault.value){return;}};switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0b,$0c,$0e,null,$O);break;case 'CallBack':$b.eventMoveCallBack(e,$0b,$0c,$0e,null,$O);break;case 'Notify':$b.eventMoveNotify(e,$0b,$0c,$0e,null,$O);break;case 'Update':e.start($0b);e.end($0c);e.resource($0e);$b.events.update(e);break;};if(typeof $b.onEventMoved==='function'){$b.onEventMoved($n);}}else{switch($b.eventMoveHandling){case 'PostBack':$b.eventMovePostBack(e,$0b,$0c,$0e,null,$O);break;case 'CallBack':$b.eventMoveCallBack(e,$0b,$0c,$0e,null,$O);break;case 'JavaScript':$b.onEventMove(e,$0b,$0c,$0e,external,ev?ev.ctrlKey:false,ev?ev.shiftKey:false,$O);break;case 'Notify':$b.eventMoveNotify(e,$0b,$0c,$0e,null,$O);break;case 'Update':e.start($0b);e.end($0c);e.resource($0e);$b.events.update(e);break;}}};this.$5w=function($n,$f){var $e=$b.$5x($f);var $09={};$09.args=$n;$09.guid=$e;$b.$51("Bubble",$09);};this.$5x=function($f){var $e=DayPilot.guid();if(!this.bubbles){this.bubbles=[];};this.bubbles[$e]=$f;return $e;};this.eventMenuClickPostBack=function(e,$0u,$j){var $09={};$09.e=e;$09.command=$0u;this.$50('EventMenuClick',$09,$j);};this.eventMenuClickCallBack=function(e,$0u,$j){var $09={};$09.e=e;$09.command=$0u;this.$51('EventMenuClick',$09,$j);};this.$5y=function($0u,e,$0v){switch($0v){case 'PostBack':$b.eventMenuClickPostBack(e,$0u);break;case 'CallBack':$b.eventMenuClickCallBack(e,$0u);break;}};this.timeRangeSelectedPostBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$50('TimeRangeSelected',$0x,$j);};this.timeRangeSelectedCallBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$51('TimeRangeSelected',$0x,$j);};this.$5z=function($I,end,$0w){if($b.timeRangeSelectedHandling==='Disabled'){return;};if($b.$4K()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0w;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeSelect==='function'){$b.onTimeRangeSelect($n);if($n.preventDefault.value){return;}};switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0w);break;};if(typeof $b.onTimeRangeSelected==='function'){$b.onTimeRangeSelected($n);}}else{switch($b.timeRangeSelectedHandling){case 'PostBack':$b.timeRangeSelectedPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeSelectedCallBack($I,end,$0w);break;case 'JavaScript':$b.onTimeRangeSelected($I,end,$0w);break;case 'Hold':break;}}};this.timeRangeDoubleClickPostBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$50('TimeRangeDoubleClick',$0x,$j);};this.timeRangeDoubleClickCallBack=function($I,end,$0w,$j){var $0x={};$0x.start=$I;$0x.end=end;$0x.resource=$0w;this.$51('TimeRangeDoubleClick',$0x,$j);};this.$5A=function($I,end,$0w){if($b.$4K()){var $n={};$n.start=$I;$n.end=end;$n.resource=$0w;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeRangeDoubleClick==='function'){$b.onTimeRangeDoubleClick($n);if($n.preventDefault.value){return;}};switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0w);break;};if(typeof $b.onTimeRangeDoubleClicked==='function'){$b.onTimeRangeDoubleClicked($n);}}else{switch($b.timeRangeDoubleClickHandling){case 'PostBack':$b.timeRangeDoubleClickPostBack($I,end,$0w);break;case 'CallBack':$b.timeRangeDoubleClickCallBack($I,end,$0w);break;case 'JavaScript':$b.onTimeRangeDoubleClick($I,end,$0w);break;}}};this.timeRangeMenuClickPostBack=function(e,$0u,$j){var $09={};$09.selection=e;$09.command=$0u;this.$50("TimeRangeMenuClick",$09,$j);};this.timeRangeMenuClickCallBack=function(e,$0u,$j){var $09={};$09.selection=e;$09.command=$0u;this.$51("TimeRangeMenuClick",$09,$j);};this.$5B=function($0u,e,$0v){switch($0v){case 'PostBack':$b.timeRangeMenuClickPostBack(e,$0u);break;case 'CallBack':$b.timeRangeMenuClickCallBack(e,$0u);break;}};this.resourceHeaderMenuClickPostBack=function(e,$0u,$j){var $09={};$09.resource=e;$09.command=$0u;this.$50("ResourceHeaderMenuClick",$09,$j);};this.resourceHeaderMenuClickCallBack=function(e,$0u,$j){var $09={};$09.resource=e;$09.command=$0u;this.$51("ResourceHeaderMenuClick",$09,$j);};this.$5C=function($0u,e,$0v){switch($0v){case 'PostBack':$b.resourceHeaderMenuClickPostBack(e,$0u);break;case 'CallBack':$b.resourceHeaderMenuClickCallBack(e,$0u);break;}};this.resourceHeaderClickPostBack=function(e,$j){var $09={};$09.resource=e;this.$50("ResourceHeaderClick",$09,$j);};this.resourceHeaderClickCallBack=function(e,$j){var $09={};$09.resource=e;this.$51("ResourceHeaderClick",$09,$j);};this.$5D=function(e){if($b.$4K()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceHeaderClick==='function'){$b.onResourceHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;};if(typeof $b.onResourceHeaderClicked==='function'){$b.onResourceHeaderClicked($n);}}else{switch(this.resourceHeaderClickHandling){case 'PostBack':$b.resourceHeaderClickPostBack(e);break;case 'CallBack':$b.resourceHeaderClickCallBack(e);break;case 'JavaScript':$b.onResourceHeaderClick(e);break;}}};this.timeHeaderClickPostBack=function(e,$j){var $09={};$09.header=e;this.$50("TimeHeaderClick",$09,$j);};this.timeHeaderClickCallBack=function(e,$j){var $09={};$09.header=e;this.$51("TimeHeaderClick",$09,$j);};this.$5E=function(e){if($b.$4K()){var $n={};$n.header=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onTimeHeaderClick==='function'){$b.onTimeHeaderClick($n);if($n.preventDefault.value){return;}};switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;};if(typeof $b.onTimeHeaderClicked==='function'){$b.onTimeHeaderClicked($n);}}else{switch(this.timeHeaderClickHandling){case 'PostBack':$b.timeHeaderClickPostBack(e);break;case 'CallBack':$b.timeHeaderClickCallBack(e);break;case 'JavaScript':$b.onTimeHeaderClick(e);break;}}};this.resourceCollapsePostBack=function(e,$j){var $09={};$09.resource=e;this.$50("ResourceCollapse",$09,$j);};this.resourceCollapseCallBack=function(e,$j){var $09={};$09.resource=e;this.$51("ResourceCollapse",$09,$j);};this.$5F=function(e){if($b.$4K()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceCollapse==='function'){$b.onResourceCollapse($n);if($n.preventDefault.value){return;}};switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;}}else{switch(this.resourceCollapseHandling){case 'PostBack':$b.resourceCollapsePostBack(e);break;case 'CallBack':$b.resourceCollapseCallBack(e);break;case 'JavaScript':$b.onResourceCollapse(e);break;}}};this.resourceExpandPostBack=function(e,$j){var $09={};$09.resource=e;this.$50("ResourceExpand",$09,$j);};this.resourceExpandCallBack=function(e,$j){var $09={};$09.resource=e;this.$51("ResourceExpand",$09,$j);};this.$5G=function(e){if($b.$4K()){var $n={};$n.resource=e;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onResourceExpand==='function'){$b.onResourceExpand($n);if($n.preventDefault.value){return;}};switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;}}else{switch(this.resourceExpandHandling){case 'PostBack':$b.resourceExpandPostBack(e);break;case 'CallBack':$b.resourceExpandCallBack(e);break;case 'JavaScript':$b.onResourceExpand(e);break;}}};this.eventEditPostBack=function(e,$0y,$j){var $09={};$09.e=e;$09.newText=$0y;this.$50("EventEdit",$09,$j);};this.eventEditCallBack=function(e,$0y,$j){var $09={};$09.e=e;$09.newText=$0y;this.$51("EventEdit",$09,$j);};this.$5H=function(e,$0y){if($b.$4K()){var $n={};$n.e=e;$n.newText=$0y;$n.preventDefault=function(){this.preventDefault.value=true;};if(typeof $b.onEventEdit==='function'){$b.onEventEdit($n);if($n.preventDefault.value){return;}};switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'Update':e.text($0y);$b.events.update(e);break;};if(typeof $b.onEventEdited==='function'){$b.onEventEdited($n);if($n.preventDefault.value){return;}}}else{switch($b.eventEditHandling){case 'PostBack':$b.eventEditPostBack(e,$0y);break;case 'CallBack':$b.eventEditCallBack(e,$0y);break;case 'JavaScript':$b.onEventEdit(e,$0y);break;}}};this.commandCallBack=function($0u,$j){this.$5I("CallBack",$0u,$j);};this.commandPostBack=function($0u,$j){this.$5I("PostBack",$0u,$j);};this.$5I=function($0d,$0u,$j){var $09={};$09.command=$0u;this.$5a($0d,"Command",$09,$j);};this.$50=function($0f,$0z,$j){var $0A={};$0A.action=$0f;$0A.type="PostBack";$0A.parameters=$0z;$0A.data=$j;$0A.header=this.$5J();var $0B="JSON"+DayPilot.JSON.stringify($0A);__doPostBack($b.uniqueID,$0B);};this.$51=function($0f,$0z,$j,$0d){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if(typeof $0d==='undefined'){$0d="CallBack";};this.$5K();this.callbackTimeout=window.setTimeout(function(){$b.$5L();},100);var $0A={};$0A.action=$0f;$0A.type=$0d;$0A.parameters=$0z;$0A.data=$j;$0A.header=this.$5J();var $0C=DayPilot.JSON.stringify($0A);var $0B;if(typeof Iuppiter!=='undefined'&&Iuppiter.compress){$0B="LZJB"+Iuppiter.Base64.encode(Iuppiter.compress($0C));}else{$0B="JSON"+$0C;};var $d=null;if(this.backendUrl){DayPilot.request(this.backendUrl,this.$5M,$0B,this.$5N);}else if(typeof WebForm_DoCallback==='function'){WebForm_DoCallback(this.uniqueID,$0B,this.$4k,$d,this.callbackError,true);}};this.$5N=function($0D){if(typeof $b.onAjaxError==='function'){var $n={};$n.request=$0D;$b.onAjaxError($n);}else if(typeof $b.ajaxError==='function'){$b.ajaxError($0D);}};this.$5M=function($0E){$b.$4k($0E.responseText);};this.$5J=function(){var h={};h.v=this.v;h.control="dps";h.id=this.id;h.startDate=$b.startDate;h.days=$b.days;h.cellDuration=$b.cellDuration;h.cellGroupBy=$b.cellGroupBy;h.cellWidth=$b.cellWidth;h.viewType=$b.viewType;h.hourNameBackColor=$b.hourNameBackColor;h.showNonBusiness=$b.showNonBusiness;h.businessBeginsHour=$b.businessBeginsHour;h.businessEndsHour=$b.businessEndsHour;h.weekStarts=$b.weekStarts;h.treeEnabled=$b.treeEnabled;h.backColor=$b.cellBackColor;h.nonBusinessBackColor=$b.cellBackColorNonBusiness;h.locale=$b.locale;h.timeZone=$b.timeZone;h.tagFields=$b.tagFields;h.timeHeaders=$b.timeHeaders;h.cssOnly=$b.cssOnly;h.cssClassPrefix=$b.cssClassPrefix;h.durationBarMode=$b.durationBarMode;h.showBaseTimeHeader=$b.showBaseTimeHeader;h.rowHeaderColumns=$b.rowHeaderColumns;h.clientState=$b.clientState;if(this.nav.scroll){h.scrollX=this.nav.scroll.scrollLeft;h.scrollY=this.nav.scroll.scrollTop;};h.selected=$b.multiselect.events();h.hashes=$b.hashes;var $0F=$b.$5O(h.scrollX,h.scrollY);var $0x=$b.$5P($0F);var $0G=$b.$5Q($0F);h.rangeStart=$0x.start;h.rangeEnd=$0x.end;h.resources=$0G;h.dynamicLoading=$b.dynamicLoading;if(this.syncResourceTree){h.tree=this.$5R();};return h;};this.getViewPort=function(){var scrollX=this.nav.scroll.scrollLeft;var scrollY=this.nav.scroll.scrollTop;var $0F=this.$5O(scrollX,scrollY);var $0x=this.$5P($0F);var $0H=this.$5Q($0F);var $c={};$c.start=$0x.start;$c.end=$0x.end;$c.resources=$0H;return $c;};this.$5O=function(scrollX,scrollY){var $0F={};$0F.start={};$0F.end={};$0F.start.x=Math.floor(scrollX/$b.cellWidth);$0F.end.x=Math.floor((scrollX+$b.nav.scroll.clientWidth)/$b.cellWidth);$0F.start.y=$b.$5S(scrollY).i;$0F.end.y=$b.$5S(scrollY+$b.nav.scroll.clientHeight).i;var $0I=this.timeline.length;if($0F.end.x>=$0I){$0F.end.x=$0I-1;};return $0F;};this.$5P=function($0F){var $c={};if(this.timeline.length<=0){$c.start=this.startDate;$c.end=this.startDate;return $c;};if(!this.timeline[$0F.start.x]){throw 'Internal error: area.start.x is null.';};$c.start=this.timeline[$0F.start.x].start;$c.end=this.timeline[$0F.end.x].end;return $c;};this.$5Q=function($0F){if(!$0F){var $0F=this.$5O(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);};var $0G=[];$0G.ignoreToJSON=true;for(var i=$0F.start.y;i<=$0F.end.y;i++){var r=$b.rows[i];if(r&&!r.Hidden){$0G.push(r.Value);}};return $0G;};this.$5R=function(){var $0J=[];$0J.ignoreToJSON=true;for(var i=0;i<this.rows.length;i++){if(this.rows[i].Level>0){continue;};var $0K=this.$5T(i);$0J.push($0K);};return $0J;};this.$5U=function($0L){var $0M=[];$0M.ignoreToJSON=true;for(var i=0;i<$0L.length;i++){$0M.push(this.$5T($0L[i]));};return $0M;};this.$5T=function(i){var $q=this.rows[i];var $0K={};$0K.Value=$q.Value;$0K.BackColor=$q.BackColor;$0K.Name=$q.Name;$0K.InnerHTML=$q.InnerHTML;$0K.ToolTip=$q.ToolTip;$0K.Expanded=$q.Expanded;$0K.Children=this.$5U($q.Children);$0K.Loaded=$q.Loaded;$0K.IsParent=$q.IsParent;$0K.Columns=this.$5V($q);if($q.MinHeight!==$b.rowMinHeight){$0K.MinHeight=$q.MinHeight;};if($q.MarginBottom!==$b.rowMarginBottom){$0K.MarginBottom=$q.MarginBottom;};return $0K;};this.$5V=function($q){if(!$q.Columns||$q.Columns.length===0){return null;};var $0N=[];$0N.ignoreToJSON=true;for(var i=0;i<$q.Columns.length;i++){var c={};c.InnerHTML=$q.Columns[i].html;$0N.push(c);};return $0N;};this.$4P=function($0O){if(this.cssClassPrefix){return this.cssClassPrefix+$0O;}else{return "";}};this.$5W=function(){var $0P=document.getElementById(id);$0P.dispose=this.dispose;};this.dispose=function(){var c=$b;if(!c.nav.top){return;};c.$5K();c.$4B();c.divBreaks=null;c.divCells=null;c.divCorner=null;c.divCrosshair=null;c.divEvents=null;c.divHeader=null;c.divLines=null;c.divNorth=null;c.divRange=null;c.divResScroll=null;c.divSeparators=null;c.divSeparatorsAbove=null;c.divStretch=null;c.divTimeScroll=null;c.scrollRes=null;c.vsph=null;c.maind=null;c.nav.loading=null;c.nav.top.onmousemove=null;c.nav.top.dispose=null;c.nav.top.ontouchstart=null;c.nav.top.ontouchmove=null;c.nav.top.ontouchend=null;c.nav.top.removeAttribute('style');c.nav.top.removeAttribute('class');c.nav.top.innerHTML="";c.nav.top.dp=null;c.nav.top=null;c.nav.scroll.onscroll=null;c.nav.scroll.root=null;c.nav.scroll=null;DayPilot.ue(window,'resize',c.$5X);DayPilotScheduler.unregister(c);};this.$5Y=function($0Q,$0d){var $0R=$b.maind;var $0S=$b.$5Z($0Q);var event=$0Q.event;var $D=event.part.height||$b.eventHeight;var top=(event.part&&event.part.top)?(event.part.top+$b.rows[event.part.dayIndex].Top):$0S.top;var $0T=document.createElement('div');$0T.setAttribute('unselectable','on');$0T.style.position='absolute';$0T.style.width=($0S.width)+'px';$0T.style.height=$D+'px';$0T.style.left=$0S.left+'px';$0T.style.top=top+'px';$0T.style.zIndex=101;$0T.style.overflow='hidden';var $B=document.createElement("div");$0T.appendChild($B);if(this.cssOnly){$0T.className=this.$4P("_shadow");$B.className=this.$4P("_shadow_inner");};if(!this.cssOnly){if($0d==='Fill'){$B.style.backgroundColor="#aaaaaa";$B.style.opacity=0.5;$B.style.filter="alpha(opacity=50)";$B.style.height="100%";if($0Q&&$0Q.event&&$0Q.style){$B.style.fontSize=$0Q.style.fontSize;$B.style.fontFamily=$0Q.style.fontFamily;$B.style.color=$0Q.style.color;$B.innerHTML=$0Q.event.client.innerHTML();}}else{$0T.style.paddingTop="2px";$B.style.border='2px dotted #666666';}};$0R.appendChild($0T);$0T.calendar=$b;return $0T;};this.$5S=function(y){var $c={};var element;var top=0;var $0U=0;var $0V=this.rows.length;for(var i=0;i<$0V;i++){var $q=this.rows[i];if($q.Hidden){continue;};$0U+=$q.Height;if(y<$0U||i===$0V-1){top=$0U-$q.Height;element=$q;break;}};$c.top=top;$c.bottom=$0U;$c.i=i;$c.element=element;return $c;};this.$60=function(i){var top=0;var $0W=0;var $0X=0;if(i>this.rows.length-1){throw "Row index too high (DayPilotScheduler._getRowByIndex)";};for(var j=0;j<=i;j++){var $q=this.rows[j];if($q.Hidden){continue;};$0W+=$q.Height;$0X++;};top=$0W-$q.Height;var $c={};$c.top=top;$c.height=$q.Height;$c.bottom=$0W;$c.i=$0X-1;return $c;};this.$61=function(){if(this.backendUrl||typeof WebForm_DoCallback==='function'){return(typeof $b.events.list==='undefined')||(!$b.events.list);}else{return false;}};this.events.find=function(id){var $0Y=$b.events.list.length;for(var i=0;i<$0Y;i++){if($b.events.list[i].id===id){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.findRecurrent=function($0Z,$10){var $0Y=$b.events.list.length;for(var i=0;i<$0Y;i++){if($b.events.list[i].recurrentMasterId===$0Z&&$b.events.list[i].start.getTime()===$10.getTime()){return new DayPilot.Event($b.events.list[i],$b);}};return null;};this.events.$5d=function($j){var $0i=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];for(var r=0;r<$q.events.length;r++){if($q.events[r].data===$j){$0i.push(i);$q.events.splice(r,1);break;}}};return $0i;};this.events.$5e=function($j){var $0i=[];for(var i=0;i<$b.rows.length;i++){var $q=$b.rows[i];var ep=$b.$62($j,$q);if(ep){var $0X=DayPilot.indexOf($b.events.list,ep.data);$b.$63($0X);if(typeof $b.onBeforeEventRender==='function'){ep.cache=$b.cache.events[$0X];};$0i.push(i);}};return $0i;};this.events.update=function(e,$j){var $09={};$09.oldEvent=new DayPilot.Event(e.copy(),$b);$09.newEvent=new DayPilot.Event(e.temp(),$b);var $0f=new DayPilot.Action($b,"EventUpdate",$09,$j);var $0i=$b.events.$5d(e.data);e.commit();$0i=$0i.concat($b.events.$5e(e.data));$b.$5f($0i);$b.$5g();$b.$4G($0i);$b.$4z();return $0f;};this.events.remove=function(e,$j){var $09={};$09.e=new DayPilot.Event(e.data,$b);var $0f=new DayPilot.Action($b,"EventRemove",$09,$j);var $0X=DayPilot.indexOf($b.events.list,e.data);$b.events.list.splice($0X,1);var $0i=$b.events.$5d(e.data);$b.$5f($0i);$b.$5g();$b.$4G($0i);return $0f;};this.events.add=function(e,$j){e.calendar=$b;if(!$b.events.list){$b.events.list=[];};$b.events.list.push(e.data);var $09={};$09.e=e;var $0f=new DayPilot.Action($b,"EventAdd",$09,$j);var ri=DayPilot.indexOf($b.rows,$b.$4L(e.resource()));var $q=$b.rows[ri];var $I=new Date();var $0i=$b.events.$5e(e.data);$b.$5f($0i);$b.$5g();var end=new Date();$b.$4G($0i);return $0f;};this.queue={};this.queue.list=[];this.queue.list.ignoreToJSON=true;this.queue.add=function($0f){if(!$0f){return;};if($0f.isAction){$b.queue.list.push($0f);}else{throw "DayPilot.Action object required for queue.add()";}};this.queue.notify=function($j){var $09={};$09.actions=$b.queue.list;$b.$51('Notify',$09,$j,"Notify");$b.queue.list=[];};this.queue.clear=function(){$b.queue.list=[];};this.queue.pop=function(){return $b.queue.list.pop();};this.$64=function($11,$12){if(!this.debuggingEnabled){return;};if(!$b.debugMessages){$b.debugMessages=[];};$b.debugMessages.push($11);if(typeof console!=='undefined'){console.log($11);}};this.showDebugMessages=function(){alert("Log:\n"+$b.debugMessages.join("\n"));};this.$65=function($o){if($o.ticks===this.startDate.ticks){return $o;};var $13=this.startDate;if($o.ticks<this.startDate.ticks){while($13.ticks>$o.ticks){$13=$13.addMinutes(-this.cellDuration);};return $13;};if($o.ticks>this.startDate.ticks){while($13.ticks<=$o.ticks){$13=$13.addMinutes(this.cellDuration);};return $13.addMinutes(-this.cellDuration);};throw "Internal error: Cannot find box start";};this.$5Z=function($0Q){var $q=this.$5S($b.coords.y);var e=$0Q.event;if(typeof e.end !=='function'){alert("e.end function is not defined");};if(!e.end()){alert("e.end() returns null");};var $14=DayPilot.Date.diff(e.end().d,e.start().d);var $15=$0g.useBox($14);var $16=e.start().getDatePart();var $17=($15)?e.start().getTime()-($16.getTime()+Math.floor((e.start().getHours()*60+e.start().getMinutes())/$b.cellDuration)*$b.cellDuration*60*1000):0;var $18;if(DayPilotScheduler.moveDragStart){$18=$15?DayPilotScheduler.moveDragStart.getTime()-this.$65(e.start()).getTime():DayPilotScheduler.moveDragStart.getTime()-e.start().getTime();$18=Math.floor(($18/ 60000)/ this.cellDuration)*(this.cellDuration*60000);}else{$18=0;};if(this.eventMoveToPosition){$18=0;};var $I=this.getDate(this.coords.x,true).addTime(-$18);if(DayPilotScheduler.resizing){$I=e.start();};var $19=$I;if(this.snapToGrid){$I=this.$65($I);};$I=$I.addTime($17);var end=$I.addTime($14);var $1a=$I;var $1b=end;if(this.viewType==='Days'){var $1c=this.rows[e.part.dayIndex].Start.getTime()-this.startDate.getTime();var $1a=$I.addTime(-$1c);var $1b=$1a.addTime($14);var $1d=$q.element.Start.getTime()-this.startDate.getTime();$I=$1a.addTime($1d);end=$I.addTime($14);};var $1e=this.getPixels($1a);var $1f=this.getPixels($1b);var $y=($15)?$1e.boxLeft:$1e.left;var $P=($15)?($1f.boxRight-$y):($1f.left-$y);var $0S={};$0S.top=$q.top;$0S.left=$y;$0S.row=$q.element;$0S.rowIndex=$q.i;$0S.width=$P;$0S.start=$I;$0S.end=end;$0S.relativeY=$b.coords.y-$q.top;return $0S;};this.$66=function(y){return this.treePreventParentUsage&&this.$67(y);};this.$67=function(y){var $q=this.rows[y];if($q.IsParent){return true;};if(this.treeEnabled){if($q.Children&&$q.Children.length>0){return true;}};return false;};this.$68=function(){var scroll=this.nav.scroll;if(!$b.coords){return;};var $0T=DayPilotScheduler.movingShadow;var $0S=this.$5Z(DayPilotScheduler.moving);var ev=DayPilotScheduler.moving.event;var $1g=0;(function(){var y=$0S.relativeY;var $q=$0S.row;var $1h=$q.lines.length;var top=0;var lh=$b.eventHeight;var $1i=$q.lines.length;for(var i=0;i<$q.lines.length;i++){var $O=$q.lines[i];if($O.isFree($0S.left,$b.cellWidth)){$1i=i;break;}};var $1j=Math.floor((y-top+lh/ 2)/ lh);var $1j=Math.min($1i,$1j);var $1j=Math.max(0,$1j);$1g=$1j;})();var $1k=!ev.data.moveVDisabled;var $1l=!ev.data.moveHDisabled;var $1m=$1g*$b.eventHeight;if($1m>0){$1m-=3;};if($1k){if(!this.$66($0S.rowIndex)){$0T.row=$0S.row;$0T.style.height=Math.max($0S.row.Height,0)+'px';$0T.style.top=($0S.top)+'px';if($b.eventMoveToPosition){$0T.style.top=($0S.top+$1m)+"px";$0T.style.height="3px";$0T.line=$1g;}}else{var $1n=$0T.row;var $1o=$0S.rowIndex<$1n.Index?1:-1;for(var i=$0S.rowIndex;i!==$1n.Index;i+=$1o){var $q=this.rows[i];if(!this.$66(i)&&!$q.Hidden){$0T.style.top=($q.Top)+'px';$0T.style.height=Math.max($q.Height,0)+'px';$0T.row=$q;if($b.eventMoveToPosition){$1g=$1o>0?0:$q.lines.length-1;$0T.style.top=($0S.top+$1m)+"px";$0T.style.height="3px";$0T.line=$1g;};break;}}}}else{var $1n=this.rows[this.$5S(parseInt($0T.style.top)).i];var $1i=$1n.lines.length;for(var i=0;i<$1n.lines.length;i++){var $O=$1n.lines[i];if($O.isFree($0S.left,$b.cellWidth)){$1i=i;break;}};$0T.style.height=Math.max($1n.Height,0)+'px';$0T.style.top=($1n.Top)+'px';$0T.row=$1n;if($b.eventMoveToPosition){if($0S.row===$1n){$0T.style.top=($1n.Top+$1m)+"px";$0T.style.height="3px";$0T.line=$1g;}else{var $1j=($0S.rowIndex>$1n.Index&&$1i>0)?$1i*$b.eventHeight-3:0;$0T.style.top=($1n.Top+$1j)+"px";$0T.style.height="3px";$0T.line=0;}}};if($1l){$0T.style.left=$0S.left+'px';if($b.eventMoveToPosition){$0T.style.width=($b.cellWidth)+'px';}else{$0T.style.width=($0S.width)+'px';};$0T.start=$0S.start;$0T.end=$0S.end;}else{$0T.start=ev.start();$0T.end=ev.end();}};this.$69=function(){if(this.rowHeaderColumns){this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width");}};this.$4O=function(){var $1p=0;this.$69();if(this.rowHeaderCols){for(var i=0;i<this.rowHeaderCols.length;i++){$1p+=this.rowHeaderCols[i];}}else{$1p=this.rowHeaderWidth;};return $1p;};this.$6a=function(){var $1q=this.divHeader;var $1i=[];for(var i=0;i<$1q.rows.length;i++){for(var j=0;j<$1q.rows[i].cells.length;j++){var $B=$1q.rows[i].cells[j].firstChild.firstChild;if(!$B||!$B.style){continue;};var $1r=$B.style.width;var $1s=$B.style.right;$B.style.position="absolute";$B.style.width="auto";$B.style.right="auto";$B.style.whiteSpace="nowrap";var w=$B.offsetWidth+2;$B.style.position="";$B.style.width=$1r;$B.style.right=$1s;$B.style.whiteSpace="";if(typeof $1i[j]==='undefined'){$1i[j]=0;};$1i[j]=Math.max($1i[j],w);}};var $1t=0;var $1u=false;this.$69();if(this.rowHeaderCols){for(var i=0;i<$1i.length;i++){if(this.rowHeaderCols[i]){if($1i[i]>this.rowHeaderCols[i]){this.rowHeaderCols[i]=$1i[i];$1u=true;};$1t+=this.rowHeaderCols[i];}}}else{if(this.rowHeaderWidth<$1i[0]){$1t=$1i[0];$1u=true;}};if($1u){if(this.$6b){this.$6b.widths=this.rowHeaderCols;this.$6b.updateWidths();DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols);};this.rowHeaderWidth=$1t;this.$6c();}};this.$4t=function(){var parent=this.divResScroll;DayPilot.puc(parent);parent.innerHTML='';this.$69();var $1v=this.rowHeaderCols;var $0N=$1v?this.rowHeaderCols.length:0;var $1p=this.$4O();var $1q=document.createElement("table");$1q.style.borderCollapse="collapse";$1q.style.KhtmlUserSelect="none";$1q.style.MozUserSelect="none";$1q.style.WebkitUserSelect="none";$1q.style.width=$1p+"px";$1q.style.border="0px none";$1q.cellSpacing=0;$1q.cellPadding=0;$1q.onmousemove=function(){$b.$6d();$b.$6e();};if(!this.cssOnly){$1q.className=this.$4P("resourceheader");};this.divHeader=$1q;var m=this.rows.length;for(var i=0;i<m;i++){var $q=this.rows[i];if($q.Hidden){continue;};var r=$1q.insertRow(-1);var c=r.insertCell(-1);c.row=$q;c.index=i;var $P=$1v?$1v[0]:this.rowHeaderWidth;c.style.width=($P)+"px";c.style.border="0px none";if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");c.setAttribute('resource',$q.Value);c.onmousemove=$b.$6f;c.onmouseout=$b.$6g;c.oncontextmenu=$b.$6h;c.onclick=$b.$6i;var $A=document.createElement("div");$A.style.width=($P)+"px";$A.setAttribute("unselectable","on");$A.className=this.cssOnly?this.$4P('_rowheader'):this.$4P('rowheader');if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.cssOnly?this.$4P('_rowheader_inner'):"";$A.appendChild($B);var $1w=document.createElement("div");$1w.style.position="absolute";$1w.style.bottom="0px";$1w.style.width="100%";$1w.style.height="1px";if(this.cssOnly){$1w.className=this.$4P("_resourcedivider");}else{$1w.style.backgroundColor=this.borderColor;};$A.appendChild($1w);if(this.treeEnabled){var $1x=document.createElement("div");$1x.style.width="10px";$1x.style.height="10px";$1x.style.backgroundRepeat="no-repeat";$1x.style.position='absolute';$1x.style.left=($q.Level*this.treeIndent+this.treeImageMarginLeft)+'px';$1x.style.top=this.treeImageMarginTop+"px";if(!$q.Loaded&&$q.Children.length===0){if(this.treeImageExpand&&!this.cssOnly){$1x.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1x.className=this.cssOnly?this.$4P('_tree_image_expand'):this.$4P('tree_image_expand');$1x.style.cursor='pointer';$1x.index=i;$1x.onclick=function(ev){$b.$6j(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else if($q.Children.length>0){if($q.Expanded){if(this.treeImageCollapse&&!this.cssOnly){$1x.style.backgroundImage="url('"+this.treeImageCollapse+"')";};$1x.className=this.cssOnly?this.$4P('_tree_image_collapse'):this.$4P('tree_image_collapse');}else{if(this.treeImageExpand&&!this.cssOnly){$1x.style.backgroundImage="url('"+this.treeImageExpand+"')";};$1x.className=this.cssOnly?this.$4P('_tree_image_expand'):this.$4P('tree_image_expand');};$1x.style.cursor='pointer';$1x.index=i;$1x.onclick=function(ev){$b.$6k(this.index);ev=ev||window.event;ev.cancelBubble=true;};}else{if(this.treeImageNoChildren&&!this.cssOnly){$1x.style.backgroundImage="url('"+this.treeImageNoChildren+"')";};$1x.className=this.cssOnly?this.$4P('_tree_image_no_children'):this.$4P('tree_image_no_children');};$B.appendChild($1x);};var $1y=document.createElement("div");if(this.treeEnabled){$1y.style.marginLeft=(($q.Level+1)*this.treeIndent)+'px';}else if(!this.cssOnly){$1y.style.marginLeft="4px";};$1y.innerHTML=$q.InnerHTML;$B.appendChild($1y);c.appendChild($A);if($q.areas){for(var j=0;j<$q.areas.length;j++){var $0F=$q.areas[j];if($0F.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$q,$0F);$A.appendChild(a);}};if(!$q.Columns||$q.Columns.length===0){c.colSpan=$0N>0?$0N:1;$A.style.width=$1p+"px";}else{for(var j=1;j<$0N;j++){var c=r.insertCell(-1);c.row=$q;c.index=i;if(!this.cssOnly){c.style.borderRight="1px solid "+this.borderColor;c.style.backgroundColor=$q.BackColor;c.style.fontFamily=this.headerFontFamily;c.style.fontSize=this.headerFontSize;c.style.color=this.headerFontColor;c.style.cursor='default';c.style.padding='0px';};if($q.ToolTip){c.title=$q.ToolTip;};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4P('rowheader');};c.setAttribute('resource',$q.Value);c.onmousemove=$b.$6f;c.onmouseout=$b.$6g;c.oncontextmenu=$b.$6h;c.onclick=$b.$6i;var $A=document.createElement("div");var w=this.cssOnly?$1v[j]:$1v[j]-1;if($q.BackColor){$A.style.backgroundColor=$q.BackColor;};$A.style.width=w+"px";$A.style.height=($q.Height)+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.setAttribute("unselectable","on");if(this.cssOnly){DayPilot.Util.addClass($A,this.$4P("_rowheader"));DayPilot.Util.addClass($A,this.$4P("_rowheadercol"));DayPilot.Util.addClass($A,this.$4P("_rowheadercol"+j));};if($q.CssClass){DayPilot.Util.addClass($A,$q.CssClass);};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4P("_rowheader_inner");};$A.appendChild($B);var $1w=document.createElement("div");$1w.style.position="absolute";$1w.style.bottom="0px";$1w.style.width=($1v[j]-1)+"px";$1w.style.height="1px";$1w.className=this.$4P("_resourcedivider");if(!this.cssOnly){$1w.style.backgroundColor=this.borderColor;};$A.appendChild($1w);var $1y=document.createElement("div");if(!this.cssOnly){$1y.style.marginLeft='4px';};var $1z=$q.Columns[j-1]?$q.Columns[j-1].html:"";$1y.innerHTML=$1z;$B.appendChild($1y);c.appendChild($A);}}};var r=$1q.insertRow(-1);var c=r.insertCell(-1);c.colSpan=$0N+1;c.style.width=$1p+"px";c.style.height=(parent.clientHeight+20)+"px";if(!this.cssOnly){c.style.backgroundColor=this.hourNameBackColor;c.style.cursor='default';};c.setAttribute("unselectable","on");if(!this.cssOnly){c.className=this.$4P('rowheader');c.style.fontSize="1px";c.innerHTML="&nbsp;";};if(this.cssOnly){var $A=document.createElement("div");$A.style.position="relative";$A.style.height="100%";$A.className=this.$4P('_rowheader');c.appendChild($A);};parent.appendChild($1q);if(this.rowHeaderWidthAutoFit){this.$6a();}};this.$6h=function(){var $q=this.row;var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=this.index;r.root=$b;r.toJSON=function($1A){var $0C={};$0C.start=this.start;$0C.name=this.name;$0C.value=this.value;$0C.index=this.index;return $0C;};if($q.contextMenu){$q.contextMenu.show(r);};return false;};this.$6i=function(ev){var $q=this.row;var r=$b.$6l($q,this.index);$b.$5D(r);};this.$6m=function(ev){var $N=this.cell;$N.start=this.cell.start;$N.level=this.cell.level;if(!$N.end){$N.end=new DayPilot.Date($N.start).addMinutes($b.cellDuration);};$b.$5E($N);};this.$6l=function($q,$0X){var r={};r.type='resource';r.start=$q.Start;r.name=$q.Name;r.value=$q.Value;r.id=$q.Value;r.index=$0X;r.root=$b;r.toJSON=function($1A){var $0C={};$0C.start=this.start;$0C.name=this.name;$0C.value=this.value;$0C.id=this.id;$0C.index=this.index;return $0C;};return r;};this.$4s=function($0j,$1B){var $1C=[];var $12=null;if($0j&&$1B){var $1D=$0j;var $12=[];for(var i=0;i<$1D.length;i++){var e=$1D[i];var $W=false;for(var j=0;j<this.events.list.length;j++){var ex=this.events.list[j];if(ex.id===e.id){this.events.list[j]=e;$W=true;break;}};if(!$W){$12.push(e);}};this.events.list=this.events.list.concat($12);}else if($0j){this.events.list=$0j;}else if(!this.events.list){this.events.list=[];};var $0m=$12||this.events.list;var $1E=$0m.length;if(typeof this.onBeforeEventRender==='function'){var $I=$12?this.events.list.length-$12.length:0;var end=this.events.list.length;for(var i=$I;i<end;i++){this.$63(i);}};var $h=[];for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$12||typeof $q.events==="undefined"){$q.events=[];};$q.data={};$q.data.start=new DayPilot.Date($q.Start);$q.data.startTicks=$q.data.start.getTime();$q.data.end=$0g.isResourcesView()?$q.data.start.addDays(this.days):$q.data.start.addDays(1);$q.data.endTicks=$q.data.end.getTime();$q.data.offset=$q.Start.getTime()-this.startDate.getTime();$q.data.i=i;if(this.$66(i)){continue;};for(var j=0;$0m&&j<$1E;j++){if($1C[j]){continue;};var e=$0m[j];var ep=this.$62(e,$q);if(!ep){continue;};if(typeof this.onBeforeEventRender==='function'){ep.cache=this.cache.events[j+$I];};$h.push(i);if(ep.data.resource!=="*"&&ep.part.start.getTime()===ep.start().getTime()&&ep.part.end.getTime()===ep.end().getTime()){$1C[j]=true;}}};for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];this.$6n($q);};this.$5g();return DayPilot.ua($h);};this.$63=function(i){var $T=this.cache.events;var $j=this.events.list[i];var $1F={};for(var name in $j){$1F[name]=$j[name];};if(typeof this.onBeforeEventRender==='function'){var $n={};$n.e=$1F;this.onBeforeEventRender($n);};$T[i]=$1F;};this.$6n=function($q){$q.lines=[];if(this.sortDirections){$q.events.sort(this.$6o);}else{$q.events.sort(this.$6p);};for(var j=0;j<$q.events.length;j++){var e=$q.events[j];$q.putIntoLine(e);}};this.$5f=function($0i){$0i=DayPilot.ua($0i);for(var i=0;i<$0i.length;i++){var ri=$0i[i];$b.$6n($b.rows[ri]);}};this.$62=function(e,$q){var $I=new DayPilot.Date(e.start);var end=new DayPilot.Date(e.end);var $1G=$I.getTime();var $1H=end.getTime();if($1H<$1G){return null;};var $1I=false;switch(this.viewType){case 'Days':$1I=!($1H<=$q.data.startTicks||$1G>=$q.data.endTicks)||($1G===$1H&&$1G===$q.data.startTicks);break;case 'Resources':$1I=($q.Value===e.resource||$q.Value==="*"||e.resource==="*")&&(!($1H<=$q.data.startTicks||$1G>=$q.data.endTicks)||($1G===$1H&&$1G===$q.data.startTicks));break;case 'Gantt':$1I=($q.Value===e.id)&&!($1H<=$q.data.startTicks||$1G>=$q.data.endTicks);break;};if(!$1I){return null;};var ep=new DayPilot.Event(e,$b);ep.part.dayIndex=$q.data.i;ep.part.start=$q.data.startTicks<$1G?ep.start():$q.data.start;ep.part.end=$q.data.endTicks>$1H?ep.end():$q.data.end;var $1J=this.getPixels(ep.part.start.addTime(-$q.data.offset));var $1K=this.getPixels(ep.part.end.addTime(-$q.data.offset));var $y=$1J.left;var $z=$1K.left;if($y===$z&&($1J.cut||$1K.cut)){return null;};ep.part.box=$0g.useBox($1H-$1G);if(ep.part.box){var $1L=$1K.boxRight;ep.part.left=Math.floor($y/this.cellWidth)*this.cellWidth;ep.part.width=Math.max(Math.ceil($1L/this.cellWidth)*this.cellWidth-ep.part.left,this.cellWidth);ep.part.barLeft=Math.max($y-ep.part.left,0);ep.part.barWidth=Math.max($z-$y,1);}else{ep.part.left=$y;ep.part.width=Math.max($z-$y-2,0);ep.part.barLeft=0;ep.part.barWidth=Math.max($z-$y-1,1);};$q.events.push(ep);return ep;};this.$6p=function(a,b){if(!a||!b||!a.start||!b.start){return 0;};var $1M=a.start().ticks-b.start().ticks;if($1M!==0){return $1M;};var $1N=b.end().ticks-a.end().ticks;return $1N;};this.$6o=function(a,b){if(!a||!b){return 0;};if(!a.data||!b.data||!a.data.sort||!b.data.sort||a.data.sort.length===0||b.data.sort.length===0){return $b.$6p(a,b);};var $c=0;var i=0;while($c===0&&a.data.sort[i]&&b.data.sort[i]){if(a.data.sort[i]===b.data.sort[i]){$c=0;}else{$c=$b.$6q(a.data.sort[i],b.data.sort[i],$b.sortDirections[i]);};i++;};return $c;};this.$6q=function(a,b,$1O){var $1P=($1O!=="desc");var $1Q=$1P?-1:1;var $1R=-$1Q;if(a===null&&b===null){return 0;};if(b===null){return $1R;};if(a===null){return $1Q;};var ar=[];ar[0]=a;ar[1]=b;ar.sort();return a===ar[0]?$1Q:$1R;};this.$4r=function(){if(!this.cellConfig){return;};var $1S=this.cellConfig;if($1S.vertical){for(var x=0;x<$1S.x;x++){var $1T=this.cellProperties[x+"_0"];for(var y=1;y<$1S.y;y++){this.cellProperties[x+"_"+y]=$1T;}}};if($1S.horizontal){for(var y=0;y<$1S.y;y++){var $1T=this.cellProperties["0_"+y];for(var x=1;x<$1S.x;x++){this.cellProperties[x+"_"+y]=$1T;}}};if($1S["default"]){var $1T=$1S["default"];for(var y=0;y<$1S.y;y++){for(var x=0;x<$1S.x;x++){if(!this.cellProperties[x+"_"+y]){this.cellProperties[x+"_"+y]=$1T;}}}}};this.$4q=function(){this.rows=[];this.hasChildren=false;var $0X={};$0X.i=0;this.$6r(this.resources,$0X,0,null,this.treeEnabled,false);};this.$6r=function($0H,$0X,$1U,parent,$1V,$1W){if(!$0H){return;};for(var i=0;i<$0H.length;i++){var $1X={};$1X.level=$1U;$1X.hidden=$1W;$1X.index=$0X.i;var $0G=this.$6s($0H[i],$1X);var $q={};$q.BackColor=$0G.backColor;$q.CssClass=$0G.cssClass;$q.Expanded=$0G.expanded;$q.Name=$0G.name;$q.InnerHTML=$0G.html?$0G.html:$q.Name;$q.MinHeight=typeof $0G.minHeight!=='undefined'?$0G.minHeight:$b.rowMinHeight;$q.MarginBottom=typeof $0G.marginBottom!=='undefined'?$0G.marginBottom:$b.rowMarginBottom;$q.Loaded=!$0G.dynamicChildren;$q.Value=$0G.id||$0G.value;$q.ToolTip=$0G.toolTip;$q.Children=[];$q.Columns=[];$q.Start=$0G.start?new DayPilot.Date($0G.start):this.startDate;$q.IsParent=$0G.isParent;$q.contextMenu=$0G.contextMenu?eval($0G.contextMenu):this.contextMenuResource;$q.areas=$0G.areas;$q.Height=this.eventHeight;$q.Hidden=$1W;$q.Level=$1U;$q.Index=$0X.i;$q.Resource=$0H[i];$q.lines=[];$q.isRow=true;$q.height=function(){var $1Y=Math.max(1,this.lines.length);var $1Z=$b.durationBarDetached?($b.eventHeight+10):$b.eventHeight;var $D=$1Y*$1Z+this.MarginBottom;return($D>this.MinHeight)?$D:this.MinHeight;};$q.putIntoLine=function(ep){var $20=this;for(var i=0;i<this.lines.length;i++){var $O=this.lines[i];if($O.isFree(ep.part.left,ep.part.width)){$O.push(ep);return i;}};var $O=[];$O.isFree=function($21,$22){var end=$21+$22-1;var $1i=this.length;for(var i=0;i<$1i;i++){var e=this[i];if(!(end<e.part.left||$21>e.part.left+e.part.width-1)){return false;}};return true;};$O.push(ep);this.lines.push($O);return this.lines.length-1;};this.rows.push($q);if(parent!==null){parent.Children.push($0X.i);};if($0G.columns){for(var j=0;j<$0G.columns.length;j++){$q.Columns.push($0G.columns[j]);}};$0X.i++;if($1V&&$0G.children&&$0G.children.length){this.hasChildren=true;var $23=$1W||!$q.Expanded;this.$6r($0G.children,$0X,$1U+1,$q,true,$23);}}};this.$6s=function($0G,$1X){var r={};for(var name in $0G){r[name]=$0G[name];};if(typeof $0G.html==='undefined'){r.html=$0G.name;};for(var name in $1X){r[name]=$1X[name];};if(typeof this.onBeforeResHeaderRender==='function'){var $n={};$n.resource=r;this.onBeforeResHeaderRender($n);};return r;};this.$6t=function(){this.nav.top=document.getElementById(this.id);this.nav.top.dp=this;this.nav.top.innerHTML="";if(!this.cssOnly){this.nav.top.style.border="1px solid "+this.borderColor;}else{DayPilot.Util.addClass(this.nav.top,this.$4P("_main"));};this.nav.top.style.MozUserSelect='none';this.nav.top.style.KhtmlUserSelect='none';this.nav.top.style.WebkitUserSelect='none';if(this.width){this.nav.top.style.width=this.width;};if(this.heightSpec==="Parent100Pct"){this.nav.top.style.height="100%";};this.nav.top.style.lineHeight="1.2";this.nav.top.style.position="relative";this.nav.top.onmousemove=function(ev){ev=ev||window.event;ev.insideMainD=true;if(window.event){window.event.srcElement.inside=true;}};this.nav.top.ontouchstart=$03.onMainTouchStart;this.nav.top.ontouchmove=$03.onMainTouchMove;this.nav.top.ontouchend=$03.onMainTouchEnd;if(this.hideUntilInit){this.nav.top.style.visibility='hidden';};var $24=this.$4O();var $25=this.$6u.layout();if($25==='DivBased'){var $y=document.createElement("div");$y.style.cssFloat="left";$y.style.styleFloat="left";$y.style.width=($24)+"px";$y.appendChild(this.$6v());var $26=document.createElement("div");$26.style.height="1px";$26.className=this.$4P("_divider_horizontal");if(!this.cssOnly){$26.style.backgroundColor=this.borderColor;};$y.appendChild($26);this.nav.dh1=$26;$y.appendChild(this.$6w());this.nav.left=$y;var $27=document.createElement("div");$27.style.cssFloat="left";$27.style.styleFloat="left";$27.style.width="1px";$27.style.height=(this.$4N()+this.$4R())+"px";$27.className=this.$4P("_divider");if(!this.cssOnly){$27.style.backgroundColor=this.borderColor;};this.nav.divider=$27;var $z=document.createElement("div");$z.style.marginLeft=($24+1)+"px";$z.style.marginRight='1px';$z.style.position='relative';$z.appendChild(this.$6x());this.nav.right=$z;var $28=document.createElement("div");$28.style.height="1px";$28.style.position="absolute";$28.style.top=this.$4N()+"px";$28.style.width="100%";$28.className=this.$4P("_divider_horizontal");if(!this.cssOnly){$28.style.backgroundColor=this.borderColor;};$z.appendChild($28);this.nav.dh2=$28;$z.appendChild(this.$6y());var $29=document.createElement("div");$29.style.clear='left';this.nav.top.appendChild($y);this.nav.top.appendChild($27);this.nav.top.appendChild($z);this.nav.top.appendChild($29);}else{var $1q=document.createElement("table");$1q.cellPadding=0;$1q.cellSpacing=0;$1q.border=0;$1q.style.position='absolute';if(!this.cssOnly){$1q.style.backgroundColor=this.hourNameBackColor;};var $2a=$1q.insertRow(-1);var $2b=$2a.insertCell(-1);$2b.appendChild(this.$6v());var $2c=$2a.insertCell(-1);$2c.appendChild(this.$6x());var $2d=$1q.insertRow(-1);var $2e=$2d.insertCell(-1);$2e.appendChild(this.$6w());var $2f=$2d.insertCell(-1);$2f.appendChild(this.$6y());this.nav.top.appendChild($1q);};this.vsph=document.createElement("div");this.vsph.style.display="none";this.nav.top.appendChild(this.vsph);var $2g=document.createElement("input");$2g.type="hidden";$2g.id=this.id+"_state";$2g.name=this.id+"_state";this.nav.state=$2g;this.nav.top.appendChild($2g);var loading=document.createElement("div");loading.style.position='absolute';loading.style.left=(this.$4O()+5)+"px";loading.style.top=(this.$4N()+5)+"px";loading.style.display='none';if(!this.cssOnly){loading.style.backgroundColor=this.loadingLabelBackColor;loading.style.fontSize=this.loadingLabelFontSize;loading.style.fontFamily=this.loadingLabelFontFamily;loading.style.color=this.loadingLabelFontColor;loading.style.padding='2px';};loading.innerHTML=this.loadingLabelText;DayPilot.Util.addClass(loading,this.$4P("_loading"));this.nav.loading=loading;this.nav.top.appendChild(loading);};this.$4y=function(){var $D=this.$4N();this.nav.corner.style.height=($D)+"px";this.divTimeScroll.style.height=$D+"px";this.divNorth.style.height=$D+"px";if(this.nav.dh1&&this.nav.dh2){this.nav.dh1.style.top=$D+"px";this.nav.dh2.style.top=$D+"px";};this.nav.loading.style.top=($D+5)+"px";this.nav.scroll.style.top=($D+1)+"px";};this.$6c=function(){this.$69();var $P=this.$4O();var $F=$P;this.nav.corner.style.width=$P+"px";this.divCorner.style.width=$P+"px";this.divResScroll.style.width=$P+"px";this.nav.left.style.width=($P)+"px";this.nav.right.style.marginLeft=($P+1)+"px";if(this.nav.message){this.nav.message.style.paddingLeft=$P+"px";};if(this.nav.loading){this.nav.loading.style.left=($P+5)+"px";};var $2h=function($B,$P){if(!$B||!$B.style){return;};$N.style.width=$P+"px";$B.style.width=$P+"px";var $27=$B.lastChild;if($27){$27.style.width=$P+"px";}};var $1q=this.divHeader;$1q.style.width=$P+"px";for(var i=0;i<$1q.rows.length;i++){var $N=$1q.rows[i].cells[0];if($N.colSpan>1){var $B=$1q.rows[i].cells[0].firstChild;$2h($B,$F);}else{if(this.rowHeaderCols){for(var j=0;j<$1q.rows[i].cells.length;j++){var $P=this.rowHeaderCols[j];var $B=$1q.rows[i].cells[j].firstChild;$2h($B,$P);}}else{var $P=this.rowHeaderWidth;var $B=$1q.rows[i].cells[0].firstChild;$2h($B,$P);}}};this.$6d();};this.$6z=function(){var $A=$b.nav.corner;var $2i=this.rowHeaderColumns;var $q=document.createElement("div");$q.style.position="absolute";$q.style.bottom="0px";$q.style.left="0px";$q.style.width="5000px";$q.style.height=this.headerHeight+"px";$q.style.overflow="hidden";$q.className=this.$4P("_columnheader");$A.appendChild($q);var $B=document.createElement("div");$B.style.position="absolute";$B.style.top="0px";$B.style.bottom="0px";$B.style.left="0px";$B.style.right="0px";$B.className=this.$4P("_columnheader_inner");$q.appendChild($B);var $2j=new DayPilot.Splitter($B);$2j.widths=DayPilot.Util.propArray($2i,"width");$2j.css.title=this.$4P("_columnheader_cell");$2j.css.titleInner=this.$4P("_columnheader_cell_inner");$2j.css.splitter=this.$4P("_columnheader_splitter");$2j.titles=DayPilot.Util.propArray($2i,"title");$2j.updating=function($n){DayPilot.Util.updatePropsFromArray($b.rowHeaderColumns,"width",this.widths);$b.$6c();};$2j.color='#000000';$2j.opacity=30;$2j.init();this.$6b=$2j;};this.$6v=function(){var $24=this.$4O();var $A=document.createElement("div");$b.nav.corner=$A;$A.style.width=$24+"px";$A.style.height=(this.$4N())+"px";if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;$A.style.fontFamily=this.hourFontFamily;$A.style.fontSize=this.hourFontSize;$A.style.cursor='default';};$A.style.overflow='hidden';$A.style.position='relative';$A.className=this.cssOnly?this.$4P('_corner'):this.$4P('corner');$A.setAttribute("unselectable","on");$A.onmousemove=function(){$b.$6d();$b.$6e();};$A.oncontextmenu=function(){return false;};var $B=document.createElement("div");$B.style.position="absolute";$B.style.top="0px";$B.style.left="0px";$B.style.right="0px";$B.style.bottom="0px";if(this.cssOnly){$B.className=this.$4P('_corner_inner');};this.divCorner=$B;$B.innerHTML='&nbsp;';if(this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var $2k=document.createElement("div");$2k.style.position="absolute";$2k.style.top="0px";$2k.style.left="0px";$2k.style.right="0px";$2k.style.bottom=(this.headerHeight+1)+"px";$A.appendChild($2k);var $27=document.createElement("div");$27.style.position="absolute";$27.style.left="0px";$27.style.right="0px";$27.style.height="1px";$27.style.bottom=(this.headerHeight)+"px";$27.className=this.$4P("_divider");$A.appendChild($27);$2k.appendChild($B);this.$6z();}else{$A.appendChild($B);};var $2l=document.createElement("div");$2l.style.position='absolute';$2l.style.padding='2px';$2l.style.top='0px';$2l.style.left='1px';$2l.style.backgroundColor="#FF6600";$2l.style.color="white";$2l.innerHTML="\u0044\u0045\u004D\u004F";if(this.numberFormat)$A.appendChild($2l);return $A;};this.$4N=function(){if(this.timeHeader){var $2m=this.timeHeader.length;if(!this.showBaseTimeHeader){$2m-=1;};return $2m*this.headerHeight;};return 2*this.headerHeight;};this.$6w=function(){var $A=document.createElement("div");if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.width=(this.$4O())+"px";$A.style.height=this.$4R()+"px";$A.style.overflow='hidden';$A.style.position='relative';$A.onmousemove=function(){$b.$6d();$b.$6e();};$A.oncontextmenu=function(){return false;};this.divResScroll=$A;this.scrollRes=$A;return $A;};this.$6A=function($A){if($0g.layout()==='TableBased'){var $P=parseInt(this.width,10);var $2n=(this.width.indexOf("%")!==-1);var $2o=/MSIE/i.test(navigator.userAgent);var $24=this.$4O();if($2n){if(this.nav.top&&this.nav.top.offsetWidth>0){$A.style.width=(this.nav.top.offsetWidth-6-$24)+"px";}}else{$A.style.width=($P-$24)+"px";}}};this.$5X=function(){if($b.$6u.layout()==='TableBased'){$b.$6A($b.nav.scroll);$b.$6A($b.divTimeScroll);};$b.$4z();if($b.cellWidthSpec==='Auto'){$b.$4p();$b.$4u();$b.$4D();}};this.$4p=function(){if(this.cellWidthSpec!=='Auto'){return;};var $F=this.nav.top.clientWidth;var $2p=this.$4O();var $0p=$F-$2p;var $N=$0p/this.$4M();this.cellWidth=Math.floor($N);};this.$6x=function(){var $A=document.createElement("div");$A.style.overflow='hidden';if(!this.cssOnly){$A.style.backgroundColor=this.hourNameBackColor;};$A.style.position='absolute';$A.style.display='block';$A.style.top="0px";$A.style.width="100%";$A.style.height=this.$4N()+"px";$A.style.overflow="hidden";$A.onmousemove=function(){$b.$6d();$b.$6e();if($b.cellBubble){$b.cellBubble.delayedHide();}};this.$6A($A);this.divTimeScroll=$A;var $B=document.createElement("div");$B.style.width=(this.$4M()*this.cellWidth+5000)+"px";this.divNorth=$B;$A.appendChild($B);return $A;};this.$4R=function(){var $D;if(this.heightSpec==='Fixed'||this.heightSpec==="Parent100Pct"){return this.height?this.height:0;}else{if(this.innerHeightTree){var $2q=DayPilot.sh($b.nav.scroll);if($2q===0){$D=this.innerHeightTree;}else{$D=this.innerHeightTree+$2q;}}else{$D=this.rows.length*this.eventHeight;}};if(this.heightSpec==='Max'&&$D>this.height){return this.height;};return $D;};this.$6B=function(){this.$6d();this.$6e();};this.$6y=function(){var $A=document.createElement("div");$A.style.overflow="auto";$A.style.overflowX="auto";$A.style.overflowY="auto";$A.style.position="absolute";$A.style.height=(this.$4R())+"px";$A.style.top=(this.$4N()+1)+"px";$A.style.width="100%";if(!this.cssOnly){$A.style.backgroundColor=this.emptyBackColor;};$A.className=this.$4P("_scrollable");$A.oncontextmenu=function(){return false;};this.$6A($A);this.nav.scroll=$A;this.maind=document.createElement("div");this.maind.style.MozUserSelect="none";this.maind.style.KhtmlUserSelect="none";this.maind.style.WebkitUserSelect="none";this.maind.style.position='absolute';this.maind.style.width=(this.$4M()*this.cellWidth)+"px";this.maind.setAttribute("unselectable","on");this.maind.onmousedown=this.$6C;this.maind.onmousemove=this.$6D;this.maind.oncontextmenu=this.$6E;this.maind.ondblclick=this.$6F;this.maind.className=this.$4P("_matrix");this.divStretch=document.createElement("div");this.divStretch.style.position='absolute';this.divStretch.style.height='1px';this.maind.appendChild(this.divStretch);this.divCells=document.createElement("div");this.divCells.style.position='absolute';this.divCells.oncontextmenu=this.$6E;this.maind.appendChild(this.divCells);this.divLines=document.createElement("div");this.divLines.style.position='absolute';this.divLines.oncontextmenu=this.$6E;this.maind.appendChild(this.divLines);this.divBreaks=document.createElement("div");this.divBreaks.style.position='absolute';this.divBreaks.oncontextmenu=this.$6E;this.maind.appendChild(this.divBreaks);this.divSeparators=document.createElement("div");this.divSeparators.style.position='absolute';this.divSeparators.oncontextmenu=this.$6E;this.maind.appendChild(this.divSeparators);this.divCrosshair=document.createElement("div");this.divCrosshair.style.position='absolute';this.divCrosshair.ondblclick=this.$6F;this.maind.appendChild(this.divCrosshair);this.divRange=document.createElement("div");this.divRange.style.position='absolute';this.divRange.oncontextmenu=this.$6E;this.maind.appendChild(this.divRange);this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.maind.appendChild(this.divEvents);this.divSeparatorsAbove=document.createElement("div");this.divSeparatorsAbove.style.position='absolute';this.divSeparatorsAbove.oncontextmenu=this.$6E;this.maind.appendChild(this.divSeparatorsAbove);$A.appendChild(this.maind);return $A;};this.$5L=function(){if(this.loadingLabelVisible){$b.nav.loading.innerHTML=this.loadingLabelText;$b.nav.loading.style.display='';}};this.$4l=function($11){if(this.callbackTimeout){window.clearTimeout(this.callbackTimeout);};if($11){this.nav.loading.innerHTML=$11;window.setTimeout(function(){$b.$4l();},1000);}else{this.nav.loading.style.display='none';}};this.$6G=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart();};this.$4J=function($2r){if($2r){this.autoRefreshEnabled=true;};if(!this.autoRefreshEnabled){return;};if(this.autoRefreshCount>=this.autoRefreshMaxCount){return;};this.$5K();var $2s=this.autoRefreshInterval;if(!$2s||$2s<10){throw "The minimum autoRefreshInterval is 10 seconds";};this.autoRefreshTimeout=window.setTimeout(function(){$b.$6H();},this.autoRefreshInterval*1000);};this.$5K=function(){if(this.autoRefreshTimeout){window.clearTimeout(this.autoRefreshTimeout);}};this.$6H=function(){if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving&&!DayPilotScheduler.drag&&!DayPilotScheduler.range){var $2t=false;if(typeof this.onAutoRefresh==='function'){var $n={};$n.i=this.autoRefreshCount;$n.preventDefault=function(){this.preventDefault.value=true;};$b.onAutoRefresh($n);if($n.preventDefault.value){$2t=true;}};if(!$2t){this.commandCallBack(this.autoRefreshCommand);};this.autoRefreshCount++;};if(this.autoRefreshCount<this.autoRefreshMaxCount){this.autoRefreshTimeout=window.setTimeout(function(){$b.$6H();},this.autoRefreshInterval*1000);}};this.$6I=function(){if(!DayPilotScheduler.globalHandlers){DayPilotScheduler.globalHandlers=true;DayPilot.re(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.re(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.re(window,'unload',DayPilotScheduler.gUnload);};DayPilot.re(window,'resize',this.$5X);};this.$6J=function(){this.nav.scroll.root=this;this.nav.scroll.onscroll=this.$6K;$b.scrollPos=this.nav.scroll.scrollLeft;$b.scrollTop=this.nav.scroll.scrollTop;$b.scrollWidth=this.divNorth.clientWidth;};this.$4I=function(){var $I=new Date();var $2u={};$2u.scrollX=this.nav.scroll.scrollLeft;$2u.scrollY=this.nav.scroll.scrollTop;if(this.syncResourceTree){$2u.tree=this.$5R();};this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify($2u));var end=new Date();};this.$4E=function(){if(!this.separators){return;};for(var i=0;i<this.separators.length;i++){this.$6L(i);}};this.batch={};this.batch.step=300;this.batch.delay=10;this.batch.mode="display";this.batch.layers=true;this.$4F=function($0s){var $2v=this.batch.step;var $2w=this.batch.layers;if($2w){$b.divEvents=document.createElement("div");$b.divEvents.style.position='absolute';$b.maind.appendChild(this.divEvents);}else{};if(this.batch.mode==='display'){this.divEvents.style.display='none';}else if(this.batch.mode==='visibility'){this.divEvents.style.visibility='hidden';};var $2x=this.dynamicEventRendering==='Progressive';var top=this.nav.scroll.scrollTop;var $0W=top+this.nav.scroll.clientHeight;var $2y=this.durationBarDetached?10:0;if(this.clientSide){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2z=$q.Top-this.dynamicEventRenderingMargin;var $2A=$2z+$q.Height+2*this.dynamicEventRenderingMargin;if($2x&&($0W<=$2z||top>=$2A)){continue;};for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];if(!e.part.top){e.part.line=j;e.part.top=j*(this.eventHeight+$2y)+$2y;e.part.detachedBarTop=e.part.top-$2y;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;};var $2B=this.$6M(e);if($0s&&$2B){$2v--;if($2v<=0){this.divEvents.style.visibility='';this.divEvents.style.display='';window.setTimeout(function(){$b.$4F($0s);},$b.batch.delay);return;}}}}}}else{var $2C=this.events.list.length;for(var i=0;i<$2C;i++){this.$6M(this.events.list[i]);}};this.divEvents.style.display='';this.$4l();};this.$5t=function($2D){var $q=this.rows[$2D];this.divEvents=document.createElement("div");this.divEvents.style.position='absolute';this.divEvents.style.display='none';this.maind.appendChild(this.divEvents);var $2y=this.durationBarDetached?10:0;for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];e.part.line=j;e.part.top=j*(this.eventHeight+$2y)+$2y;e.part.detachedBarTop=e.part.top-$2y;e.part.height=this.eventHeight;e.part.right=e.part.left+e.part.width;e.part.fullTop=this.rows[e.part.dayIndex].Top+e.Top;e.part.fullBottom=e.part.fullTop+e.part.height;this.$6M(e);}};this.divEvents.style.display='';};this.$4B=function(){if(this.elements.events){var length=this.elements.events.length;for(var i=0;i<length;i++){var $A=this.elements.events[i];this.$6N($A);}};this.elements.events=[];};this.$5s=function($2D){if(this.elements.events){var length=this.elements.events.length;var $2E=[];for(var i=0;i<length;i++){var $A=this.elements.events[i];if($A.row===$2D){this.$6N($A);$2E.push(i);}};for(var i=$2E.length-1;i>=0;i--){this.elements.events.splice($2E[i],1);}}};this.$6N=function($A){$A.onclick=null;$A.oncontextmenu=null;$A.onmouseover=null;$A.onmouseout=null;$A.onmousemove=null;$A.onmousedown=null;$A.ondblclick=null;if($A.event){if(!$A.isBar){$A.event.rendered=null;};$A.event=null;};if($A.bar){DayPilot.de($A.bar);};if($A.parentNode){$A.parentNode.removeChild($A);}};this.$6O=function($2F){if(!$2F){$2F=0;};if(this.dynamicEventRendering!=='Progressive'){return;};this.divEvents.style.display='none';var $0r=[];var $2G=0;var length=this.elements.events.length;for(var i=length-1;i>=0;i--){var $A=this.elements.events[i];if(this.$6P($A.event)){if($2F>0){$2F--;$0r.unshift($A);}else{this.$6N($A);$2G++;}}else{$0r.unshift($A);}};this.elements.events=$0r;this.divEvents.style.display='';};this.$4C=function(){if(this.elements.separators){for(var i=0;i<this.elements.separators.length;i++){var $A=this.elements.separators[i];DayPilot.pu($A);$A.parentNode.removeChild($A);}};this.elements.separators=[];};this.$6Q=function(){var $2x=this.dynamicEventRendering==='Progressive';if(!this.nav.scroll){return false;};var top=this.nav.scroll.scrollTop;var $0W=top+this.nav.scroll.clientHeight;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $2z=$q.Top;var $2A=$q.Top+$q.Height;if($2x&&($0W<=$2z||top>=$2A)){continue;};for(var j=0;j<$q.lines.length;j++){var $O=$q.lines[j];for(var k=0;k<$O.length;k++){var e=$O[k];if(this.$6R(e)){return true;}}}};return false;};this.$6R=function($j){if($j.rendered){return false;};var $2x=this.dynamicEventRendering==='Progressive';var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2H=$j.Left;var $2I=$j.Left+$j.Width;if($2x&&($z<=$2H||$y>=$2I)){return false;};return true;};this.$6P=function($j){if(!$j.rendered){return true;};var top=this.nav.scroll.scrollTop;var $0W=top+this.nav.scroll.clientHeight;var $y=this.nav.scroll.scrollLeft;var $z=$y+this.nav.scroll.clientWidth;var $2H=$j.Left;var $2I=$j.Right;var $2J=$j.FullTop;var $2K=$j.FullBottom;if($z<=$2H||$y>=$2I){return true;};if($0W<=$2J||top>=$2K){return true;};return false;};this.$6M=function($j){if($j.rendered){return false;};var $2x=this.dynamicEventRendering==='Progressive'&&!this.dynamicLoading;var $y=this.nav.scroll.scrollLeft-this.dynamicEventRenderingMargin;var $z=$y+this.nav.scroll.clientWidth+2*this.dynamicEventRenderingMargin;var $2H=$j.part.left;var $2I=$j.part.left+$j.part.width;if($2x&&($z<=$2H||$y>=$2I)){return false;};var $2D=$j.part.dayIndex;var $2L=!this.cssOnly&&this.eventBorderVisible;var $P=$j.part.width;var $D=$j.part.height;if($2L){$P-=2;$D-=2;};var $T=$j.cache||$j.data;$P=Math.max(0,$P);$D=Math.max(0,$D);var $q=this.rows[$2D];if($q.Hidden){return false;};var $2z=$q.Top;var $A=document.createElement("div");var $2M=this.durationBarDetached;if($2M){var $2N=document.createElement("div");$2N.style.position='absolute';$2N.style.left=($j.part.left+$j.part.barLeft)+'px';$2N.style.top=($2z+$j.part.detachedBarTop)+'px';$2N.style.width=$j.part.barWidth+'px';$2N.style.height=5+'px';$2N.style.backgroundColor="red";$A.bar=$2N;this.elements.bars.push($2N);this.divEvents.appendChild($2N);};$A.style.position='absolute';$A.style.left=$j.part.left+'px';$A.style.top=($2z+$j.part.top)+'px';$A.style.width=$P+'px';$A.style.height=$D+'px';if(!this.cssOnly){if($b.eventBorderVisible){$A.style.border='1px solid '+($T.borderColor||this.eventBorderColor);};$A.style.backgroundColor=$j.client.backColor();$A.style.fontSize=this.eventFontSize;$A.style.cursor='default';$A.style.fontFamily=this.eventFontFamily;$A.style.color=$T.fontColor||this.eventFontColor;if($T.backImage&&!this.durationBarVisible){$A.style.backgroundImage="url("+$T.backImage+")";if($T.backRepeat){$A.style.backgroundRepeat=$T.backRepeat;}};if(this.$6u.rounded()){$A.style.MozBorderRadius="5px";$A.style.webkitBorderRadius="5px";$A.style.borderRadius="5px";}};$A.style.whiteSpace='nowrap';$A.style.overflow='hidden';$A.className=this.cssOnly?this.$4P("_event"):this.$4P("event");if($T.cssClass){DayPilot.Util.addClass($A,$T.cssClass);};var $2O=true;if($2O){DayPilot.Util.addClass($A,this.$4P("_event_line"+$j.part.line));};$A.setAttribute("unselectable","on");if(this.showToolTip){$A.title=$j.client.toolTip();};$A.onmousemove=this.$6S;$A.onmouseout=this.$6T;$A.onmousedown=this.$6U;$A.ontouchstart=$03.onEventTouchStart;$A.ontouchmove=$03.onEventTouchMove;$A.ontouchend=$03.onEventTouchEnd;if($j.client.clickEnabled()){$A.onclick=this.$4Y;};if($j.client.doubleClickEnabled()){$A.ondblclick=this.$58;};$A.oncontextmenu=this.$57;var $2P=[];var $2Q=0;if(this.cssOnly){var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=$b.$4P("_event_inner");$B.innerHTML=$j.client.innerHTML();if($T.backColor){$B.style.background=$T.backColor;};if($T.borderColor){$B.style.borderColor=$T.borderColor;};if($T.backImage){$B.style.backgroundImage="url("+$T.backImage+")";if($T.backRepeat){$B.style.backgroundRepeat=$T.backRepeat;}};$A.appendChild($B);var $2R=$j.start().getTime()===$j.part.start.getTime();var $2S=$j.end().getTime()===$j.part.end.getTime();if(!$2R){DayPilot.Util.addClass($A,this.$4P("_event_continueleft"));};if(!$2S){DayPilot.Util.addClass($A,this.$4P("_event_continueright"));};if($j.client.barVisible()){var $2T=100*$j.part.barLeft/($P);var $2U=Math.ceil(100*$j.part.barWidth/($P));if(this.durationBarMode==="PercentComplete"){$2T=0;$2U=$T.complete;};var $2N=document.createElement("div");$2N.setAttribute("unselectable","on");$2N.className=this.$4P("_event_bar");$2N.style.position="absolute";var $2V=document.createElement("div");$2V.setAttribute("unselectable","on");$2V.className=this.$4P("_event_bar_inner");$2V.style.left=$2T+"%";if(0<$2U&&$2U<=1){$2V.style.width="1px";}else{$2V.style.width=$2U+"%";};if($T.barColor){$2V.style.backgroundColor=$T.barColor;};$2N.appendChild($2V);$A.appendChild($2N);}}else{if($j.client.barVisible()){$2Q=$b.durationBarHeight;$2P.push("<div unselectable='on' style='left:0px;background-color:white;width:");$2P.push($j.part.barLeft);$2P.push("px;height:2px;font-size:1px;position:absolute'></div>");$2P.push("<div unselectable='on' style='left:");$2P.push($j.part.barLeft+$j.part.barWidth);$2P.push("px;background-color:white;width:");$2P.push($P-($j.part.barLeft+$j.part.barWidth));$2P.push("px;height:2px;font-size:1px;position:absolute'></div>");if(this.durationBarMode==="Duration"){$2P.push("<div unselectable='on' style='width:");$2P.push($j.part.barWidth);$2P.push("px;margin-left:");$2P.push($j.part.barLeft);$2P.push("px;height:");}else{$2P.push("<div unselectable='on' style='width:");$2P.push($T.complete);$2P.push("%;margin-left:0px;height:");};$2P.push($2Q-1);$2P.push("px;background-color:");$2P.push($j.client.barColor());if($T.barImageUrl){$2P.push(";background-image:url(");$2P.push($T.barImageUrl);$2P.push(")");};$2P.push(";font-size:1px;position:relative'></div>");$2P.push("<div unselectable='on' style='width:");$2P.push($P);$2P.push("px;height:1px;background-color:");$2P.push(($T.borderColor||this.eventBorderColor));$2P.push(";font-size:1px;overflow:hidden;position:relative'></div>");};$2P.push("<div unselectable='on' style='padding-left:1px;width:");$2P.push($P-1);$2P.push("px;height:");$2P.push($D-$2Q);$2P.push("px;");if($b.rtl){$2P.push("direction:rtl;");};if($T.backImage&&this.durationBarVisible){$2P.push("background-image:url(");$2P.push($T.backImage);$2P.push(");");if($T.backRepeat){$2P.push("background-repeat:");$2P.push($T.backRepeat);$2P.push(";");}};$2P.push("'>");$2P.push($j.client.innerHTML());$2P.push("</div>");$A.innerHTML=$2P.join('');};$A.row=$2D;if($T.areas){for(var i=0;i<$T.areas.length;i++){var $0F=$T.areas[i];if($0F.v!=='Visible'){continue;};var a=DayPilot.Areas.createArea($A,$j,$0F);$A.appendChild(a);}};this.elements.events.push($A);this.divEvents.appendChild($A);$j.rendered=true;$A.event=$j;if($b.multiselect.$5k($A.event)){$b.multiselect.add($A.event,true);$b.multiselect.$5j($A);};if($b.$4K()){if(typeof $b.onAfterEventRender==='function'){var $n={};$n.e=$A.event;$n.div=$A;$b.onAfterEventRender($n);}}else{if($b.afterEventRender){$b.afterEventRender($A.event,$A);}};return true;};this.$4K=function(){return $b.api===2;};this.$5u=function(){for(var i=0;i<this.elements.events.length;i++){var $A=this.elements.events[i];var event=$A.event;var $2D=event.part.dayIndex;var $q=this.rows[$2D];var $2z=$q.Top;$A.style.top=($2z+event.part.top)+'px';}};this.$6V=function(e){for(var i=0;i<$b.elements.events.length;i++){var $A=$b.elements.events[i];if($A.event===e){return $A;}};return null;};this.$6T=function(ev){var $A=this;DayPilot.Areas.hideAreas($A,ev);if($b.cssOnly){DayPilot.Util.removeClass($A,$b.$4P("_event_hover"));};if($b.bubble&&$b.eventHoverHandling==='Bubble'){$b.bubble.hideOnMouseOut();}};this.$6S=function(ev){ev=ev||window.event;if($b.cellBubble){$b.cellBubble.delayedHide();};var $A=this;while($A&&!$A.event){$A=$A.parentNode;};$b.$6W($A,ev);if(!$A.active){DayPilot.Areas.showAreas($A,$A.event);if($b.cssOnly){DayPilot.Util.addClass($A,$b.$4P("_event_hover"));}};if(ev.srcElement){ev.srcElement.insideEvent=true;}else{ev.insideEvent=true;}};this.$6X={};var $04=this.$6X;this.$6U=function(ev){$b.$6d();$b.$6e();if(typeof DayPilot.Bubble!=='undefined'){DayPilot.Bubble.hideActive();};ev=ev||window.event;var $2W=ev.which||ev.button;if($2W===1){if(this.style.cursor==='w-resize'||this.style.cursor==='e-resize'){DayPilotScheduler.resizing=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);document.body.style.cursor=this.style.cursor;}else if(this.style.cursor==='move'){DayPilotScheduler.moving=this;DayPilotScheduler.originalMouse=DayPilot.mc(ev);DayPilotScheduler.moveOffsetX=DayPilot.mo3(this,ev).x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);document.body.style.cursor='move';}else if($b.moveBy==='Full'){$04.start=true;$04.moving=this;$04.originalMouse=DayPilot.mc(ev);$04.moveOffsetX=DayPilot.mo3(this,ev).x;$04.moveDragStart=$b.getDate($b.coords.x,true);}};ev.cancelBubble=true;return false;};this.$6Y={};var $03=$b.$6Y;$03.active=false;$03.start=false;$03.timeouts=[];$03.onEventTouchStart=function(ev){if($03.active||$03.start){return;};$03.clearTimeouts();$03.start=true;$03.active=false;var $A=this;var $2X=500;$03.timeouts.push(window.setTimeout(function(){$03.active=true;$03.start=false;$b.coords=$03.relativeCoords(ev);$03.startMoving($A,ev);ev.preventDefault();},$2X));ev.stopPropagation();};$03.onEventTouchMove=function(ev){$03.clearTimeouts();$03.start=false;};$03.onEventTouchEnd=function(ev){$03.clearTimeouts();if($03.start){$b.$52(this,false);};window.setTimeout(function(){$03.start=false;$03.active=false;},500);};$03.onMainTouchStart=function(ev){if($03.active||$03.start){return;};$03.clearTimeouts();$03.start=true;$03.active=false;var $2X=500;$03.timeouts.push(window.setTimeout(function(){$03.active=true;$03.start=false;ev.preventDefault();$b.coords=$03.relativeCoords(ev);$03.range=$b.$6Z();},$2X));};$03.onMainTouchMove=function(ev){$03.clearTimeouts();$03.start=false;if($03.active){ev.preventDefault();$b.coords=$03.relativeCoords(ev);if(DayPilotScheduler.moving){$03.updateMoving();return;};if($03.range){var $0x=$03.range;$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$70($0x);}}};$03.onMainTouchEnd=function(ev){$03.clearTimeouts();if($03.active){if(DayPilotScheduler.moving){ev.preventDefault();var e=DayPilotScheduler.moving.event;var $0b=DayPilotScheduler.movingShadow.start;var $0c=DayPilotScheduler.movingShadow.end;var $0e=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;$b.$5v(e,$0b,$0c,$0e,external);};if($03.range){var $2Y=$b.$71($03.range);$03.range=null;$b.$5z($2Y.start,$2Y.end,$2Y.resource);}};window.setTimeout(function(){$03.start=false;$03.active=false;},500);};$03.clearTimeouts=function(){for(var i=0;i<$03.timeouts.length;i++){clearTimeout($03.timeouts[i]);};$03.timeouts=[];};$03.relativeCoords=function(ev){var $2Z=$b.maind;var x=ev.touches[0].pageX;var y=ev.touches[0].pageY;var $30=DayPilot.abs($2Z);var $0S={x:x-$30.x,y:y-$30.y,toString:function(){return "x: "+this.x+", y:"+this.y;}};return $0S;};$03.startMoving=function($A,ev){var $0S={x:ev.touches[0].pageX,y:ev.touches[0].pageY};DayPilotScheduler.moving=$A;DayPilotScheduler.originalMouse=$0S;var $31=DayPilot.abs($A);DayPilotScheduler.moveOffsetX=$0S.x-$31.x;DayPilotScheduler.moveDragStart=$b.getDate($b.coords.x,true);DayPilotScheduler.movingShadow=$b.$5Y($A,$b.shadow);$b.$68();};$03.updateMoving=function(){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5Y(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$68();};this.$6W=function($A,ev){var $32=this.eventResizeMargin;var $33=this.eventMoveMargin;var $0Q=$A;if(typeof(DayPilotScheduler)==='undefined'){return;};var $Z=DayPilot.mo3($A,ev);if(!$Z){return;};$b.eventOffset=$Z;if(DayPilotScheduler.resizing){return;};var $34=$A.getAttribute("dpStart")===$A.getAttribute("dpPartStart");var $35=$A.getAttribute("dpEnd")===$A.getAttribute("dpPartEnd");if($b.moveBy==='Top'&&$Z.y<=$33&&$0Q.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($34){$A.style.cursor='move';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Top'&&$Z.x<=$32&&$0Q.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($34){$A.style.cursor="w-resize";$A.dpBorder='left';}else{$A.style.cursor='not-allowed';}}else if($b.moveBy==='Left'&&$Z.x<=$33&&$0Q.event.client.moveEnabled()&&$b.eventMoveHandling!=='Disabled'){if($34){$A.style.cursor="move";}else{$A.style.cursor='not-allowed';}}else if($A.offsetWidth-$Z.x<=$32&&$0Q.event.client.resizeEnabled()&&$b.eventResizeHandling!=='Disabled'){if($35){$A.style.cursor="e-resize";$A.dpBorder='right';}else{$A.style.cursor='not-allowed';}}else if(!DayPilotScheduler.resizing&&!DayPilotScheduler.moving){if($0Q.event.client.clickEnabled()&&$b.eventClickHandling!=='Disabled'){$A.style.cursor='pointer';}else{$A.style.cursor='default';}};if(typeof(DayPilotBubble)!=='undefined'&&$b.bubble&&$b.eventHoverHandling==='Bubble'){if($A.style.cursor==='default'||$A.style.cursor==='pointer'){var $36=this.$72&&$Z.x===this.$72.x&&$Z.y===this.$72.y;if(!$36){this.$72=$Z;$b.bubble.showEvent($A.event);}}else{}}};this.$4M=function(){if(this.viewType!=='Days'){return this.timeline.length;}else{return Math.floor(24*60/this.cellDuration);}};this.$71=function($0x){var $0x=$0x||DayPilotScheduler.range||DayPilotScheduler.rangeHold;if(!$0x){return null;};var $q=$b.rows[$0x.start.y];if(!$q){return null;};var $0w=$q.Value;var $37=$0x.end.x>$0x.start.x?$0x.start.x:$0x.end.x;var $38=($0x.end.x>$0x.start.x?$0x.end.x:$0x.start.x);var $1c=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[$37].start.addTime($1c);var end=this.timeline[$38].end.addTime($1c);return new DayPilot.Selection($I,end,$0w,$b);};this.$73=function($0Q){var $39=$0Q.parentNode;var $3a=document.createElement('textarea');$3a.style.position='absolute';$3a.style.width=(($0Q.offsetWidth<100)?100:($0Q.offsetWidth-2))+'px';$3a.style.height=($0Q.offsetHeight-2)+'px';$3a.style.fontFamily=DayPilot.gs($0Q,'fontFamily')||DayPilot.gs($0Q,'font-family');$3a.style.fontSize=DayPilot.gs($0Q,'fontSize')||DayPilot.gs($0Q,'font-size');$3a.style.left=$0Q.offsetLeft+'px';$3a.style.top=$0Q.offsetTop+'px';$3a.style.border='1px solid black';$3a.style.padding='0px';$3a.style.marginTop='0px';$3a.style.backgroundColor='white';$3a.value=DayPilot.tr($0Q.event.text());$3a.event=$0Q.event;$39.appendChild($3a);return $3a;};this.$53=function($0Q){if(DayPilotScheduler.editing){DayPilotScheduler.editing.blur();return;};var $3a=this.$73($0Q);DayPilotScheduler.editing=$3a;$3a.onblur=function(){var $3b=$0Q.event.text();var $0y=$3a.value;DayPilotScheduler.editing=null;if($3a.parentNode){$3a.parentNode.removeChild($3a);};if($3b===$0y){return;};$0Q.style.display='none';$b.$5H($0Q.event,$0y);};$3a.onkeypress=function(e){var $3c=(window.event)?event.keyCode:e.keyCode;if($3c===13){this.onblur();return false;}else if($3c===27){$3a.parentNode.removeChild($3a);DayPilotScheduler.editing=false;};return true;};$3a.select();$3a.focus();};this.$6f=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'){if($b.cellBubble){$b.cellBubble.hideOnMouseOut();};if($b.resourceBubble){var $0G={};$0G.calendar=$b;$0G.id=td.getAttribute("resource");$0G.toJSON=function(){var $0C={};$0C.id=this.id;return $0C;};$b.resourceBubble.showResource($0G);}};var $A=td.firstChild;if(!$A.active){DayPilot.Areas.showAreas($A,$b.rows[td.index]);}};this.$6g=function(ev){var td=this;if(typeof(DayPilotBubble)!=='undefined'&&$b.resourceBubble){$b.resourceBubble.hideOnMouseOut();};var $A=td.firstChild;DayPilot.Areas.hideAreas($A,ev);$A.data=null;};this.$4u=function(){var $1q=document.createElement("table");$1q.cellSpacing=0;$1q.cellPadding=0;if(!this.cssOnly){$1q.className=this.$4P("timeheader");};$1q.style.borderCollapse="collapse";if(!this.cssOnly){$1q.style.color=$b.headerFontColor;$1q.style.border="0px none";};for(var i=0;i<this.timeHeader.length-1;i++){var $2a=$1q.insertRow(-1);this.$74($2a,i);};var $2d=$1q.insertRow(-1);this.$75($2d);var $3d=this.divNorth;DayPilot.puc($3d);$3d.innerHTML='';$3d.appendChild($1q);$3d.style.width=(this.$4M()*this.cellWidth+5000)+"px";var $3e=this.divCorner;if(!this.cssOnly){$3e.style.backgroundColor=this.cornerBackColor;};$3e.innerHTML=this.cornerHTML;this.divStretch.style.width=(this.timeline.length*this.cellWidth)+"px";};this.$74=function($q,$0X){if(this.timeHeader){if(this.timeHeader.length-1<=$0X){throw "Not enough timeHeader rows";};for(var i=0;i<this.timeHeader[$0X].length;i++){var $N=this.timeHeader[$0X][i];if(!$N.toolTip){$N.toolTip=$N.innerHTML;};if(!this.cssOnly){if(!$N.backColor){$N.backColor=this.hourNameBackColor;}};if(!$N.colspan){$N.colspan=Math.ceil($N.width/(1.0*this.cellWidth));};$N.level=$0X;this.$76($q,$N);}}else{throw ".groupline is not used anymore";}};this.$4V=function($3f,$3g){var $t=null;var $3h=this.$6u.locale();var $3g=$3g||this.cellGroupBy;switch($3g){case 'Hour':$t=$3f.toString("H");break;case 'Day':$t=$3f.toString($3h.datePattern);break;case 'Week':$t=$0g.weekStarts()===1?$3f.weekNumberISO():$3f.weekNumber();break;case 'Month':$t=$3f.toString("MMMM yyyy",$3h);break;case 'Year':$t=$3f.toString("yyyy");break;case 'None':$t='';break;default:throw 'Invalid cellGroupBy value';};return $t;};this.$4T=function($I){var $14=this.cellDuration;if($14<60){return $I.toString("mm");}else if($14<1440){return DayPilot.Date.hours($I.d,$b.$6u.timeFormat()==='Clock12Hours');}else if($14<10080){return $I.toString("d");}else{return $I.weekNumberISO();}};this.$4U=function($3f,$3g){var $3i=this.viewType!=='Days'?this.days:1;var $Q=this.startDate.addDays($3i);var $3g=$3g||this.cellGroupBy;switch($3g){case 'Hour':to=$3f.addHours(1);break;case 'Day':to=$3f.addDays(1);break;case 'Week':to=$3f.addDays(1);while(to.dayOfWeek()!==$0g.weekStarts()){to=to.addDays(1);};break;case 'Month':to=$3f.addMonths(1);to=to.firstDayOfMonth();var $3j=(DayPilot.Date.diff(to.d,$3f.d)/(1000.0*60))%this.cellDuration===0;while(!$3j){to=to.addHours(1);$3j=(DayPilot.Date.diff(to.d,$3f.d)/(1000.0*60))%this.cellDuration===0;};break;case 'Year':to=$3f.addYears(1);to=to.firstDayOfYear();var $3j=(DayPilot.Date.diff(to.d,$3f.d)/(1000.0*60))%this.cellDuration===0;while(!$3j){to=to.addHours(1);$3j=(DayPilot.Date.diff(to.d,$3f.d)/(1000.0*60))%this.cellDuration===0;};break;case 'None':to=$Q;break;default:throw 'Invalid cellGroupBy value';};if(to.getTime()>$Q.getTime()){to=$Q;};return to;};this.$76=function($q,$N){var td=$q.insertCell(-1);td.colSpan=$N.colspan;td.setAttribute("unselectable","on");var $D=Math.max(0,this.headerHeight);if(!this.cssOnly){td.style.height=($D-1)+"px";td.style.textAlign="center";td.style.backgroundColor=$N.backColor;td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.border='0px none';td.style.borderBottom="1px solid "+this.borderColor;td.style.padding='0px';}else{td.style.height=($D)+"px";};td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';td.style.whiteSpace='nowrap';if($N.width){td.style.width=$N.width+"px";};if(!this.cssOnly){td.className=this.$4P('timeheadergroup');};td.oncontextmenu=function(){return false;};td.cell=$N;td.onclick=this.$6m;var $3k=null;var $A=document.createElement("div");$A.setAttribute("unselectable","on");if(!this.cssOnly){$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=($N.width-1)+"px";$A.style.height=($D-1)+"px";$3k=$A;}else{$A.className=this.$4P('_timeheadergroup');if($N.backColor){$A.style.backgroundColor=$N.backColor;};$A.style.position="relative";if($N.width){$A.style.width=($N.width)+"px";};$A.style.height=($D)+"px";var $B=document.createElement("div");$B.setAttribute("unselectable","on");$B.className=this.$4P("_timeheadergroup_inner");$A.appendChild($B);$3k=$B;};$A.style.overflow='hidden';$A.title=$N.toolTip;$3k.innerHTML=$N.innerHTML;td.appendChild($A);};this.$75=function($q){var $3l=this.$4M();var td=document.createElement("td");td.setAttribute("unselectable","on");if(!this.cssOnly){td.style.borderTop="0px none";td.style.borderBottom="0px none";td.style.borderLeft="0px none";td.style.borderRight="0px none";td.style.textAlign='center';td.style.fontFamily=this.hourFontFamily;td.style.fontSize=this.hourFontSize;td.style.color=this.headerFontColor;td.style.cursor='default';td.style.padding='0px';};td.style.width=this.cellWidth+"px";td.style.height=(this.headerHeight)+"px";td.style.overflow='hidden';td.style.KhtmlUserSelect='none';td.style.MozUserSelect='none';td.style.WebkitUserSelect='none';if(!this.cssOnly){td.className=this.$4P('timeheadercol');};var $A=document.createElement("div");$A.setAttribute("unselectable","on");$A.style.height=(this.headerHeight)+"px";$A.style.overflow='hidden';$A.style.position='relative';if(this.cssOnly){$A.style.width=(this.cellWidth)+"px";$A.className=this.$4P('_timeheadercol');}else{$A.style.borderRight="1px solid "+this.hourNameBorderColor;$A.style.width=(this.cellWidth-1)+"px";};var $B=document.createElement("div");$B.setAttribute("unselectable","on");if(this.cssOnly){$B.className=this.$4P("_timeheadercol_inner");};$A.appendChild($B);td.appendChild($A);var $0X=this.timeHeader.length-1;for(var i=0;i<$3l;i++){var $N;if(this.timeHeader){$N=this.timeHeader[$0X][i];if(!$N.backColor){if(!this.cssOnly){$N.backColor=this.hourNameBackColor;}};if(!$N.toolTip){$N.toolTip=$N.innerHTML;}}else{var c=this.timeline[i];var $t=this.$77(c.start);var $N={};$N.innerHTML=$t;$N.toolTip=$t;$N.start=c.start;$N.end=c.end;$N.type='Cell';$N.backColor=this.hourNameBackColor;var $3m=this.beforeTimeHeaderRender?this.beforeTimeHeaderRender($N):null;if($3m){$N=$3m;}};$N.level=$0X;var $3n=td.cloneNode(true);if(!this.cssOnly){$3n.style.backgroundColor=$N.backColor;}else{if($N.backColor){$3n.firstChild.style.backgroundColor=$N.backColor;}};$3n.firstChild.title=$N.toolTip;$3n.firstChild.firstChild.innerHTML=$N.innerHTML;$3n.oncontextmenu=function(){return false;};$3n.cell=$N;$3n.onclick=this.$6m;$q.appendChild($3n);}};this.$77=function($3f){var $t=null;if(this.cellDuration<60){$t=$3f.getMinutes();}else if(this.cellDuration<1440){$t=$3f.getHours();}else{$t=$3f.getDay();};return $t;};this.$5g=function(){for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];var $0r=$q.height()+$q.MarginBottom;if($q.Height!==$0r){this.rowsDirty=true;};$q.Height=$0r;}};this.$4x=function(){var $2p=this.divHeader;if(!$2p){return false;};var $0Y=this.rows.length;var $0N=this.rowHeaderCols?this.rowHeaderCols.length:1;var j=0;for(var i=0;i<$0Y;i++){var $q=this.rows[i];if($q.Hidden){continue;};for(var c=0;c<$2p.rows[j].cells.length;c++){var $3o=$2p.rows[j].cells[c];var $3p=$q.Height;if($3o&&$3o.firstChild&&parseInt($3o.firstChild.style.height,10)!==$3p){$3o.firstChild.style.height=$3p+"px";}};j++;}};this.$6L=function($0X){var s=this.separators[$0X];var $10=new DayPilot.Date(s.Location);var $3q=s.Color;var $P=s.Width?s.Width:1;var $3r=s.Layer?s.Layer==='AboveEvents':false;var $x=s.Opacity?s.Opacity:100;if($10.getTime()<this.startDate.getTime()){return;};if($10.getTime()>=this.startDate.addDays(this.days).getTime()){return;};var $p=this.getPixels($10);if($p.cut){return;};if($p.left<0){return;};if($p.left>this.$4M()*this.cellWidth){return;};var $O=document.createElement("div");$O.style.width=$P+'px';$O.style.height=$b.innerHeightTree+'px';$O.style.position='absolute';$O.style.left=$p.left+'px';$O.style.top='0px';$O.style.backgroundColor=$3q;$O.style.opacity=$x/100;$O.style.filter="alpha(opacity="+$x+")";if($3r){this.divSeparatorsAbove.appendChild($O);}else{this.divSeparators.appendChild($O);};this.elements.separators.push($O);};this.$6F=function(ev){if($b.timeRangeDoubleClickHandling==='Disabled'){return false;};if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};var $0x={};if(!$b.coords){var $2Z=$b.maind;$b.coords=DayPilot.mo3($2Z,ev);};ev=ev||window.event;if($b.$78($b.coords)){var $2Y=$b.$71(DayPilotScheduler.rangeHold);$b.$5A($2Y.start,$2Y.end,$2Y.resource);}else{DayPilotScheduler.range=$b.$6Z();var $2Y=$b.$71(DayPilotScheduler.range);$b.$5A($2Y.start,$2Y.end,$2Y.resource);};DayPilotScheduler.rangeHold=DayPilotScheduler.range;DayPilotScheduler.range=null;};this.$6C=function(ev){if($03.start){return;};if(DayPilotScheduler.timeRangeTimeout&&false){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;};$b.$6d();$b.$6e();if(!$b.coords){var $2Z=$b.maind;$b.coords=DayPilot.mo3($2Z,ev);};ev=ev||window.event;var $2W=ev.which||ev.button;if($2W===2||($2W===3&&$b.$78($b.coords))){return false;};if($b.timeRangeSelectedHandling==='Disabled'){return false;};DayPilotScheduler.range=$b.$6Z();return false;};this.$6Z=function(){var $0x={};$0x.start={y:$b.$5S($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};if(this.$66($b.$5S($b.coords.y).i)){return;};$0x.calendar=$b;$b.$70($0x);return $0x;};this.$6D=function(ev){if($03.active){return;};DayPilotScheduler.activeCalendar=$b;ev=ev||window.event;var $3s=DayPilot.mc(ev);$b.coords=DayPilot.mo3($b.maind,ev);if($04.start){if($04.originalMouse.x!==$3s.x||$04.originalMouse.y!==$3s.y){DayPilot.Util.copyProps($04,DayPilotScheduler);document.body.style.cursor='move';$04={};}};if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){DayPilotScheduler.resizingShadow=$b.$5Y(DayPilotScheduler.resizing,$b.shadow);};var $3t=DayPilotScheduler.resizing.event.calendar.cellWidth;var $3u=DayPilotScheduler.resizing.event.part.width;var $3v=DayPilotScheduler.resizing.event.part.left;var $3w=0;var $3x=($3s.x-DayPilotScheduler.originalMouse.x);if(DayPilotScheduler.resizing.dpBorder==='right'){var $3y;if($b.snapToGrid){$3y=Math.ceil((($3u+$3v+$3x))/$3t)*$3t-$3v;}else{$3y=$3u+$3x;};if($3y<$3t){$3y=$3t;};var $1i=$b.maind.clientWidth;if($3v+$3y>$1i){$3y=$1i-$3v;};DayPilotScheduler.resizingShadow.style.width=($3y)+'px';}else if(DayPilotScheduler.resizing.dpBorder==='left'){var $3z;if($b.snapToGrid){$3z=Math.floor((($3v+$3x)+0)/$3t)*$3t;}else{$3z=$3v+$3x-$3w+$3w;};if($3z<$3w){$3z=$3w;};var $3y=$3u-($3z-$3v);var $z=$3v+$3u;if($3y<$3t){$3y=$3t;$3z=$z-$3y;};DayPilotScheduler.resizingShadow.style.left=$3z+'px';DayPilotScheduler.resizingShadow.style.width=($3y)+'px';}}else if(DayPilotScheduler.moving){if(DayPilotScheduler.movingShadow&&DayPilotScheduler.movingShadow.calendar!==$b){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;};if(!DayPilotScheduler.movingShadow){var mv=DayPilotScheduler.moving;DayPilotScheduler.movingShadow=$b.$5Y(mv,$b.shadow);};DayPilotScheduler.moving.target=$b;$b.$68();}else if(DayPilotScheduler.range){var $0x=DayPilotScheduler.range;$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$70($0x);}else if($b.crosshairType!=='Disabled'){$b.$79();};var $3A=ev.insideEvent;if(window.event){$3A=window.event.srcElement.insideEvent;};if($b.cellBubble&&$b.coords&&$b.rows&&$b.rows.length>0&&!$3A){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.$5S($b.coords.y).i;if(y<$b.rows.length){var $N={};$N.calendar=$b;$N.start=$b.timeline[x].start;$N.end=$b.timeline[x].end;$N.resource=$b.rows[y].Value;$N.toJSON=function(){var $0C={};$0C.start=this.start;$0C.end=this.end;$0C.resource=this.resource;return $0C;};$b.cellBubble.showCell($N);}};if(DayPilotScheduler.drag){$b.$6d();if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);};DayPilotScheduler.gShadow=null;if(!DayPilotScheduler.movingShadow&&$b.coords&&$b.rows.length>0){if(!DayPilotScheduler.moving){DayPilotScheduler.moving={};var event=DayPilotScheduler.drag.event;if(!event){var $3B=new DayPilot.Date().getDatePart();var ev={'value':DayPilotScheduler.drag.id,'start':$3B,'end':$3B.addSeconds(DayPilotScheduler.drag.duration),'text':DayPilotScheduler.drag.text};event=new DayPilot.Event(ev);event.calendar=$b;};DayPilotScheduler.moving.event=event;};DayPilotScheduler.movingShadow=$b.$5Y(DayPilotScheduler.moving,DayPilotScheduler.drag.shadowType);};ev.cancelBubble=true;};if($b.autoScroll==="Always"||($b.autoScroll==="Drag"&&(DayPilotScheduler.moving||DayPilotScheduler.resizing||DayPilotScheduler.range))){var $3C=$b.nav.scroll;var $0S={x:$b.coords.x,y:$b.coords.y};$0S.x-=$3C.scrollLeft;$0S.y-=$3C.scrollTop;var $P=$3C.clientWidth;var $D=$3C.clientHeight;var $1w=20;var $y=$0S.x<$1w;var $z=$P-$0S.x<$1w;var top=$0S.y<$1w;var $0W=$D-$0S.y<$1w;var x=0;var y=0;if($y){x=-5;};if($z){x=5;};if(top){y=-5;};if($0W){y=5;};if(x||y){$b.$7a(x,y);}else{$b.$6e();}}};this.$79=function(){if($b.coords&&$b.rows&&$b.rows.length>0){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.$5S($b.coords.y).i;if(y<$b.rows.length){$b.$7b(x,y);}}};this.$6d=function(){this.divCrosshair.innerHTML='';this.crosshairVertical=null;this.crosshairHorizontal=null;if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};this.crosshairLastX=-1;this.crosshairLastY=-1;};this.$7b=function(x,y){var $0d=this.crosshairType;var $q=this.$60(y);if($0d==='Full'){var $y=x*this.cellWidth;var $O=this.crosshairVertical;if(!$O){var $O=document.createElement("div");$O.style.width=this.cellWidth+'px';$O.style.height=$b.innerHeightTree+'px';$O.style.position='absolute';$O.style.top='0px';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairVertical=$O;this.divCrosshair.appendChild($O);};$O.style.left=$y+'px';var top=$q.top;var $D=$q.height;var $P=this.$4M()*this.cellWidth;var $O=this.crosshairHorizontal;if(!$O){var $O=document.createElement("div");$O.style.width=$P+'px';$O.style.height=$D+'px';$O.style.position='absolute';$O.style.top=top+'px';$O.style.left='0px';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairHorizontal=$O;this.divCrosshair.appendChild($O);};$O.style.top=top+'px';$O.style.height=$D+'px';};if(this.crosshairLastX!==x){if(this.crosshairTop&&this.crosshairTop.parentNode){this.crosshairTop.parentNode.removeChild(this.crosshairTop);this.crosshairTop=null;};var $O=document.createElement("div");$O.style.width=this.cellWidth+"px";$O.style.height=this.headerHeight+"px";$O.style.left='0px';$O.style.top='0px';$O.style.position='absolute';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairTop=$O;var $3d=this.divNorth;var $3D=this.timeHeader?this.timeHeader.length-1:1;if($3d.firstChild.rows[$3D].cells[x]){$3d.firstChild.rows[$3D].cells[x].firstChild.appendChild($O);}};if(this.crosshairLastY!==y){if(this.crosshairLeft){for(var i=0;i<this.crosshairLeft.length;i++){var ch=this.crosshairLeft[i];if(ch.parentNode){ch.parentNode.removeChild(ch);}};this.crosshairLeft=null;};var $0N=this.rowHeaderCols?this.rowHeaderCols.length:1;this.crosshairLeft=[];for(var i=0;i<this.divHeader.rows[$q.i].cells.length;i++){var $P=this.divHeader.rows[$q.i].cells[i].clientWidth;var $O=document.createElement("div");$O.style.width=$P+"px";$O.style.height=$q.height+"px";$O.style.left='0px';$O.style.top='0px';$O.style.position='absolute';$O.style.backgroundColor=this.crosshairColor;$O.style.opacity=this.crosshairOpacity/100;$O.style.filter="alpha(opacity="+this.crosshairOpacity+")";this.crosshairLeft.push($O);this.divHeader.rows[$q.i].cells[i].firstChild.appendChild($O);}};this.crosshairLastX=x;this.crosshairLastY=y;};this.$6E=function(ev){ev=ev||window.event;if($b.timeRangeSelectedHandling==='Disabled'){return false;};if(!$b.$78($b.coords)){$b.$7c(ev);};if($b.contextMenuSelection){var $3E=$b.$71(DayPilotScheduler.rangeHold);$b.contextMenuSelection.show($3E);};ev.cancelBubble=true;if(!$b.allowDefaultContextMenu){return false;}};this.$78=function($0S){var $0x=DayPilotScheduler.rangeHold;if(!$0x||!$0x.start||!$0x.end){return false;};var $q=this.$60($0x.start.y);var $3F=$0x.start.x<$0x.end.x;var $3G=($3F?$0x.start.x:$0x.end.x)*this.cellWidth;var $3H=($3F?$0x.end.x:$0x.start.x)*this.cellWidth+this.cellWidth;var $3I=$q.top;var $3J=$q.bottom;if($0S.x>=$3G&&$0S.x<=$3H&&$0S.y>=$3I&&$0S.y<=$3J){return true;};return false;};this.$70=function($0x){var $0x=$0x||DayPilotScheduler.range;var $37=$0x.end.x>$0x.start.x?$0x.start.x:$0x.end.x;var $38=($0x.end.x>$0x.start.x?$0x.end.x:$0x.start.x)+1;this.$4H();for(var x=$37;x<$38;x++){this.$7d(x,$0x.start.y);}};this.$7c=function(ev){if($b.timeRangeSelectedHandling==='Disabled'){return false;};ev=ev||window.event;var $2W=ev.which||ev.button;if(DayPilotScheduler.range){return;};if(DayPilotScheduler.rangeHold&&$b.$78($b.coords)&&($2W===3||$2W===2)){return;};var $0x={};$0x.start={y:$b.$5S($b.coords.y).i,x:Math.floor($b.coords.x/$b.cellWidth)};$0x.end={x:Math.floor($b.coords.x/$b.cellWidth)};$b.$70($0x);var $2Y=$b.$71($0x);$b.$5z($2Y.start,$2Y.end,$2Y.resource);DayPilotScheduler.rangeHold=$0x;};this.$6K=function(ev){if($b.dynamicLoading){$b.$7e();return;};var $3K=$b.nav.scroll;$b.scrollPos=$3K.scrollLeft;$b.scrollTop=$3K.scrollTop;$b.scrollWidth=$3K.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};$b.refreshTimeout=window.setTimeout($b.$7f(),50);$b.onScrollCalled=true;};this.show=function(){$b.nav.top.style.display='';this.$5X();var f=$b.$7f();f();};this.hide=function(){$b.nav.top.style.display='none';};this.$7e=function(){var $3K=$b.nav.scroll;$b.scrollPos=$3K.scrollLeft;$b.scrollTop=$3K.scrollTop;$b.scrollWidth=$3K.clientWidth;$b.divTimeScroll.scrollLeft=$b.scrollPos;$b.divResScroll.scrollTop=$b.scrollTop;if($b.refreshTimeout){window.clearTimeout($b.refreshTimeout);};var $u=$b.scrollDelay||500;$b.refreshTimeout=window.setTimeout($b.$7g($3K.scrollLeft,$3K.scrollTop),$u);};this.$7g=function(scrollX,scrollY){if($b.$4K()){return function(){if(typeof $b.onScroll==='function'){$b.$4D();var $3L=function($0j){var $h=$b.$4s($0j,true);$b.$4G($h,true);$b.$4D();$b.$4z();};var $0F=$b.$5O(scrollX,scrollY);var $0x=$b.$5P($0F);var $0G=$b.$5Q($0F);var $n={};$n.viewport={};$n.viewport.start=$0x.start;$n.viewport.end=$0x.end;$n.viewport.resources=$0G;$n.async=false;$n.events=[];$n.loaded=function(){if(this.async){$3L(this.events);}};$b.onScroll($n);if(!$n.async){$3L($0j);}}};}else{return function(){$b.scrollX=scrollX;$b.scrollY=scrollY;$b.$51('Scroll');};}};this.$7f=function(){return function(){$b.$4I();$b.$4D();$b.refreshTimeout=window.setTimeout($b.$7h(),200);};};this.$7h=function(){var $0s=true;var $3M=$b.dynamicEventRenderingCacheSweeping;var $3N=$b.dynamicEventRenderingCacheSize;return function(){if($b.$6Q()){$b.$5L();window.setTimeout(function(){if($3M)$b.$6O($3N);window.setTimeout(function(){$b.$4F($0s);},50);},50);}};};this.$7i=function(){var $0F=this.$7j();var $3O=$0F.xStart;var $3P=$0F.xEnd-$0F.xStart;var $3Q=$0F.yStart;var $3R=$0F.yEnd-$0F.yStart;if(typeof this.onBeforeCellRender==='function'){if(!this.cellProperties){this.cellProperties=[];}};this.elements.cells=[];this.elements.linesVertical=[];for(var i=0;i<$3P;i++){var x=$3O+i;for(var j=0;j<$3R;j++){var y=$3Q+j;if(!this.rows[y].Hidden){this.$7k(x,y);}};this.$7l(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$7m(y);}}};this.$4D=function(){if(this.rows!==null&&this.rows.length>0){var $3S=typeof this.onBeforeCellRender==='function';var $3T=this.cellConfig&&!this.cellConfig.vertical;if($3T||this.hasChildren||$3S){this.$7i();}else{this.$7n();};this.$7o();};var $P=this.$4M()*this.cellWidth;this.maind.style.height=this.innerHeightTree+"px";this.maind.style.width=$P+"px";this.rowsDirty=false;};this.$7o=function(){this.elements.cells=[];var $0F=this.$7j();for(var x=$0F.xStart;x<$0F.xEnd;x++){var $3U=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;if($3U){this.$7p(x);}}};this.$7p=function(x){var $0X="x"+x;if(this.cache.breaks[$0X]){return;};var $y=x*this.cellWidth+this.cellWidth-1;var $D=this.innerHeightTree;var $O=document.createElement("div");$O.style.left=$y+"px";$O.style.top="0px";$O.style.width="1px";$O.style.height=$D+"px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4P("_matrix_vertical_break");}else{$O.style.backgroundColor=this.timeBreakColor;};this.divBreaks.appendChild($O);this.elements.breaks.push($O);this.cache.breaks[$0X]='1';};this.$7j=function(){var $3V=30;var $0F={};var $3W=Math.floor(this.scrollPos/this.cellWidth);var $3X=Math.ceil(this.scrollWidth/this.cellWidth)+1;var $1p=this.$4M();var $I=$3W-$3V;var end=$I+2*$3V+$3X;end=Math.min(end,$1p);$I=Math.max($I,0);var $3Q=this.$5S(this.nav.scroll.scrollTop).i;var $3Y=this.$5S(this.nav.scroll.scrollTop+this.nav.scroll.offsetHeight).i;if($3Y<this.rows.length){$3Y++;};var $3R=$3Y-$3Q;$0F.xStart=$I;$0F.xEnd=end;$0F.yStart=$3Q;$0F.yEnd=$3Y;return $0F;};this.$7n=function(){var $0F=this.$7j();var $I=$0F.xStart;var end=$0F.xEnd;this.elements.cells=[];this.elements.linesVertical=[];for(var x=$I;x<end;x++){this.$7q(x);this.$7l(x);};for(var y=0;y<this.rows.length;y++){if(!this.rows[y].Hidden){this.$7m(y);}}};this.$7m=function(y){var $0X="y"+y;if(this.cache.cells[$0X]){return;};var top=this.rows[y].Top+this.rows[y].Height-1;var $P=this.$4M()*this.cellWidth;var $O=document.createElement("div");$O.style.left="0px";$O.style.top=top+"px";$O.style.width=$P+"px";$O.style.height="1px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';if(!this.cssOnly){$O.style.backgroundColor=this.cellBorderColor;};$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4P("_matrix_horizontal_line");};this.divLines.appendChild($O);this.elements.cells.push($O);this.cache.cells[$0X]='1';};this.$7l=function(x){var $0X="x"+x;if(this.cache.linesVertical[$0X]){return;};var $y=(x+1)*this.cellWidth-1;var $O=document.createElement("div");$O.style.left=$y+"px";$O.style.top="0px";$O.style.width="1px";$O.style.height=$b.innerHeightTree+"px";$O.style.fontSize='1px';$O.style.lineHeight='1px';$O.style.overflow='hidden';$O.style.position='absolute';if(!this.cssOnly){$O.style.backgroundColor=this.cellBorderColor;};$O.setAttribute("unselectable","on");if(this.cssOnly){$O.className=this.$4P("_matrix_vertical_line");};this.divLines.appendChild($O);this.elements.linesVertical.push($O);this.cache.linesVertical[$0X]='1';};this.$7q=function(x){var $0X="x"+x;var $D=this.innerHeightTree;if(this.cache.cells[$0X]){return;};var $3q=this.$7r(x,0);var $3U=(x<this.timeline.length-1)?this.timeline[x+1].breakBefore:false;var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top="0px";$N.style.width=(this.cellWidth)+"px";$N.style.height=$D+"px";$N.style.position='absolute';$N.style.backgroundColor=$3q;$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4P('_cellcolumn'):this.$4P('cellbackground');$N.onclick=this.$7c;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0X]='1';};this.$6k=function($0X){var $q=this.rows[$0X];var $3Z=!$q.Expanded;this.rows[$0X].Expanded=$3Z;var $0i=this.$7s($0X,$q.Expanded);if(!$3Z){for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5s(ri);}};this.$4w();this.$4t();this.$4z();this.$4A();this.$4D();if($3Z){for(var i=0;i<$0i.length;i++){var ri=$0i[i];this.$5t(ri);}};this.$5u();this.$4I();var r=this.$6l($q,$0X);if($3Z){this.$5G(r);}else{this.$5F(r);}};this.$6j=function(i){var $09={};$09.index=i;if(typeof this.onLoadNode==='function'){var $n={};var $0w=this.rows[i].Resource;$n.resource=$0w;$n.async=false;$n.loaded=function(){if(this.async){$0w.dynamicChildren=false;$0w.expanded=true;$b.update();}};this.onLoadNode($n);if(!$n.async){$0w.dynamicChildren=false;$0w.expanded=true;this.update();}}else{this.$51('LoadNode',$09);}};this.$7s=function(i,$40){var $q=this.rows[i];var $41=[];if($q.Children===null||$q.Children.length===0){return $41;};for(var k=0;k<$q.Children.length;k++){var $0X=$q.Children[k];this.rows[$0X].Hidden=$40?!$q.Expanded:true;if($40===!this.rows[$0X].Hidden){$41.push($0X);};var $42=this.$7s($0X,$40);if($42.length>0){$41=$41.concat($42);}};return $41;};this.$7a=function($43,$44){this.$6e();this.$7t($43,$44);};this.$7u=function($2v){if(!$2v){return false;};var $F=this.nav.scroll.scrollWidth;var $I=this.nav.scroll.scrollLeft;var $P=this.nav.scroll.clientWidth;var $z=$I+$P;if($2v<0&&$I<=0){return false;};if($2v>0&&$z>=$F){return false;};this.nav.scroll.scrollLeft+=$2v;return true;};this.$7v=function($2v){if(!$2v){return false;};var $F=this.nav.scroll.scrollHeight;var $I=this.nav.scroll.scrollTop;var $D=this.nav.scroll.clientHeight;var $0W=$I+$D;if($2v<0&&$I<=0){return false;};if($2v>0&&$0W>=$F){return false;};this.nav.scroll.scrollTop+=$2v;return true;};this.$7t=function($43,$44){var $45=this.$7u($43)||this.$7v($44);if(!$45){return;};var $46=function($43,$44){return function(){$b.$7t($43,$44);};};this.scrolling=window.setTimeout($46($43,$44),100);};this.$6e=function(){if(this.scrolling){window.clearTimeout(this.scrolling);this.scrolling=null;}};this.$4w=function(){var top=0;for(var i=0;i<this.rows.length;i++){var $q=this.rows[i];if(!$q.Hidden){$q.Top=top;top+=$q.Height;}};this.innerHeightTree=top;};this.$4A=function(){this.elements.cells=[];this.elements.linesVertical=[];this.elements.breaks=[];this.cache.cells=[];this.cache.linesVertical=[];this.cache.breaks=[];this.divCells.innerHTML='';this.divLines.innerHTML='';this.divBreaks.innerHTML='';};this.$7k=function(x,y){var $0X=x+'_'+y;if(this.cache.cells[$0X]){return;};if(typeof this.onBeforeCellRender==='function'){var $q=$b.rows[y];var $0w=$q.Value;var $1c=$q.Start.getTime()-this.startDate.getTime();var $I=this.timeline[x].start.addTime($1c);var $N={};$N.resource=$0w;$N.start=$I;$N.end=$I.addMinutes(this.cellDuration);$N.cssClass=null;$N.html=null;$N.backImage=null;$N.backRepeat=null;$N.backColor=null;var $n={};$n.cell=$N;this.onBeforeCellRender($n);this.cellProperties[$0X]=$N;};var $3q=this.$7r(x,y);var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth)+"px";$N.style.height=(this.rows[y].Height)+"px";$N.style.position='absolute';if($3q){$N.style.backgroundColor=$3q;};$N.setAttribute("unselectable","on");$N.className=this.cssOnly?this.$4P('_cell'):this.$4P('cellbackground');if(this.cssOnly&&this.$67(y)){DayPilot.Util.addClass($N,this.$4P("_cellparent"));};if(this.cellProperties&&this.cellProperties[$0X]){var p=this.cellProperties[$0X];if(p.cssClass){if(this.cssOnly){DayPilot.Util.addClass($N,p.cssClass);}else{DayPilot.Util.addClass($N,$b.$4P(p.cssClass));}};if(p.html){$N.innerHTML=p.html;};if(p.backImage){$N.style.backgroundImage=p.backImage;};if(p.backRepeat){$N.style.backgroundRepeat=p.backRepeat;}};$N.onclick=this.$7c;this.divCells.appendChild($N);this.elements.cells.push($N);this.cache.cells[$0X]='1';};this.$7d=function(x,y){var $N=document.createElement("div");$N.style.left=(x*this.cellWidth)+"px";$N.style.top=this.rows[y].Top+"px";$N.style.width=(this.cellWidth-1)+"px";$N.style.height=(this.rows[y].Height-1)+"px";$N.style.position='absolute';$N.style.backgroundColor=$b.cellSelectColor;$N.setAttribute("unselectable","on");this.divRange.appendChild($N);this.elements.range.push($N);};this.clearSelection=function(){this.$4H();};this.cleanSelection=this.clearSelection;this.$4H=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>';this.elements.range=[];DayPilotScheduler.rangeHold=null;};this.$6u={};var $0g=this.$6u;$0g.locale=function(){return DayPilot.Locale.find($b.locale);};$0g.timeFormat=function(){if($b.timeFormat!=='Auto'){return $b.timeFormat;};return $0g.locale().timeFormat;};$0g.weekStarts=function(){if($b.weekStarts==='Auto'){var $3h=$0g.locale();if($3h){return $3h.weekStarts;}else{return 0;}}else{return $b.weekStarts;}};$0g.rounded=function(){return $b.eventCorners==='Rounded';};$0g.layout=function(){var $47=/MSIE 6/i.test(navigator.userAgent);if($b.layout==='Auto'){if($47){return 'TableBased';}else{return 'DivBased';}};return $b.layout;};$0g.notifyType=function(){var $0d;if($b.notifyCommit==='Immediate'){$0d="Notify";}else if($b.notifyCommit==='Queue'){$0d="Queue";}else{throw "Invalid notifyCommit value: "+$b.notifyCommit;};return $0d;};$0g.isResourcesView=function(){return $b.viewType!=='Days';};$0g.useBox=function($48){if($b.useEventBoxes==='Always'){return true;};if($b.useEventBoxes==='Never'){return false;};return $48<$b.cellDuration*60*1000;};this.$7r=function(x,y){var $0X=x+'_'+y;if(this.cellProperties&&this.cellProperties[$0X]){return this.cellProperties[$0X].backColor;};return null;};this.isBusiness=function($N){if($N.start.dayOfWeek()===0||$N.start.dayOfWeek()===6){return false;};if(this.cellDuration<720){if($N.start.getHours()<this.businessBeginsHour||$N.start.getHours()>=this.businessEndsHour){return false;}else{return true;}};return true;};this.$4v=function(){if(this.nav.top.style.visibility==='hidden'){this.nav.top.style.visibility='visible';}};this.$7w=function($p){if(this.heightSpec!=="Parent100Pct"){this.heightSpec="Fixed";};this.height=$p-(this.$4N()+2);this.$4z();};this.$4L=function(id){for(var i=0;i<this.rows.length;i++){if(this.rows[i].Value===id){return this.rows[i];}};return null;};this.$7x=function(){this.$6G();this.$4q();this.$6t();this.$5X();this.$6I();this.$5W();DayPilotScheduler.register(this);this.$4m(null,false);this.$6J();this.$4J();this.$51('Init');};this.init=function(){this.nav.top=document.getElementById(id);if(this.nav.top.dp){return;};var $49=this.$61();var $4a=this.events.list!==null;if($49){this.$7x();return;};this.$6G();this.$4n();this.$4o();this.$4q();this.$4r();this.$6t();this.$5X();this.$4p();this.$4u();this.$5L();if($4a){this.$4s();}else{this.events.list=[];};this.$4w();this.$4t();this.$4z();this.$4E();this.$4v();this.$6I();this.$5W();DayPilotScheduler.register(this);this.$4m(null,false);this.$6J();this.$4l();if($b.scrollToDate){$b.scrollTo($b.scrollToDate);}else{$b.setScroll($b.scrollX,$b.scrollY);};if(!$b.onScrollCalled){$b.$6K();};var $4b=function(){if($b.scrollY){$b.setScroll($b.scrollX,$b.scrollY);}};window.setTimeout($4b,200);if(this.messageHTML){var $4c=function($11){return function(){$b.message($11);};};window.setTimeout($4c(this.messageHTML),100);};this.$4J();};this.temp={};this.temp.getPosition=function(){var x=Math.floor($b.coords.x/$b.cellWidth);var y=$b.$5S($b.coords.y).i;if(y<$b.rows.length){var $N={};$N.start=$b.timeline[x].start;$N.end=$b.timeline[x].end;$N.resource=$b.rows[y].Value;return $N;}else{return null;}};this.internal={};this.internal.invokeEvent=this.$5a;this.internal.eventMenuClick=this.$5y;this.internal.timeRangeMenuClick=this.$5B;this.internal.resourceHeaderMenuClick=this.$5C;this.internal.bubbleCallBack=this.$5w;this.internal.findEventDiv=this.$6V;this.Init=this.init;};DayPilotScheduler.moving=null;DayPilotScheduler.originalMouse=null;DayPilotScheduler.resizing=null;DayPilotScheduler.globalHandlers=false;DayPilotScheduler.timeRangeTimeout=null;DayPilotScheduler.selectedCells=null;DayPilotScheduler.dragStart=function(element,$14,id,$1y,$0d){DayPilot.us(element);var $4d=DayPilotScheduler.drag={};$4d.element=element;$4d.duration=$14;$4d.text=$1y;$4d.id=id;$4d.shadowType=$0d?$0d:'Fill';return false;};DayPilotScheduler.dragStop=function(){if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.drag=null;};DayPilotScheduler.register=function($b){if(!DayPilotScheduler.registered){DayPilotScheduler.registered=[];};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i]===$b){return;}};DayPilotScheduler.registered.push($b);};DayPilotScheduler.unregister=function($b){var a=DayPilotScheduler.registered;if(a){var i=DayPilot.indexOf(a,$b);if(i!==-1){a.splice(i,1);};if(a.length===0){a=null;}};if(!a){DayPilot.ue(document,'mousemove',DayPilotScheduler.gMouseMove);DayPilot.ue(document,'mouseup',DayPilotScheduler.gMouseUp);DayPilot.ue(window,'unload',DayPilotScheduler.gUnload);DayPilotScheduler.globalHandlers=false;}};DayPilotScheduler.gMouseMove=function(ev){if(typeof(DayPilotScheduler)==='undefined'){return;};ev=ev||window.event;if(ev.insideMainD){return;}else if(ev.srcElement){if(ev.srcElement.inside){return;}};var $3s=DayPilot.mc(ev);if(DayPilotScheduler.drag){document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow(DayPilotScheduler.drag.shadowType);};var $0T=DayPilotScheduler.gShadow;$0T.style.left=$3s.x+'px';$0T.style.top=$3s.y+'px';DayPilotScheduler.moving=null;if(DayPilotScheduler.movingShadow){DayPilotScheduler.movingShadow.calendar=null;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow=null;}}else if(DayPilotScheduler.moving&&DayPilotScheduler.moving.event.calendar.dragOutAllowed&&!DayPilotScheduler.drag){var $4e=DayPilotScheduler.moving.event.calendar;var ev=DayPilotScheduler.moving.event;DayPilotScheduler.moving.target=null;document.body.style.cursor='move';if(!DayPilotScheduler.gShadow){DayPilotScheduler.gShadow=DayPilotScheduler.createGShadow($4e.shadow);};var $0T=DayPilotScheduler.gShadow;$0T.style.left=$3s.x+'px';$0T.style.top=$3s.y+'px';DayPilotScheduler.drag={};var $4d=DayPilotScheduler.drag;$4d.element=null;$4d.duration=(ev.end().getTime()-ev.start().getTime())/1000;$4d.text=ev.text();$4d.id=ev.value();$4d.shadowType=$4e.shadow;$4d.event=ev;DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;DayPilotScheduler.movingShadow=null;};for(var i=0;i<DayPilotScheduler.registered.length;i++){if(DayPilotScheduler.registered[i].$6B){DayPilotScheduler.registered[i].$6B();}}};DayPilotScheduler.gUnload=function(ev){if(!DayPilotScheduler.registered){return;};for(var i=0;i<DayPilotScheduler.registered.length;i++){var c=DayPilotScheduler.registered[i];c.dispose();DayPilotScheduler.unregister(c);}};DayPilotScheduler.gMouseUp=function(ev){if(DayPilotScheduler.resizing){if(!DayPilotScheduler.resizingShadow){document.body.style.cursor='default';DayPilotScheduler.resizing=null;return;};var e=DayPilotScheduler.resizing.event;var $b=e.calendar;var $4f=DayPilotScheduler.resizingShadow.clientWidth;var $4g=DayPilotScheduler.resizingShadow.offsetLeft;var $1w=DayPilotScheduler.resizing.dpBorder;var $q=$b.rows[DayPilotScheduler.resizing.event.part.dayIndex];var $1c=$q.Start.getTime()-$b.startDate.getTime();var $0b=null;var $0c=null;if($1w==='left'){$0b=$b.getDate($4g).addTime($1c);$0c=e.end();}else if($1w==='right'){$0b=e.start();$0c=$b.getDate($4g+$4f,false,true).addTime($1c);};DayPilot.de(DayPilotScheduler.resizingShadow);DayPilotScheduler.resizing=null;DayPilotScheduler.resizingShadow=null;document.body.style.cursor='default';$b.$5b(e,$0b,$0c);}else if(DayPilotScheduler.moving){if(!DayPilotScheduler.movingShadow){document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var e=DayPilotScheduler.moving.event;var $b=DayPilotScheduler.moving.target;if(!$b){DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;return;};var $0b=DayPilotScheduler.movingShadow.start;var $0c=DayPilotScheduler.movingShadow.end;var $0e=($b.viewType!=='Days')?DayPilotScheduler.movingShadow.row.Value:null;var external=DayPilotScheduler.drag?true:false;var $O=DayPilotScheduler.movingShadow.line;if(DayPilotScheduler.drag){if(!$b.todo){$b.todo={};};$b.todo.del=DayPilotScheduler.drag.element;DayPilotScheduler.drag=null;};DayPilot.de(DayPilotScheduler.movingShadow);DayPilotScheduler.movingShadow.calendar=null;document.body.style.cursor='default';DayPilotScheduler.moving=null;DayPilotScheduler.movingShadow=null;var ev=ev||window.event;$b.$5v(e,$0b,$0c,$0e,external,ev,$O);}else if(DayPilotScheduler.range){ev=ev||window.event;var $2W=ev.which||ev.button;var $0x=DayPilotScheduler.range;var $b=$0x.calendar;if(DayPilotScheduler.timeRangeTimeout){clearTimeout(DayPilotScheduler.timeRangeTimeout);DayPilotScheduler.timeRangeTimeout=null;$b.$6F(ev);return;};DayPilotScheduler.rangeHold=$0x;DayPilotScheduler.range=null;var $46=function($2Y){return function(){DayPilotScheduler.timeRangeTimeout=null;$b.$5z($2Y.start,$2Y.end,$2Y.resource);if($b.timeRangeSelectedHandling!=="Hold"&&$b.timeRangeSelectedHandling!=="HoldForever"){$a();}else{DayPilotScheduler.rangeHold=$0x;}};};var $2Y=$b.$71($0x);if($2W!==1){DayPilotScheduler.timeRangeTimeout=null;return;};if($b.timeRangeDoubleClickHandling==='Disabled'){$46($2Y)();var ev=ev||window.event;ev.cancelBubble=true;return false;}else{DayPilotScheduler.timeRangeTimeout=setTimeout($46($2Y),300);}};if(DayPilotScheduler.drag){DayPilotScheduler.drag=null;document.body.style.cursor=null;};if(DayPilotScheduler.gShadow){document.body.removeChild(DayPilotScheduler.gShadow);DayPilotScheduler.gShadow=null;};DayPilotScheduler.moveOffsetX=null;DayPilotScheduler.moveDragStart=null;};DayPilotScheduler.createGShadow=function($0d){var $0T=document.createElement('div');$0T.setAttribute('unselectable','on');$0T.style.position='absolute';$0T.style.width='100px';$0T.style.height='20px';$0T.style.border='2px dotted #666666';$0T.style.zIndex=101;if($0d==='Fill'){$0T.style.backgroundColor="#aaaaaa";$0T.style.opacity=0.5;$0T.style.filter="alpha(opacity=50)";$0T.style.border='2px solid #aaaaaa';};document.body.appendChild($0T);return $0T;};DayPilot.SchedulerVisible.dragStart=DayPilotScheduler.dragStart;DayPilot.SchedulerVisible.dragStop=DayPilotScheduler.dragStop;DayPilot.SchedulerVisible.Scheduler=DayPilotScheduler.Scheduler;DayPilot.SchedulerVisible.globalHandlers=DayPilotScheduler.globalHandlers;if(typeof jQuery!=='undefined'){(function($){$.fn.daypilotScheduler=function($4h){var $4i=null;var j=this.each(function(){if(this.daypilot){return;};var $4j=new DayPilot.Scheduler(this.id);this.daypilot=$4j;for(var name in $4h){$4j[name]=$4h[name];};$4j.Init();if(!$4i){$4i=$4j;}});if(this.length===1){return $4i;}else{return j;}};})(jQuery);};if(typeof Sys!=='undefined'&&Sys.Application&&Sys.Application.notifyScriptLoaded){Sys.Application.notifyScriptLoaded();}})();

